var u3=Object.defineProperty;var c3=(r,a,l)=>a in r?u3(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l;var rl=(r,a,l)=>c3(r,typeof a!="symbol"?a+"":a,l);import{r as V2,g as z2,a as f3,c as Zu}from"./react-Csw2ODfV.js";import{i as h3,g as d3,a as g3,c as l0,d as yh,b as m3,e as j2,s as x3,f as p3}from"./firebase-DT0UmZke.js";function y3(r,a){for(var l=0;l<a.length;l++){const h=a[l];if(typeof h!="string"&&!Array.isArray(h)){for(const m in h)if(m!=="default"&&!(m in r)){const p=Object.getOwnPropertyDescriptor(h,m);p&&Object.defineProperty(r,m,p.get?p:{enumerable:!0,get:()=>h[m]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))h(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const E of p.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&h(E)}).observe(document,{childList:!0,subtree:!0});function l(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function h(m){if(m.ep)return;m.ep=!0;const p=l(m);fetch(m.href,p)}})();var Ah={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function A3(){if(Hg)return al;Hg=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(h,m,p){var E=null;if(p!==void 0&&(E=""+p),m.key!==void 0&&(E=""+m.key),"key"in m){p={};for(var S in m)S!=="key"&&(p[S]=m[S])}else p=m;return m=p.ref,{$$typeof:r,type:h,key:E,ref:m!==void 0?m:null,props:p}}return al.Fragment=a,al.jsx=l,al.jsxs=l,al}var Gg;function w3(){return Gg||(Gg=1,Ah.exports=A3()),Ah.exports}var Z=w3(),W=V2();const _r=z2(W);var wh={exports:{}},sl={},Eh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function E3(){return Yg||(Yg=1,function(r){function a(at,st){var vt=at.length;at.push(st);t:for(;0<vt;){var Gt=vt-1>>>1,Yt=at[Gt];if(0<m(Yt,st))at[Gt]=st,at[vt]=Yt,vt=Gt;else break t}}function l(at){return at.length===0?null:at[0]}function h(at){if(at.length===0)return null;var st=at[0],vt=at.pop();if(vt!==st){at[0]=vt;t:for(var Gt=0,Yt=at.length,yn=Yt>>>1;Gt<yn;){var zt=2*(Gt+1)-1,Qt=at[zt],ie=zt+1,Yn=at[ie];if(0>m(Qt,vt))ie<Yt&&0>m(Yn,Qt)?(at[Gt]=Yn,at[ie]=vt,Gt=ie):(at[Gt]=Qt,at[zt]=vt,Gt=zt);else if(ie<Yt&&0>m(Yn,vt))at[Gt]=Yn,at[ie]=vt,Gt=ie;else break t}}return st}function m(at,st){var vt=at.sortIndex-st.sortIndex;return vt!==0?vt:at.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var E=Date,S=E.now();r.unstable_now=function(){return E.now()-S}}var b=[],C=[],v=1,I=null,L=3,U=!1,z=!1,X=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function xt(at){for(var st=l(C);st!==null;){if(st.callback===null)h(C);else if(st.startTime<=at)h(C),st.sortIndex=st.expirationTime,a(b,st);else break;st=l(C)}}function At(at){if(X=!1,xt(at),!z)if(l(b)!==null)z=!0,wt||(wt=!0,Tt());else{var st=l(C);st!==null&&rt(At,st.startTime-at)}}var wt=!1,ut=-1,pt=5,lt=-1;function ae(){return H?!0:!(r.unstable_now()-lt<pt)}function ue(){if(H=!1,wt){var at=r.unstable_now();lt=at;var st=!0;try{t:{z=!1,X&&(X=!1,nt(ut),ut=-1),U=!0;var vt=L;try{e:{for(xt(at),I=l(b);I!==null&&!(I.expirationTime>at&&ae());){var Gt=I.callback;if(typeof Gt=="function"){I.callback=null,L=I.priorityLevel;var Yt=Gt(I.expirationTime<=at);if(at=r.unstable_now(),typeof Yt=="function"){I.callback=Yt,xt(at),st=!0;break e}I===l(b)&&h(b),xt(at)}else h(b);I=l(b)}if(I!==null)st=!0;else{var yn=l(C);yn!==null&&rt(At,yn.startTime-at),st=!1}}break t}finally{I=null,L=vt,U=!1}st=void 0}}finally{st?Tt():wt=!1}}}var Tt;if(typeof Y=="function")Tt=function(){Y(ue)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,ve=$t.port2;$t.port1.onmessage=ue,Tt=function(){ve.postMessage(null)}}else Tt=function(){j(ue,0)};function rt(at,st){ut=j(function(){at(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(at){at.callback=null},r.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<at?Math.floor(1e3/at):5},r.unstable_getCurrentPriorityLevel=function(){return L},r.unstable_next=function(at){switch(L){case 1:case 2:case 3:var st=3;break;default:st=L}var vt=L;L=st;try{return at()}finally{L=vt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(at,st){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var vt=L;L=at;try{return st()}finally{L=vt}},r.unstable_scheduleCallback=function(at,st,vt){var Gt=r.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?Gt+vt:Gt):vt=Gt,at){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=vt+Yt,at={id:v++,callback:st,priorityLevel:at,startTime:vt,expirationTime:Yt,sortIndex:-1},vt>Gt?(at.sortIndex=vt,a(C,at),l(b)===null&&at===l(C)&&(X?(nt(ut),ut=-1):X=!0,rt(At,vt-Gt))):(at.sortIndex=Yt,a(b,at),z||U||(z=!0,wt||(wt=!0,Tt()))),at},r.unstable_shouldYield=ae,r.unstable_wrapCallback=function(at){var st=L;return function(){var vt=L;L=st;try{return at.apply(this,arguments)}finally{L=vt}}}}(Ch)),Ch}var Xg;function C3(){return Xg||(Xg=1,Eh.exports=E3()),Eh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function S3(){if(Zg)return sl;Zg=1;var r=C3(),a=V2(),l=f3();function h(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function E(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function S(t){if(p(t)!==t)throw Error(h(188))}function b(t){var n=t.alternate;if(!n){if(n=p(t),n===null)throw Error(h(188));return n!==t?null:t}for(var o=t,f=n;;){var x=o.return;if(x===null)break;var A=x.alternate;if(A===null){if(f=x.return,f!==null){o=f;continue}break}if(x.child===A.child){for(A=x.child;A;){if(A===o)return S(x),t;if(A===f)return S(x),n;A=A.sibling}throw Error(h(188))}if(o.return!==f.return)o=x,f=A;else{for(var N=!1,R=x.child;R;){if(R===o){N=!0,o=x,f=A;break}if(R===f){N=!0,f=x,o=A;break}R=R.sibling}if(!N){for(R=A.child;R;){if(R===o){N=!0,o=A,f=x;break}if(R===f){N=!0,f=A,o=x;break}R=R.sibling}if(!N)throw Error(h(189))}}if(o.alternate!==f)throw Error(h(190))}if(o.tag!==3)throw Error(h(188));return o.stateNode.current===o?t:n}function C(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=C(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,I=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),lt=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$t?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case H:return"Profiler";case X:return"StrictMode";case At:return"Suspense";case wt:return"SuspenseList";case lt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case nt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ut:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case pt:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var rt=Array.isArray,at=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt={pending:!1,data:null,method:null,action:null},Gt=[],Yt=-1;function yn(t){return{current:t}}function zt(t){0>Yt||(t.current=Gt[Yt],Gt[Yt]=null,Yt--)}function Qt(t,n){Yt++,Gt[Yt]=t.current,t.current=n}var ie=yn(null),Yn=yn(null),Nt=yn(null),kr=yn(null);function Fe(t,n){switch(Qt(Nt,n),Qt(Yn,t),Qt(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?pg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=pg(n),t=yg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}zt(ie),Qt(ie,t)}function hi(){zt(ie),zt(Yn),zt(Nt)}function cr(t){t.memoizedState!==null&&Qt(kr,t);var n=ie.current,o=yg(n,t.type);n!==o&&(Qt(Yn,t),Qt(ie,o))}function un(t){Yn.current===t&&(zt(ie),zt(Yn)),kr.current===t&&(zt(kr),$o._currentValue=vt)}var Fr=Object.prototype.hasOwnProperty,te=r.unstable_scheduleCallback,ki=r.unstable_cancelCallback,di=r.unstable_shouldYield,ba=r.unstable_requestPaint,we=r.unstable_now,Ee=r.unstable_getCurrentPriorityLevel,Kt=r.unstable_ImmediatePriority,Ta=r.unstable_UserBlockingPriority,St=r.unstable_NormalPriority,rs=r.unstable_LowPriority,oo=r.unstable_IdlePriority,Ni=r.log,lo=r.unstable_setDisableYieldValue,Tn=null,Rn=null;function vn(t){if(typeof Ni=="function"&&lo(t),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(Tn,t)}catch{}}var de=Math.clz32?Math.clz32:Cc,Pl=Math.log,as=Math.LN2;function Cc(t){return t>>>=0,t===0?32:31-(Pl(t)/as|0)|0}var _e=256,yt=4194304;function Ne(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function se(t,n,o){var f=t.pendingLanes;if(f===0)return 0;var x=0,A=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var R=f&134217727;return R!==0?(f=R&~A,f!==0?x=Ne(f):(N&=R,N!==0?x=Ne(N):o||(o=R&~t,o!==0&&(x=Ne(o))))):(R=f&~A,R!==0?x=Ne(R):N!==0?x=Ne(N):o||(o=f&~t,o!==0&&(x=Ne(o)))),x===0?0:n!==0&&n!==x&&(n&A)===0&&(A=x&-x,o=n&-n,A>=o||A===32&&(o&4194048)!==0)?n:x}function Ce(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function va(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(){var t=_e;return _e<<=1,(_e&4194048)===0&&(_e=256),t}function uo(){var t=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),t}function ee(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function $n(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ul(t,n,o,f,x,A){var N=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var R=t.entanglements,P=t.expirationTimes,J=t.hiddenUpdates;for(o=N&~o;0<o;){var ot=31-de(o),ft=1<<ot;R[ot]=0,P[ot]=-1;var $=J[ot];if($!==null)for(J[ot]=null,ot=0;ot<$.length;ot++){var et=$[ot];et!==null&&(et.lane&=-536870913)}o&=~ft}f!==0&&co(t,f,0),A!==0&&x===0&&t.tag!==0&&(t.suspendedLanes|=A&~(N&~n))}function co(t,n,o){t.pendingLanes|=n,t.suspendedLanes&=~n;var f=31-de(n);t.entangledLanes|=n,t.entanglements[f]=t.entanglements[f]|1073741824|o&4194090}function Xn(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var f=31-de(o),x=1<<f;x&n|t[f]&n&&(t[f]|=n),o&=~x}}function Na(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function an(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fr(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:Ug(t.type))}function os(t,n){var o=st.p;try{return st.p=t,n()}finally{st.p=o}}var cn=Math.random().toString(36).slice(2),An="__reactFiber$"+cn,Ge="__reactProps$"+cn,Fi="__reactContainer$"+cn,wn="__reactEvents$"+cn,hr="__reactListeners$"+cn,Zn="__reactHandles$"+cn,Et="__reactResources$"+cn,gi="__reactMarker$"+cn;function Ma(t){delete t[An],delete t[Ge],delete t[wn],delete t[hr],delete t[Zn]}function Ke(t){var n=t[An];if(n)return n;for(var o=t.parentNode;o;){if(n=o[Fi]||o[An]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=Cg(t);t!==null;){if(o=t[An])return o;t=Cg(t)}return n}t=o,o=t.parentNode}return null}function ti(t){if(t=t[An]||t[Fi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Vi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(h(33))}function Mi(t){var n=t[Et];return n||(n=t[Et]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ge(t){t[gi]=!0}var kl=new Set,Fl={};function En(t,n){Ye(t,n),Ye(t+"Capture",n)}function Ye(t,n){for(Fl[t]=n,t=0;t<n.length;t++)kl.add(n[t])}var Ie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},Di={};function ho(t){return Fr.call(Di,t)?!0:Fr.call(fo,t)?!1:Ie.test(t)?Di[t]=!0:(fo[t]=!0,!1)}function ht(t,n,o){if(ho(n))if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var f=n.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+o)}}function ls(t,n,o){if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+o)}}function oe(t,n,o,f){if(f===null)t.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(n,o,""+f)}}var zi,Vl;function Zt(t){if(zi===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);zi=n&&n[1]||"",Vl=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zi+t+Vl}var ne=!1;function jt(t,n){if(!t||ne)return"";ne=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(n){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(et){var $=et}Reflect.construct(t,[],ft)}else{try{ft.call()}catch(et){$=et}t.call(ft.prototype)}}else{try{throw Error()}catch(et){$=et}(ft=t())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(et){if(et&&$&&typeof et.stack=="string")return[et.stack,$.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=f.DetermineComponentFrameRoot(),N=A[0],R=A[1];if(N&&R){var P=N.split(`
`),J=R.split(`
`);for(x=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;x<J.length&&!J[x].includes("DetermineComponentFrameRoot");)x++;if(f===P.length||x===J.length)for(f=P.length-1,x=J.length-1;1<=f&&0<=x&&P[f]!==J[x];)x--;for(;1<=f&&0<=x;f--,x--)if(P[f]!==J[x]){if(f!==1||x!==1)do if(f--,x--,0>x||P[f]!==J[x]){var ot=`
`+P[f].replace(" at new "," at ");return t.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",t.displayName)),ot}while(1<=f&&0<=x);break}}}finally{ne=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Zt(o):""}function go(t){switch(t.tag){case 26:case 27:case 5:return Zt(t.type);case 16:return Zt("Lazy");case 13:return Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return jt(t.type,!1);case 11:return jt(t.type.render,!1);case 1:return jt(t.type,!0);case 31:return Zt("Activity");default:return""}}function us(t){try{var n="";do n+=go(t),t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function _n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ji(t){var n=Xe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),f=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var x=o.get,A=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return x.call(this)},set:function(N){f=""+N,A.call(this,N)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function cs(t){t._valueTracker||(t._valueTracker=ji(t))}function Pe(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),f="";return t&&(f=Xe(t)?t.checked?"true":"false":t.value),t=f,t!==o?(n.setValue(t),!0):!1}function ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sc=/[\n"\\]/g;function fn(t){return t.replace(Sc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fe(t,n,o,f,x,A,N,R){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),n!=null?N==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+_n(n)):t.value!==""+_n(n)&&(t.value=""+_n(n)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),n!=null?Q(t,N,_n(n)):o!=null?Q(t,N,_n(o)):f!=null&&t.removeAttribute("value"),x==null&&A!=null&&(t.defaultChecked=!!A),x!=null&&(t.checked=x&&typeof x!="function"&&typeof x!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+_n(R):t.removeAttribute("name")}function hn(t,n,o,f,x,A,N,R){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.type=A),n!=null||o!=null){if(!(A!=="submit"&&A!=="reset"||n!=null))return;o=o!=null?""+_n(o):"",n=n!=null?""+_n(n):o,R||n===t.value||(t.value=n),t.defaultValue=n}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,t.checked=R?t.checked:!!f,t.defaultChecked=!!f,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N)}function Q(t,n,o){n==="number"&&ei(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function _(t,n,o,f){if(t=t.options,n){n={};for(var x=0;x<o.length;x++)n["$"+o[x]]=!0;for(o=0;o<t.length;o++)x=n.hasOwnProperty("$"+t[o].value),t[o].selected!==x&&(t[o].selected=x),x&&f&&(t[o].defaultSelected=!0)}else{for(o=""+_n(o),n=null,x=0;x<t.length;x++){if(t[x].value===o){t[x].selected=!0,f&&(t[x].defaultSelected=!0);return}n!==null||t[x].disabled||(n=t[x])}n!==null&&(n.selected=!0)}}function Mt(t,n,o){if(n!=null&&(n=""+_n(n),n!==t.value&&(t.value=n),o==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=o!=null?""+_n(o):""}function Je(t,n,o,f){if(n==null){if(f!=null){if(o!=null)throw Error(h(92));if(rt(f)){if(1<f.length)throw Error(h(93));f=f[0]}o=f}o==null&&(o=""),n=o}o=_n(n),t.defaultValue=o,f=t.textContent,f===o&&f!==""&&f!==null&&(t.value=f)}function dn(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fs(t,n,o){var f=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":f?t.setProperty(n,o):typeof o!="number"||o===0||bc.has(n)?n==="float"?t.cssFloat=o:t[n]=(""+o).trim():t[n]=o+"px"}function zn(t,n,o){if(n!=null&&typeof n!="object")throw Error(h(62));if(t=t.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||n!=null&&n.hasOwnProperty(f)||(f.indexOf("--")===0?t.setProperty(f,""):f==="float"?t.cssFloat="":t[f]="");for(var x in n)f=n[x],n.hasOwnProperty(x)&&o[x]!==f&&fs(t,x,f)}else for(var A in n)n.hasOwnProperty(A)&&fs(t,A,n[A])}function Dt(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Be=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return zl.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Da=null;function Vr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,zr=null;function $e(t){var n=ti(t);if(n&&(t=n.stateNode)){var o=t[Ge]||null;t:switch(t=n.stateNode,n.type){case"input":if(fe(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var f=o[n];if(f!==t&&f.form===t.form){var x=f[Ge]||null;if(!x)throw Error(h(90));fe(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(n=0;n<o.length;n++)f=o[n],f.form===t.form&&Pe(f)}break t;case"textarea":Mt(t,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&_(t,!!o.multiple,n,!1)}}}var dr=!1;function Ii(t,n,o){if(dr)return t(n,o);dr=!0;try{var f=t(n);return f}finally{if(dr=!1,(Hi!==null||zr!==null)&&(vu(),Hi&&(n=Hi,t=zr,zr=Hi=null,$e(n),t)))for(n=0;n<t.length;n++)$e(t[n])}}function Ot(t,n){var o=t.stateNode;if(o===null)return null;var f=o[Ge]||null;if(f===null)return null;o=f[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(t=t.type,f=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!f;break t;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(h(231,n,typeof o));return o}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kt=!1;if(Oi)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){kt=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch{kt=!1}var Gi=null,Ia=null,Oa=null;function Yi(){if(Oa)return Oa;var t,n=Ia,o=n.length,f,x="value"in Gi?Gi.value:Gi.textContent,A=x.length;for(t=0;t<o&&n[t]===x[t];t++);var N=o-t;for(f=1;f<=N&&n[o-f]===x[A-f];f++);return Oa=x.slice(t,1<f?1-f:void 0)}function ds(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function jr(){return!1}function sn(t){function n(o,f,x,A,N){this._reactName=o,this._targetInst=x,this.type=f,this.nativeEvent=A,this.target=N,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(o=t[R],this[R]=o?o(A):A[R]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Xi:jr,this.isPropagationStopped=jr,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=sn(Zi),Ri=v({},Zi,{view:0,detail:0}),Bn=sn(Ri),gs,ms,Hr,xs=v({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hr&&(Hr&&t.type==="mousemove"?(gs=t.screenX-Hr.screenX,ms=t.screenY-Hr.screenY):ms=gs=0,Hr=t),gs)},movementY:function(t){return"movementY"in t?t.movementY:ms}}),jl=sn(xs),Tc=v({},xs,{dataTransfer:0}),he=sn(Tc),Hl=v({},Ri,{relatedTarget:0}),Gr=sn(Hl),Wi=v({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),vc=sn(Wi),it=v({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vt=sn(it),gn=v({},Zi,{data:0}),Ra=sn(gn),Gl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mc[t])?!!n[t]:!1}function _a(){return Dc}var tn=v({},Ri,{key:function(t){if(t.key){var n=Gl[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mo=sn(tn),Ue=v({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=sn(Ue),gr=v({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),me=sn(gr),Rt=v({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ic=sn(Rt),Me=v({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mr=sn(Me),Yr=v({},Zi,{newState:0,oldState:0}),Oc=sn(Yr),mi=[9,13,27,32],La=Oi&&"CompositionEvent"in window,Xr=null;Oi&&"documentMode"in document&&(Xr=document.documentMode);var xo=Oi&&"TextEvent"in window&&!Xr,po=Oi&&(!La||Xr&&8<Xr&&11>=Xr),yo=" ",Yl=!1;function xr(t,n){switch(t){case"keyup":return mi.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ps(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zr=!1;function Pa(t,n){switch(t){case"compositionend":return ps(n);case"keypress":return n.which!==32?null:(Yl=!0,yo);case"textInput":return t=n.data,t===yo&&Yl?null:t;default:return null}}function Rc(t,n){if(Zr)return t==="compositionend"||!La&&xr(t,n)?(t=Yi(),Oa=Ia=Gi=null,Zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return po&&n.locale!=="ko"?null:n.data;default:return null}}var Qi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ua(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Qi[t.type]:n==="textarea"}function jn(t,n,o,f){Hi?zr?zr.push(f):zr=[f]:Hi=f,n=Ru(n,"onChange"),0<n.length&&(o=new qi("onChange","change",null,o,f),t.push({event:o,listeners:n}))}var qr=null,Ln=null;function _c(t){hg(t,0)}function Wr(t){var n=Vi(t);if(Pe(n))return t}function Xl(t,n){if(t==="change")return n}var Ao=!1;if(Oi){var qn;if(Oi){var wo="oninput"in document;if(!wo){var ys=document.createElement("div");ys.setAttribute("oninput","return;"),wo=typeof ys.oninput=="function"}qn=wo}else qn=!1;Ao=qn&&(!document.documentMode||9<document.documentMode)}function Qr(){qr&&(qr.detachEvent("onpropertychange",Jt),Ln=qr=null)}function Jt(t){if(t.propertyName==="value"&&Wr(Ln)){var n=[];jn(n,Ln,t,Vr(t)),Ii(_c,n)}}function As(t,n,o){t==="focusin"?(Qr(),qr=n,Ln=o,qr.attachEvent("onpropertychange",Jt)):t==="focusout"&&Qr()}function M(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wr(Ln)}function e(t,n){if(t==="click")return Wr(n)}function i(t,n){if(t==="input"||t==="change")return Wr(n)}function s(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var u=typeof Object.is=="function"?Object.is:s;function c(t,n){if(u(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),f=Object.keys(n);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var x=o[f];if(!Fr.call(n,x)||!u(t[x],n[x]))return!1}return!0}function d(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g(t,n){var o=d(t);t=0;for(var f;o;){if(o.nodeType===3){if(f=t+o.textContent.length,t<=n&&f>=n)return{node:o,offset:n-t};t=f}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=d(o)}}function y(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?y(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function w(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ei(t.document);n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=ei(t.document)}return n}function T(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var D=Oi&&"documentMode"in document&&11>=document.documentMode,O=null,B=null,k=null,F=!1;function q(t,n,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;F||O==null||O!==ei(f)||(f=O,"selectionStart"in f&&T(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),k&&c(k,f)||(k=f,f=Ru(B,"onSelect"),0<f.length&&(n=new qi("onSelect","select",null,n,o),t.push({event:n,listeners:f}),n.target=O)))}function tt(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var gt={animationend:tt("Animation","AnimationEnd"),animationiteration:tt("Animation","AnimationIteration"),animationstart:tt("Animation","AnimationStart"),transitionrun:tt("Transition","TransitionRun"),transitionstart:tt("Transition","TransitionStart"),transitioncancel:tt("Transition","TransitionCancel"),transitionend:tt("Transition","TransitionEnd")},mt={},dt={};Oi&&(dt=document.createElement("div").style,"AnimationEvent"in window||(delete gt.animationend.animation,delete gt.animationiteration.animation,delete gt.animationstart.animation),"TransitionEvent"in window||delete gt.transitionend.transition);function Ft(t){if(mt[t])return mt[t];if(!gt[t])return t;var n=gt[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in dt)return mt[t]=n[o];return t}var Ut=Ft("animationend"),Nn=Ft("animationiteration"),Wn=Ft("animationstart"),Pn=Ft("transitionrun"),xe=Ft("transitionstart"),mn=Ft("transitioncancel"),Un=Ft("transitionend"),pr=new Map,Ki="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ki.push("scrollEnd");function ni(t,n){pr.set(t,n),En(n,[t])}var Zl=new WeakMap;function xi(t,n){if(typeof t=="object"&&t!==null){var o=Zl.get(t);return o!==void 0?o:(n={value:t,source:n,stack:us(n)},Zl.set(t,n),n)}return{value:t,source:n,stack:us(n)}}var pi=[],ws=0,Bc=0;function ql(){for(var t=ws,n=Bc=ws=0;n<t;){var o=pi[n];pi[n++]=null;var f=pi[n];pi[n++]=null;var x=pi[n];pi[n++]=null;var A=pi[n];if(pi[n++]=null,f!==null&&x!==null){var N=f.pending;N===null?x.next=x:(x.next=N.next,N.next=x),f.pending=x}A!==0&&Q0(o,x,A)}}function Wl(t,n,o,f){pi[ws++]=t,pi[ws++]=n,pi[ws++]=o,pi[ws++]=f,Bc|=f,t.lanes|=f,t=t.alternate,t!==null&&(t.lanes|=f)}function Lc(t,n,o,f){return Wl(t,n,o,f),Ql(t)}function Es(t,n){return Wl(t,null,null,n),Ql(t)}function Q0(t,n,o){t.lanes|=o;var f=t.alternate;f!==null&&(f.lanes|=o);for(var x=!1,A=t.return;A!==null;)A.childLanes|=o,f=A.alternate,f!==null&&(f.childLanes|=o),A.tag===22&&(t=A.stateNode,t===null||t._visibility&1||(x=!0)),t=A,A=A.return;return t.tag===3?(A=t.stateNode,x&&n!==null&&(x=31-de(o),t=A.hiddenUpdates,f=t[x],f===null?t[x]=[n]:f.push(n),n.lane=o|536870912),A):null}function Ql(t){if(50<Yo)throw Yo=0,jf=null,Error(h(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Cs={};function qp(t,n,o,f){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(t,n,o,f){return new qp(t,n,o,f)}function Pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yr(t,n){var o=t.alternate;return o===null?(o=ii(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function K0(t,n){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,n=o.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Kl(t,n,o,f,x,A){var N=0;if(f=t,typeof t=="function")Pc(t)&&(N=1);else if(typeof t=="string")N=Qy(t,o,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case lt:return t=ii(31,o,n,x),t.elementType=lt,t.lanes=A,t;case z:return ka(o.children,x,A,n);case X:N=8,x|=24;break;case H:return t=ii(12,o,n,x|2),t.elementType=H,t.lanes=A,t;case At:return t=ii(13,o,n,x),t.elementType=At,t.lanes=A,t;case wt:return t=ii(19,o,n,x),t.elementType=wt,t.lanes=A,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j:case Y:N=10;break t;case nt:N=9;break t;case xt:N=11;break t;case ut:N=14;break t;case pt:N=16,f=null;break t}N=29,o=Error(h(130,t===null?"null":typeof t,"")),f=null}return n=ii(N,o,n,x),n.elementType=t,n.type=f,n.lanes=A,n}function ka(t,n,o,f){return t=ii(7,t,f,n),t.lanes=o,t}function Uc(t,n,o){return t=ii(6,t,null,n),t.lanes=o,t}function kc(t,n,o){return n=ii(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ss=[],bs=0,Jl=null,$l=0,yi=[],Ai=0,Fa=null,Ar=1,wr="";function Va(t,n){Ss[bs++]=$l,Ss[bs++]=Jl,Jl=t,$l=n}function J0(t,n,o){yi[Ai++]=Ar,yi[Ai++]=wr,yi[Ai++]=Fa,Fa=t;var f=Ar;t=wr;var x=32-de(f)-1;f&=~(1<<x),o+=1;var A=32-de(n)+x;if(30<A){var N=x-x%5;A=(f&(1<<N)-1).toString(32),f>>=N,x-=N,Ar=1<<32-de(n)+x|o<<x|f,wr=A+t}else Ar=1<<A|o<<x|f,wr=t}function Fc(t){t.return!==null&&(Va(t,1),J0(t,1,0))}function Vc(t){for(;t===Jl;)Jl=Ss[--bs],Ss[bs]=null,$l=Ss[--bs],Ss[bs]=null;for(;t===Fa;)Fa=yi[--Ai],yi[Ai]=null,wr=yi[--Ai],yi[Ai]=null,Ar=yi[--Ai],yi[Ai]=null}var Hn=null,Ze=null,ce=!1,za=null,Ji=!1,zc=Error(h(519));function ja(t){var n=Error(h(418,""));throw So(xi(n,t)),zc}function $0(t){var n=t.stateNode,o=t.type,f=t.memoizedProps;switch(n[An]=t,n[Ge]=f,o){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(o=0;o<Zo.length;o++)Wt(Zo[o],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":Wt("invalid",n),hn(n,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),cs(n);break;case"select":Wt("invalid",n);break;case"textarea":Wt("invalid",n),Je(n,f.value,f.defaultValue,f.children),cs(n)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||f.suppressHydrationWarning===!0||xg(n.textContent,o)?(f.popover!=null&&(Wt("beforetoggle",n),Wt("toggle",n)),f.onScroll!=null&&Wt("scroll",n),f.onScrollEnd!=null&&Wt("scrollend",n),f.onClick!=null&&(n.onclick=_u),n=!0):n=!1,n||ja(t)}function t1(t){for(Hn=t.return;Hn;)switch(Hn.tag){case 5:case 13:Ji=!1;return;case 27:case 3:Ji=!0;return;default:Hn=Hn.return}}function Eo(t){if(t!==Hn)return!1;if(!ce)return t1(t),ce=!0,!1;var n=t.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||rh(t.type,t.memoizedProps)),o=!o),o&&Ze&&ja(t),t1(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(h(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(n===0){Ze=Bi(t.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;t=t.nextSibling}Ze=null}}else n===27?(n=Ze,ha(t.type)?(t=lh,lh=null,Ze=t):Ze=n):Ze=Hn?Bi(t.stateNode.nextSibling):null;return!0}function Co(){Ze=Hn=null,ce=!1}function e1(){var t=za;return t!==null&&(Jn===null?Jn=t:Jn.push.apply(Jn,t),za=null),t}function So(t){za===null?za=[t]:za.push(t)}var jc=yn(null),Ha=null,Er=null;function Kr(t,n,o){Qt(jc,n._currentValue),n._currentValue=o}function Cr(t){t._currentValue=jc.current,zt(jc)}function Hc(t,n,o){for(;t!==null;){var f=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,f!==null&&(f.childLanes|=n)):f!==null&&(f.childLanes&n)!==n&&(f.childLanes|=n),t===o)break;t=t.return}}function Gc(t,n,o,f){var x=t.child;for(x!==null&&(x.return=t);x!==null;){var A=x.dependencies;if(A!==null){var N=x.child;A=A.firstContext;t:for(;A!==null;){var R=A;A=x;for(var P=0;P<n.length;P++)if(R.context===n[P]){A.lanes|=o,R=A.alternate,R!==null&&(R.lanes|=o),Hc(A.return,o,t),f||(N=null);break t}A=R.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(h(341));N.lanes|=o,A=N.alternate,A!==null&&(A.lanes|=o),Hc(N,o,t),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===t){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function bo(t,n,o,f){t=null;for(var x=n,A=!1;x!==null;){if(!A){if((x.flags&524288)!==0)A=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(h(387));if(N=N.memoizedProps,N!==null){var R=x.type;u(x.pendingProps.value,N.value)||(t!==null?t.push(R):t=[R])}}else if(x===kr.current){if(N=x.alternate,N===null)throw Error(h(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(t!==null?t.push($o):t=[$o])}x=x.return}t!==null&&Gc(n,t,o,f),n.flags|=262144}function tu(t){for(t=t.firstContext;t!==null;){if(!u(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ga(t){Ha=t,Er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function kn(t){return n1(Ha,t)}function eu(t,n){return Ha===null&&Ga(t),n1(t,n)}function n1(t,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Er===null){if(t===null)throw Error(h(308));Er=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Er=Er.next=n;return o}var Wp=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(o,f){t.push(f)}};this.abort=function(){n.aborted=!0,t.forEach(function(o){return o()})}},Qp=r.unstable_scheduleCallback,Kp=r.unstable_NormalPriority,xn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new Wp,data:new Map,refCount:0}}function To(t){t.refCount--,t.refCount===0&&Qp(Kp,function(){t.controller.abort()})}var vo=null,Xc=0,Ts=0,vs=null;function Jp(t,n){if(vo===null){var o=vo=[];Xc=0,Ts=Wf(),vs={status:"pending",value:void 0,then:function(f){o.push(f)}}}return Xc++,n.then(i1,i1),n}function i1(){if(--Xc===0&&vo!==null){vs!==null&&(vs.status="fulfilled");var t=vo;vo=null,Ts=0,vs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $p(t,n){var o=[],f={status:"pending",value:null,reason:null,then:function(x){o.push(x)}};return t.then(function(){f.status="fulfilled",f.value=n;for(var x=0;x<o.length;x++)(0,o[x])(n)},function(x){for(f.status="rejected",f.reason=x,x=0;x<o.length;x++)(0,o[x])(void 0)}),f}var r1=at.S;at.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jp(t,n),r1!==null&&r1(t,n)};var Ya=yn(null);function Zc(){var t=Ya.current;return t!==null?t:Oe.pooledCache}function nu(t,n){n===null?Qt(Ya,Ya.current):Qt(Ya,n.pool)}function a1(){var t=Zc();return t===null?null:{parent:xn._currentValue,pool:t}}var No=Error(h(460)),s1=Error(h(474)),iu=Error(h(542)),qc={then:function(){}};function o1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ru(){}function l1(t,n,o){switch(o=t[o],o===void 0?t.push(n):o!==n&&(n.then(ru,ru),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,c1(t),t;default:if(typeof n.status=="string")n.then(ru,ru);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(h(482));t=n,t.status="pending",t.then(function(f){if(n.status==="pending"){var x=n;x.status="fulfilled",x.value=f}},function(f){if(n.status==="pending"){var x=n;x.status="rejected",x.reason=f}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,c1(t),t}throw Mo=n,No}}var Mo=null;function u1(){if(Mo===null)throw Error(h(459));var t=Mo;return Mo=null,t}function c1(t){if(t===No||t===iu)throw Error(h(483))}var Jr=!1;function Wc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,n,o){var f=t.updateQueue;if(f===null)return null;if(f=f.shared,(pe&2)!==0){var x=f.pending;return x===null?n.next=n:(n.next=x.next,x.next=n),f.pending=n,n=Ql(t),Q0(t,null,o),n}return Wl(t,f,n,o),Ql(t)}function Do(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var f=n.lanes;f&=t.pendingLanes,o|=f,n.lanes=o,Xn(t,o)}}function Kc(t,n){var o=t.updateQueue,f=t.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var x=null,A=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};A===null?x=A=N:A=A.next=N,o=o.next}while(o!==null);A===null?x=A=n:A=A.next=n}else x=A=n;o={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:A,shared:f.shared,callbacks:f.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}var Jc=!1;function Io(){if(Jc){var t=vs;if(t!==null)throw t}}function Oo(t,n,o,f){Jc=!1;var x=t.updateQueue;Jr=!1;var A=x.firstBaseUpdate,N=x.lastBaseUpdate,R=x.shared.pending;if(R!==null){x.shared.pending=null;var P=R,J=P.next;P.next=null,N===null?A=J:N.next=J,N=P;var ot=t.alternate;ot!==null&&(ot=ot.updateQueue,R=ot.lastBaseUpdate,R!==N&&(R===null?ot.firstBaseUpdate=J:R.next=J,ot.lastBaseUpdate=P))}if(A!==null){var ft=x.baseState;N=0,ot=J=P=null,R=A;do{var $=R.lane&-536870913,et=$!==R.lane;if(et?(re&$)===$:(f&$)===$){$!==0&&$===Ts&&(Jc=!0),ot!==null&&(ot=ot.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Pt=t,_t=R;$=n;var Te=o;switch(_t.tag){case 1:if(Pt=_t.payload,typeof Pt=="function"){ft=Pt.call(Te,ft,$);break t}ft=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=_t.payload,$=typeof Pt=="function"?Pt.call(Te,ft,$):Pt,$==null)break t;ft=v({},ft,$);break t;case 2:Jr=!0}}$=R.callback,$!==null&&(t.flags|=64,et&&(t.flags|=8192),et=x.callbacks,et===null?x.callbacks=[$]:et.push($))}else et={lane:$,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ot===null?(J=ot=et,P=ft):ot=ot.next=et,N|=$;if(R=R.next,R===null){if(R=x.shared.pending,R===null)break;et=R,R=et.next,et.next=null,x.lastBaseUpdate=et,x.shared.pending=null}}while(!0);ot===null&&(P=ft),x.baseState=P,x.firstBaseUpdate=J,x.lastBaseUpdate=ot,A===null&&(x.shared.lanes=0),la|=N,t.lanes=N,t.memoizedState=ft}}function f1(t,n){if(typeof t!="function")throw Error(h(191,t));t.call(n)}function h1(t,n){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)f1(o[t],n)}var Ns=yn(null),au=yn(0);function d1(t,n){t=Dr,Qt(au,t),Qt(Ns,n),Dr=t|n.baseLanes}function $c(){Qt(au,Dr),Qt(Ns,Ns.current)}function tf(){Dr=au.current,zt(Ns),zt(au)}var ea=0,Ht=null,Se=null,on=null,su=!1,Ms=!1,Xa=!1,ou=0,Ro=0,Ds=null,ty=0;function en(){throw Error(h(321))}function ef(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!u(t[o],n[o]))return!1;return!0}function nf(t,n,o,f,x,A){return ea=A,Ht=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,at.H=t===null||t.memoizedState===null?Q1:K1,Xa=!1,A=o(f,x),Xa=!1,Ms&&(A=m1(n,o,f,x)),g1(t),A}function g1(t){at.H=du;var n=Se!==null&&Se.next!==null;if(ea=0,on=Se=Ht=null,su=!1,Ro=0,Ds=null,n)throw Error(h(300));t===null||Cn||(t=t.dependencies,t!==null&&tu(t)&&(Cn=!0))}function m1(t,n,o,f){Ht=t;var x=0;do{if(Ms&&(Ds=null),Ro=0,Ms=!1,25<=x)throw Error(h(301));if(x+=1,on=Se=null,t.updateQueue!=null){var A=t.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}at.H=oy,A=n(o,f)}while(Ms);return A}function ey(){var t=at.H,n=t.useState()[0];return n=typeof n.then=="function"?_o(n):n,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(Ht.flags|=1024),n}function rf(){var t=ou!==0;return ou=0,t}function af(t,n,o){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~o}function sf(t){if(su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}su=!1}ea=0,on=Se=Ht=null,Ms=!1,Ro=ou=0,Ds=null}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ht.memoizedState=on=t:on=on.next=t,on}function ln(){if(Se===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var n=on===null?Ht.memoizedState:on.next;if(n!==null)on=n,Se=t;else{if(t===null)throw Ht.alternate===null?Error(h(467)):Error(h(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},on===null?Ht.memoizedState=on=t:on=on.next=t}return on}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var n=Ro;return Ro+=1,Ds===null&&(Ds=[]),t=l1(Ds,t,n),n=Ht,(on===null?n.memoizedState:on.next)===null&&(n=n.alternate,at.H=n===null||n.memoizedState===null?Q1:K1),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===Y)return kn(t)}throw Error(h(438,String(t)))}function lf(t){var n=null,o=Ht.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var f=Ht.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(n={data:f.data.map(function(x){return x.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=of(),Ht.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(t),f=0;f<t;f++)o[f]=ae;return n.index++,o}function Sr(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=ln();return uf(n,Se,t)}function uf(t,n,o){var f=t.queue;if(f===null)throw Error(h(311));f.lastRenderedReducer=o;var x=t.baseQueue,A=f.pending;if(A!==null){if(x!==null){var N=x.next;x.next=A.next,A.next=N}n.baseQueue=x=A,f.pending=null}if(A=t.baseState,x===null)t.memoizedState=A;else{n=x.next;var R=N=null,P=null,J=n,ot=!1;do{var ft=J.lane&-536870913;if(ft!==J.lane?(re&ft)===ft:(ea&ft)===ft){var $=J.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ft===Ts&&(ot=!0);else if((ea&$)===$){J=J.next,$===Ts&&(ot=!0);continue}else ft={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(R=P=ft,N=A):P=P.next=ft,Ht.lanes|=$,la|=$;ft=J.action,Xa&&o(A,ft),A=J.hasEagerState?J.eagerState:o(A,ft)}else $={lane:ft,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},P===null?(R=P=$,N=A):P=P.next=$,Ht.lanes|=ft,la|=ft;J=J.next}while(J!==null&&J!==n);if(P===null?N=A:P.next=R,!u(A,t.memoizedState)&&(Cn=!0,ot&&(o=vs,o!==null)))throw o;t.memoizedState=A,t.baseState=N,t.baseQueue=P,f.lastRenderedState=A}return x===null&&(f.lanes=0),[t.memoizedState,f.dispatch]}function cf(t){var n=ln(),o=n.queue;if(o===null)throw Error(h(311));o.lastRenderedReducer=t;var f=o.dispatch,x=o.pending,A=n.memoizedState;if(x!==null){o.pending=null;var N=x=x.next;do A=t(A,N.action),N=N.next;while(N!==x);u(A,n.memoizedState)||(Cn=!0),n.memoizedState=A,n.baseQueue===null&&(n.baseState=A),o.lastRenderedState=A}return[A,f]}function x1(t,n,o){var f=Ht,x=ln(),A=ce;if(A){if(o===void 0)throw Error(h(407));o=o()}else o=n();var N=!u((Se||x).memoizedState,o);N&&(x.memoizedState=o,Cn=!0),x=x.queue;var R=A1.bind(null,f,x,t);if(Bo(2048,8,R,[t]),x.getSnapshot!==n||N||on!==null&&on.memoizedState.tag&1){if(f.flags|=2048,Is(9,cu(),y1.bind(null,f,x,o,n),null),Oe===null)throw Error(h(349));A||(ea&124)!==0||p1(f,n,o)}return o}function p1(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=Ht.updateQueue,n===null?(n=of(),Ht.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function y1(t,n,o,f){n.value=o,n.getSnapshot=f,w1(n)&&E1(t)}function A1(t,n,o){return o(function(){w1(n)&&E1(t)})}function w1(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!u(t,o)}catch{return!0}}function E1(t){var n=Es(t,2);n!==null&&li(n,t,2)}function ff(t){var n=Qn();if(typeof t=="function"){var o=t;if(t=o(),Xa){vn(!0);try{o()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:t},n}function C1(t,n,o,f){return t.baseState=o,uf(t,Se,typeof f=="function"?f:Sr)}function ny(t,n,o,f,x){if(hu(t))throw Error(h(485));if(t=n.action,t!==null){var A={payload:x,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){A.listeners.push(N)}};at.T!==null?o(!0):A.isTransition=!1,f(A),o=n.pending,o===null?(A.next=n.pending=A,S1(n,A)):(A.next=o.next,n.pending=o.next=A)}}function S1(t,n){var o=n.action,f=n.payload,x=t.state;if(n.isTransition){var A=at.T,N={};at.T=N;try{var R=o(x,f),P=at.S;P!==null&&P(N,R),b1(t,n,R)}catch(J){hf(t,n,J)}finally{at.T=A}}else try{A=o(x,f),b1(t,n,A)}catch(J){hf(t,n,J)}}function b1(t,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){T1(t,n,f)},function(f){return hf(t,n,f)}):T1(t,n,o)}function T1(t,n,o){n.status="fulfilled",n.value=o,v1(n),t.state=o,n=t.pending,n!==null&&(o=n.next,o===n?t.pending=null:(o=o.next,n.next=o,S1(t,o)))}function hf(t,n,o){var f=t.pending;if(t.pending=null,f!==null){f=f.next;do n.status="rejected",n.reason=o,v1(n),n=n.next;while(n!==f)}t.action=null}function v1(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function N1(t,n){return n}function M1(t,n){if(ce){var o=Oe.formState;if(o!==null){t:{var f=Ht;if(ce){if(Ze){e:{for(var x=Ze,A=Ji;x.nodeType!==8;){if(!A){x=null;break e}if(x=Bi(x.nextSibling),x===null){x=null;break e}}A=x.data,x=A==="F!"||A==="F"?x:null}if(x){Ze=Bi(x.nextSibling),f=x.data==="F!";break t}}ja(f)}f=!1}f&&(n=o[0])}}return o=Qn(),o.memoizedState=o.baseState=n,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N1,lastRenderedState:n},o.queue=f,o=Z1.bind(null,Ht,f),f.dispatch=o,f=ff(!1),A=pf.bind(null,Ht,!1,f.queue),f=Qn(),x={state:n,dispatch:null,action:t,pending:null},f.queue=x,o=ny.bind(null,Ht,x,A,o),x.dispatch=o,f.memoizedState=t,[n,o,!1]}function D1(t){var n=ln();return I1(n,Se,t)}function I1(t,n,o){if(n=uf(t,n,N1)[0],t=uu(Sr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var f=_o(n)}catch(N){throw N===No?iu:N}else f=n;n=ln();var x=n.queue,A=x.dispatch;return o!==n.memoizedState&&(Ht.flags|=2048,Is(9,cu(),iy.bind(null,x,o),null)),[f,A,t]}function iy(t,n){t.action=n}function O1(t){var n=ln(),o=Se;if(o!==null)return I1(n,o,t);ln(),n=n.memoizedState,o=ln();var f=o.queue.dispatch;return o.memoizedState=t,[n,f,!1]}function Is(t,n,o,f){return t={tag:t,create:o,deps:f,inst:n,next:null},n=Ht.updateQueue,n===null&&(n=of(),Ht.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=t.next=t:(f=o.next,o.next=t,t.next=f,n.lastEffect=t),t}function cu(){return{destroy:void 0,resource:void 0}}function R1(){return ln().memoizedState}function fu(t,n,o,f){var x=Qn();f=f===void 0?null:f,Ht.flags|=t,x.memoizedState=Is(1|n,cu(),o,f)}function Bo(t,n,o,f){var x=ln();f=f===void 0?null:f;var A=x.memoizedState.inst;Se!==null&&f!==null&&ef(f,Se.memoizedState.deps)?x.memoizedState=Is(n,A,o,f):(Ht.flags|=t,x.memoizedState=Is(1|n,A,o,f))}function _1(t,n){fu(8390656,8,t,n)}function B1(t,n){Bo(2048,8,t,n)}function L1(t,n){return Bo(4,2,t,n)}function P1(t,n){return Bo(4,4,t,n)}function U1(t,n){if(typeof n=="function"){t=t();var o=n(t);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function k1(t,n,o){o=o!=null?o.concat([t]):null,Bo(4,4,U1.bind(null,n,t),o)}function df(){}function F1(t,n){var o=ln();n=n===void 0?null:n;var f=o.memoizedState;return n!==null&&ef(n,f[1])?f[0]:(o.memoizedState=[t,n],t)}function V1(t,n){var o=ln();n=n===void 0?null:n;var f=o.memoizedState;if(n!==null&&ef(n,f[1]))return f[0];if(f=t(),Xa){vn(!0);try{t()}finally{vn(!1)}}return o.memoizedState=[f,n],f}function gf(t,n,o){return o===void 0||(ea&1073741824)!==0?t.memoizedState=n:(t.memoizedState=o,t=Hd(),Ht.lanes|=t,la|=t,o)}function z1(t,n,o,f){return u(o,n)?o:Ns.current!==null?(t=gf(t,o,f),u(t,n)||(Cn=!0),t):(ea&42)===0?(Cn=!0,t.memoizedState=o):(t=Hd(),Ht.lanes|=t,la|=t,n)}function j1(t,n,o,f,x){var A=st.p;st.p=A!==0&&8>A?A:8;var N=at.T,R={};at.T=R,pf(t,!1,n,o);try{var P=x(),J=at.S;if(J!==null&&J(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ot=$p(P,f);Lo(t,n,ot,oi(t))}else Lo(t,n,f,oi(t))}catch(ft){Lo(t,n,{then:function(){},status:"rejected",reason:ft},oi())}finally{st.p=A,at.T=N}}function ry(){}function mf(t,n,o,f){if(t.tag!==5)throw Error(h(476));var x=H1(t).queue;j1(t,x,n,vt,o===null?ry:function(){return G1(t),o(f)})}function H1(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:vt,baseState:vt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:vt},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:o},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function G1(t){var n=H1(t).next.queue;Lo(t,n,{},oi())}function xf(){return kn($o)}function Y1(){return ln().memoizedState}function X1(){return ln().memoizedState}function ay(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var o=oi();t=$r(o);var f=ta(n,t,o);f!==null&&(li(f,n,o),Do(f,n,o)),n={cache:Yc()},t.payload=n;return}n=n.return}}function sy(t,n,o){var f=oi();o={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},hu(t)?q1(n,o):(o=Lc(t,n,o,f),o!==null&&(li(o,t,f),W1(o,n,f)))}function Z1(t,n,o){var f=oi();Lo(t,n,o,f)}function Lo(t,n,o,f){var x={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(hu(t))q1(n,x);else{var A=t.alternate;if(t.lanes===0&&(A===null||A.lanes===0)&&(A=n.lastRenderedReducer,A!==null))try{var N=n.lastRenderedState,R=A(N,o);if(x.hasEagerState=!0,x.eagerState=R,u(R,N))return Wl(t,n,x,0),Oe===null&&ql(),!1}catch{}finally{}if(o=Lc(t,n,x,f),o!==null)return li(o,t,f),W1(o,n,f),!0}return!1}function pf(t,n,o,f){if(f={lane:2,revertLane:Wf(),action:f,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(h(479))}else n=Lc(t,o,f,2),n!==null&&li(n,t,2)}function hu(t){var n=t.alternate;return t===Ht||n!==null&&n===Ht}function q1(t,n){Ms=su=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function W1(t,n,o){if((o&4194048)!==0){var f=n.lanes;f&=t.pendingLanes,o|=f,n.lanes=o,Xn(t,o)}}var du={readContext:kn,use:lu,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},Q1={readContext:kn,use:lu,useCallback:function(t,n){return Qn().memoizedState=[t,n===void 0?null:n],t},useContext:kn,useEffect:_1,useImperativeHandle:function(t,n,o){o=o!=null?o.concat([t]):null,fu(4194308,4,U1.bind(null,n,t),o)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var o=Qn();n=n===void 0?null:n;var f=t();if(Xa){vn(!0);try{t()}finally{vn(!1)}}return o.memoizedState=[f,n],f},useReducer:function(t,n,o){var f=Qn();if(o!==void 0){var x=o(n);if(Xa){vn(!0);try{o(n)}finally{vn(!1)}}}else x=n;return f.memoizedState=f.baseState=x,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:x},f.queue=t,t=t.dispatch=sy.bind(null,Ht,t),[f.memoizedState,t]},useRef:function(t){var n=Qn();return t={current:t},n.memoizedState=t},useState:function(t){t=ff(t);var n=t.queue,o=Z1.bind(null,Ht,n);return n.dispatch=o,[t.memoizedState,o]},useDebugValue:df,useDeferredValue:function(t,n){var o=Qn();return gf(o,t,n)},useTransition:function(){var t=ff(!1);return t=j1.bind(null,Ht,t.queue,!0,!1),Qn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,o){var f=Ht,x=Qn();if(ce){if(o===void 0)throw Error(h(407));o=o()}else{if(o=n(),Oe===null)throw Error(h(349));(re&124)!==0||p1(f,n,o)}x.memoizedState=o;var A={value:o,getSnapshot:n};return x.queue=A,_1(A1.bind(null,f,A,t),[t]),f.flags|=2048,Is(9,cu(),y1.bind(null,f,A,o,n),null),o},useId:function(){var t=Qn(),n=Oe.identifierPrefix;if(ce){var o=wr,f=Ar;o=(f&~(1<<32-de(f)-1)).toString(32)+o,n=""+n+"R"+o,o=ou++,0<o&&(n+="H"+o.toString(32)),n+=""}else o=ty++,n=""+n+"r"+o.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:M1,useActionState:M1,useOptimistic:function(t){var n=Qn();n.memoizedState=n.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=pf.bind(null,Ht,!0,o),o.dispatch=n,[t,n]},useMemoCache:lf,useCacheRefresh:function(){return Qn().memoizedState=ay.bind(null,Ht)}},K1={readContext:kn,use:lu,useCallback:F1,useContext:kn,useEffect:B1,useImperativeHandle:k1,useInsertionEffect:L1,useLayoutEffect:P1,useMemo:V1,useReducer:uu,useRef:R1,useState:function(){return uu(Sr)},useDebugValue:df,useDeferredValue:function(t,n){var o=ln();return z1(o,Se.memoizedState,t,n)},useTransition:function(){var t=uu(Sr)[0],n=ln().memoizedState;return[typeof t=="boolean"?t:_o(t),n]},useSyncExternalStore:x1,useId:Y1,useHostTransitionStatus:xf,useFormState:D1,useActionState:D1,useOptimistic:function(t,n){var o=ln();return C1(o,Se,t,n)},useMemoCache:lf,useCacheRefresh:X1},oy={readContext:kn,use:lu,useCallback:F1,useContext:kn,useEffect:B1,useImperativeHandle:k1,useInsertionEffect:L1,useLayoutEffect:P1,useMemo:V1,useReducer:cf,useRef:R1,useState:function(){return cf(Sr)},useDebugValue:df,useDeferredValue:function(t,n){var o=ln();return Se===null?gf(o,t,n):z1(o,Se.memoizedState,t,n)},useTransition:function(){var t=cf(Sr)[0],n=ln().memoizedState;return[typeof t=="boolean"?t:_o(t),n]},useSyncExternalStore:x1,useId:Y1,useHostTransitionStatus:xf,useFormState:O1,useActionState:O1,useOptimistic:function(t,n){var o=ln();return Se!==null?C1(o,Se,t,n):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:lf,useCacheRefresh:X1},Os=null,Po=0;function gu(t){var n=Po;return Po+=1,Os===null&&(Os=[]),l1(Os,t,n)}function Uo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function mu(t,n){throw n.$$typeof===I?Error(h(525)):(t=Object.prototype.toString.call(n),Error(h(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function J1(t){var n=t._init;return n(t._payload)}function $1(t){function n(G,V){if(t){var K=G.deletions;K===null?(G.deletions=[V],G.flags|=16):K.push(V)}}function o(G,V){if(!t)return null;for(;V!==null;)n(G,V),V=V.sibling;return null}function f(G){for(var V=new Map;G!==null;)G.key!==null?V.set(G.key,G):V.set(G.index,G),G=G.sibling;return V}function x(G,V){return G=yr(G,V),G.index=0,G.sibling=null,G}function A(G,V,K){return G.index=K,t?(K=G.alternate,K!==null?(K=K.index,K<V?(G.flags|=67108866,V):K):(G.flags|=67108866,V)):(G.flags|=1048576,V)}function N(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function R(G,V,K,ct){return V===null||V.tag!==6?(V=Uc(K,G.mode,ct),V.return=G,V):(V=x(V,K),V.return=G,V)}function P(G,V,K,ct){var bt=K.type;return bt===z?ot(G,V,K.props.children,ct,K.key):V!==null&&(V.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===pt&&J1(bt)===V.type)?(V=x(V,K.props),Uo(V,K),V.return=G,V):(V=Kl(K.type,K.key,K.props,null,G.mode,ct),Uo(V,K),V.return=G,V)}function J(G,V,K,ct){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=kc(K,G.mode,ct),V.return=G,V):(V=x(V,K.children||[]),V.return=G,V)}function ot(G,V,K,ct,bt){return V===null||V.tag!==7?(V=ka(K,G.mode,ct,bt),V.return=G,V):(V=x(V,K),V.return=G,V)}function ft(G,V,K){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Uc(""+V,G.mode,K),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return K=Kl(V.type,V.key,V.props,null,G.mode,K),Uo(K,V),K.return=G,K;case U:return V=kc(V,G.mode,K),V.return=G,V;case pt:var ct=V._init;return V=ct(V._payload),ft(G,V,K)}if(rt(V)||Tt(V))return V=ka(V,G.mode,K,null),V.return=G,V;if(typeof V.then=="function")return ft(G,gu(V),K);if(V.$$typeof===Y)return ft(G,eu(G,V),K);mu(G,V)}return null}function $(G,V,K,ct){var bt=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return bt!==null?null:R(G,V,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case L:return K.key===bt?P(G,V,K,ct):null;case U:return K.key===bt?J(G,V,K,ct):null;case pt:return bt=K._init,K=bt(K._payload),$(G,V,K,ct)}if(rt(K)||Tt(K))return bt!==null?null:ot(G,V,K,ct,null);if(typeof K.then=="function")return $(G,V,gu(K),ct);if(K.$$typeof===Y)return $(G,V,eu(G,K),ct);mu(G,K)}return null}function et(G,V,K,ct,bt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return G=G.get(K)||null,R(V,G,""+ct,bt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case L:return G=G.get(ct.key===null?K:ct.key)||null,P(V,G,ct,bt);case U:return G=G.get(ct.key===null?K:ct.key)||null,J(V,G,ct,bt);case pt:var Xt=ct._init;return ct=Xt(ct._payload),et(G,V,K,ct,bt)}if(rt(ct)||Tt(ct))return G=G.get(K)||null,ot(V,G,ct,bt,null);if(typeof ct.then=="function")return et(G,V,K,gu(ct),bt);if(ct.$$typeof===Y)return et(G,V,K,eu(V,ct),bt);mu(V,ct)}return null}function Pt(G,V,K,ct){for(var bt=null,Xt=null,It=V,Bt=V=0,bn=null;It!==null&&Bt<K.length;Bt++){It.index>Bt?(bn=It,It=null):bn=It.sibling;var le=$(G,It,K[Bt],ct);if(le===null){It===null&&(It=bn);break}t&&It&&le.alternate===null&&n(G,It),V=A(le,V,Bt),Xt===null?bt=le:Xt.sibling=le,Xt=le,It=bn}if(Bt===K.length)return o(G,It),ce&&Va(G,Bt),bt;if(It===null){for(;Bt<K.length;Bt++)It=ft(G,K[Bt],ct),It!==null&&(V=A(It,V,Bt),Xt===null?bt=It:Xt.sibling=It,Xt=It);return ce&&Va(G,Bt),bt}for(It=f(It);Bt<K.length;Bt++)bn=et(It,G,Bt,K[Bt],ct),bn!==null&&(t&&bn.alternate!==null&&It.delete(bn.key===null?Bt:bn.key),V=A(bn,V,Bt),Xt===null?bt=bn:Xt.sibling=bn,Xt=bn);return t&&It.forEach(function(pa){return n(G,pa)}),ce&&Va(G,Bt),bt}function _t(G,V,K,ct){if(K==null)throw Error(h(151));for(var bt=null,Xt=null,It=V,Bt=V=0,bn=null,le=K.next();It!==null&&!le.done;Bt++,le=K.next()){It.index>Bt?(bn=It,It=null):bn=It.sibling;var pa=$(G,It,le.value,ct);if(pa===null){It===null&&(It=bn);break}t&&It&&pa.alternate===null&&n(G,It),V=A(pa,V,Bt),Xt===null?bt=pa:Xt.sibling=pa,Xt=pa,It=bn}if(le.done)return o(G,It),ce&&Va(G,Bt),bt;if(It===null){for(;!le.done;Bt++,le=K.next())le=ft(G,le.value,ct),le!==null&&(V=A(le,V,Bt),Xt===null?bt=le:Xt.sibling=le,Xt=le);return ce&&Va(G,Bt),bt}for(It=f(It);!le.done;Bt++,le=K.next())le=et(It,G,Bt,le.value,ct),le!==null&&(t&&le.alternate!==null&&It.delete(le.key===null?Bt:le.key),V=A(le,V,Bt),Xt===null?bt=le:Xt.sibling=le,Xt=le);return t&&It.forEach(function(l3){return n(G,l3)}),ce&&Va(G,Bt),bt}function Te(G,V,K,ct){if(typeof K=="object"&&K!==null&&K.type===z&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case L:t:{for(var bt=K.key;V!==null;){if(V.key===bt){if(bt=K.type,bt===z){if(V.tag===7){o(G,V.sibling),ct=x(V,K.props.children),ct.return=G,G=ct;break t}}else if(V.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===pt&&J1(bt)===V.type){o(G,V.sibling),ct=x(V,K.props),Uo(ct,K),ct.return=G,G=ct;break t}o(G,V);break}else n(G,V);V=V.sibling}K.type===z?(ct=ka(K.props.children,G.mode,ct,K.key),ct.return=G,G=ct):(ct=Kl(K.type,K.key,K.props,null,G.mode,ct),Uo(ct,K),ct.return=G,G=ct)}return N(G);case U:t:{for(bt=K.key;V!==null;){if(V.key===bt)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){o(G,V.sibling),ct=x(V,K.children||[]),ct.return=G,G=ct;break t}else{o(G,V);break}else n(G,V);V=V.sibling}ct=kc(K,G.mode,ct),ct.return=G,G=ct}return N(G);case pt:return bt=K._init,K=bt(K._payload),Te(G,V,K,ct)}if(rt(K))return Pt(G,V,K,ct);if(Tt(K)){if(bt=Tt(K),typeof bt!="function")throw Error(h(150));return K=bt.call(K),_t(G,V,K,ct)}if(typeof K.then=="function")return Te(G,V,gu(K),ct);if(K.$$typeof===Y)return Te(G,V,eu(G,K),ct);mu(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,V!==null&&V.tag===6?(o(G,V.sibling),ct=x(V,K),ct.return=G,G=ct):(o(G,V),ct=Uc(K,G.mode,ct),ct.return=G,G=ct),N(G)):o(G,V)}return function(G,V,K,ct){try{Po=0;var bt=Te(G,V,K,ct);return Os=null,bt}catch(It){if(It===No||It===iu)throw It;var Xt=ii(29,It,null,G.mode);return Xt.lanes=ct,Xt.return=G,Xt}finally{}}}var Rs=$1(!0),td=$1(!1),wi=yn(null),$i=null;function na(t){var n=t.alternate;Qt(pn,pn.current&1),Qt(wi,t),$i===null&&(n===null||Ns.current!==null||n.memoizedState!==null)&&($i=t)}function ed(t){if(t.tag===22){if(Qt(pn,pn.current),Qt(wi,t),$i===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($i=t)}}else ia()}function ia(){Qt(pn,pn.current),Qt(wi,wi.current)}function br(t){zt(wi),$i===t&&($i=null),zt(pn)}var pn=yn(0);function xu(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||oh(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function yf(t,n,o,f){n=t.memoizedState,o=o(f,n),o=o==null?n:v({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Af={enqueueSetState:function(t,n,o){t=t._reactInternals;var f=oi(),x=$r(f);x.payload=n,o!=null&&(x.callback=o),n=ta(t,x,f),n!==null&&(li(n,t,f),Do(n,t,f))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var f=oi(),x=$r(f);x.tag=1,x.payload=n,o!=null&&(x.callback=o),n=ta(t,x,f),n!==null&&(li(n,t,f),Do(n,t,f))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=oi(),f=$r(o);f.tag=2,n!=null&&(f.callback=n),n=ta(t,f,o),n!==null&&(li(n,t,o),Do(n,t,o))}};function nd(t,n,o,f,x,A,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(f,A,N):n.prototype&&n.prototype.isPureReactComponent?!c(o,f)||!c(x,A):!0}function id(t,n,o,f){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,f),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,f),n.state!==t&&Af.enqueueReplaceState(n,n.state,null)}function Za(t,n){var o=n;if("ref"in n){o={};for(var f in n)f!=="ref"&&(o[f]=n[f])}if(t=t.defaultProps){o===n&&(o=v({},o));for(var x in t)o[x]===void 0&&(o[x]=t[x])}return o}var pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function rd(t){pu(t)}function ad(t){console.error(t)}function sd(t){pu(t)}function yu(t,n){try{var o=t.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(f){setTimeout(function(){throw f})}}function od(t,n,o){try{var f=t.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function wf(t,n,o){return o=$r(o),o.tag=3,o.payload={element:null},o.callback=function(){yu(t,n)},o}function ld(t){return t=$r(t),t.tag=3,t}function ud(t,n,o,f){var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var A=f.value;t.payload=function(){return x(A)},t.callback=function(){od(n,o,f)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){od(n,o,f),typeof x!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function ly(t,n,o,f,x){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(n=o.alternate,n!==null&&bo(n,o,x,!0),o=wi.current,o!==null){switch(o.tag){case 13:return $i===null?Gf():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=x,f===qc?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([f]):n.add(f),Xf(t,f,x)),!1;case 22:return o.flags|=65536,f===qc?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([f]):o.add(f)),Xf(t,f,x)),!1}throw Error(h(435,o.tag))}return Xf(t,f,x),Gf(),!1}if(ce)return n=wi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=x,f!==zc&&(t=Error(h(422),{cause:f}),So(xi(t,o)))):(f!==zc&&(n=Error(h(423),{cause:f}),So(xi(n,o))),t=t.current.alternate,t.flags|=65536,x&=-x,t.lanes|=x,f=xi(f,o),x=wf(t.stateNode,f,x),Kc(t,x),qe!==4&&(qe=2)),!1;var A=Error(h(520),{cause:f});if(A=xi(A,o),Go===null?Go=[A]:Go.push(A),qe!==4&&(qe=2),n===null)return!0;f=xi(f,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,t=x&-x,o.lanes|=t,t=wf(o.stateNode,f,t),Kc(o,t),!1;case 1:if(n=o.type,A=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ua===null||!ua.has(A))))return o.flags|=65536,x&=-x,o.lanes|=x,x=ld(x),ud(x,t,o,f),Kc(o,x),!1}o=o.return}while(o!==null);return!1}var cd=Error(h(461)),Cn=!1;function Mn(t,n,o,f){n.child=t===null?td(n,null,o,f):Rs(n,t.child,o,f)}function fd(t,n,o,f,x){o=o.render;var A=n.ref;if("ref"in f){var N={};for(var R in f)R!=="ref"&&(N[R]=f[R])}else N=f;return Ga(n),f=nf(t,n,o,N,A,x),R=rf(),t!==null&&!Cn?(af(t,n,x),Tr(t,n,x)):(ce&&R&&Fc(n),n.flags|=1,Mn(t,n,f,x),n.child)}function hd(t,n,o,f,x){if(t===null){var A=o.type;return typeof A=="function"&&!Pc(A)&&A.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=A,dd(t,n,A,f,x)):(t=Kl(o.type,null,f,n,n.mode,x),t.ref=n.ref,t.return=n,n.child=t)}if(A=t.child,!Mf(t,x)){var N=A.memoizedProps;if(o=o.compare,o=o!==null?o:c,o(N,f)&&t.ref===n.ref)return Tr(t,n,x)}return n.flags|=1,t=yr(A,f),t.ref=n.ref,t.return=n,n.child=t}function dd(t,n,o,f,x){if(t!==null){var A=t.memoizedProps;if(c(A,f)&&t.ref===n.ref)if(Cn=!1,n.pendingProps=f=A,Mf(t,x))(t.flags&131072)!==0&&(Cn=!0);else return n.lanes=t.lanes,Tr(t,n,x)}return Ef(t,n,o,f,x)}function gd(t,n,o){var f=n.pendingProps,x=f.children,A=t!==null?t.memoizedState:null;if(f.mode==="hidden"){if((n.flags&128)!==0){if(f=A!==null?A.baseLanes|o:o,t!==null){for(x=n.child=t.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;n.childLanes=A&~f}else n.childLanes=0,n.child=null;return md(t,n,f,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(n,A!==null?A.cachePool:null),A!==null?d1(n,A):$c(),ed(n);else return n.lanes=n.childLanes=536870912,md(t,n,A!==null?A.baseLanes|o:o,o)}else A!==null?(nu(n,A.cachePool),d1(n,A),ia(),n.memoizedState=null):(t!==null&&nu(n,null),$c(),ia());return Mn(t,n,x,o),n.child}function md(t,n,o,f){var x=Zc();return x=x===null?null:{parent:xn._currentValue,pool:x},n.memoizedState={baseLanes:o,cachePool:x},t!==null&&nu(n,null),$c(),ed(n),t!==null&&bo(t,n,f,!0),null}function Au(t,n){var o=n.ref;if(o===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(h(284));(t===null||t.ref!==o)&&(n.flags|=4194816)}}function Ef(t,n,o,f,x){return Ga(n),o=nf(t,n,o,f,void 0,x),f=rf(),t!==null&&!Cn?(af(t,n,x),Tr(t,n,x)):(ce&&f&&Fc(n),n.flags|=1,Mn(t,n,o,x),n.child)}function xd(t,n,o,f,x,A){return Ga(n),n.updateQueue=null,o=m1(n,f,o,x),g1(t),f=rf(),t!==null&&!Cn?(af(t,n,A),Tr(t,n,A)):(ce&&f&&Fc(n),n.flags|=1,Mn(t,n,o,A),n.child)}function pd(t,n,o,f,x){if(Ga(n),n.stateNode===null){var A=Cs,N=o.contextType;typeof N=="object"&&N!==null&&(A=kn(N)),A=new o(f,A),n.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Af,n.stateNode=A,A._reactInternals=n,A=n.stateNode,A.props=f,A.state=n.memoizedState,A.refs={},Wc(n),N=o.contextType,A.context=typeof N=="object"&&N!==null?kn(N):Cs,A.state=n.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(yf(n,o,N,f),A.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(N=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),N!==A.state&&Af.enqueueReplaceState(A,A.state,null),Oo(n,f,A,x),Io(),A.state=n.memoizedState),typeof A.componentDidMount=="function"&&(n.flags|=4194308),f=!0}else if(t===null){A=n.stateNode;var R=n.memoizedProps,P=Za(o,R);A.props=P;var J=A.context,ot=o.contextType;N=Cs,typeof ot=="object"&&ot!==null&&(N=kn(ot));var ft=o.getDerivedStateFromProps;ot=typeof ft=="function"||typeof A.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,ot||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(R||J!==N)&&id(n,A,f,N),Jr=!1;var $=n.memoizedState;A.state=$,Oo(n,f,A,x),Io(),J=n.memoizedState,R||$!==J||Jr?(typeof ft=="function"&&(yf(n,o,ft,f),J=n.memoizedState),(P=Jr||nd(n,o,P,f,$,J,N))?(ot||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(n.flags|=4194308)):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=f,n.memoizedState=J),A.props=f,A.state=J,A.context=N,f=P):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),f=!1)}else{A=n.stateNode,Qc(t,n),N=n.memoizedProps,ot=Za(o,N),A.props=ot,ft=n.pendingProps,$=A.context,J=o.contextType,P=Cs,typeof J=="object"&&J!==null&&(P=kn(J)),R=o.getDerivedStateFromProps,(J=typeof R=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(N!==ft||$!==P)&&id(n,A,f,P),Jr=!1,$=n.memoizedState,A.state=$,Oo(n,f,A,x),Io();var et=n.memoizedState;N!==ft||$!==et||Jr||t!==null&&t.dependencies!==null&&tu(t.dependencies)?(typeof R=="function"&&(yf(n,o,R,f),et=n.memoizedState),(ot=Jr||nd(n,o,ot,f,$,et,P)||t!==null&&t.dependencies!==null&&tu(t.dependencies))?(J||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(f,et,P),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(f,et,P)),typeof A.componentDidUpdate=="function"&&(n.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof A.componentDidUpdate!="function"||N===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=f,n.memoizedState=et),A.props=f,A.state=et,A.context=P,f=ot):(typeof A.componentDidUpdate!="function"||N===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),f=!1)}return A=f,Au(t,n),f=(n.flags&128)!==0,A||f?(A=n.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:A.render(),n.flags|=1,t!==null&&f?(n.child=Rs(n,t.child,null,x),n.child=Rs(n,null,o,x)):Mn(t,n,o,x),n.memoizedState=A.state,t=n.child):t=Tr(t,n,x),t}function yd(t,n,o,f){return Co(),n.flags|=256,Mn(t,n,o,f),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(t){return{baseLanes:t,cachePool:a1()}}function bf(t,n,o){return t=t!==null?t.childLanes&~o:0,n&&(t|=Ei),t}function Ad(t,n,o){var f=n.pendingProps,x=!1,A=(n.flags&128)!==0,N;if((N=A)||(N=t!==null&&t.memoizedState===null?!1:(pn.current&2)!==0),N&&(x=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,t===null){if(ce){if(x?na(n):ia(),ce){var R=Ze,P;if(P=R){t:{for(P=R,R=Ji;P.nodeType!==8;){if(!R){R=null;break t}if(P=Bi(P.nextSibling),P===null){R=null;break t}}R=P}R!==null?(n.memoizedState={dehydrated:R,treeContext:Fa!==null?{id:Ar,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},P=ii(18,null,null,0),P.stateNode=R,P.return=n,n.child=P,Hn=n,Ze=null,P=!0):P=!1}P||ja(n)}if(R=n.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return oh(R)?n.lanes=32:n.lanes=536870912,null;br(n)}return R=f.children,f=f.fallback,x?(ia(),x=n.mode,R=wu({mode:"hidden",children:R},x),f=ka(f,x,o,null),R.return=n,f.return=n,R.sibling=f,n.child=R,x=n.child,x.memoizedState=Sf(o),x.childLanes=bf(t,N,o),n.memoizedState=Cf,f):(na(n),Tf(n,R))}if(P=t.memoizedState,P!==null&&(R=P.dehydrated,R!==null)){if(A)n.flags&256?(na(n),n.flags&=-257,n=vf(t,n,o)):n.memoizedState!==null?(ia(),n.child=t.child,n.flags|=128,n=null):(ia(),x=f.fallback,R=n.mode,f=wu({mode:"visible",children:f.children},R),x=ka(x,R,o,null),x.flags|=2,f.return=n,x.return=n,f.sibling=x,n.child=f,Rs(n,t.child,null,o),f=n.child,f.memoizedState=Sf(o),f.childLanes=bf(t,N,o),n.memoizedState=Cf,n=x);else if(na(n),oh(R)){if(N=R.nextSibling&&R.nextSibling.dataset,N)var J=N.dgst;N=J,f=Error(h(419)),f.stack="",f.digest=N,So({value:f,source:null,stack:null}),n=vf(t,n,o)}else if(Cn||bo(t,n,o,!1),N=(o&t.childLanes)!==0,Cn||N){if(N=Oe,N!==null&&(f=o&-o,f=(f&42)!==0?1:Na(f),f=(f&(N.suspendedLanes|o))!==0?0:f,f!==0&&f!==P.retryLane))throw P.retryLane=f,Es(t,f),li(N,t,f),cd;R.data==="$?"||Gf(),n=vf(t,n,o)}else R.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=P.treeContext,Ze=Bi(R.nextSibling),Hn=n,ce=!0,za=null,Ji=!1,t!==null&&(yi[Ai++]=Ar,yi[Ai++]=wr,yi[Ai++]=Fa,Ar=t.id,wr=t.overflow,Fa=n),n=Tf(n,f.children),n.flags|=4096);return n}return x?(ia(),x=f.fallback,R=n.mode,P=t.child,J=P.sibling,f=yr(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,J!==null?x=yr(J,x):(x=ka(x,R,o,null),x.flags|=2),x.return=n,f.return=n,f.sibling=x,n.child=f,f=x,x=n.child,R=t.child.memoizedState,R===null?R=Sf(o):(P=R.cachePool,P!==null?(J=xn._currentValue,P=P.parent!==J?{parent:J,pool:J}:P):P=a1(),R={baseLanes:R.baseLanes|o,cachePool:P}),x.memoizedState=R,x.childLanes=bf(t,N,o),n.memoizedState=Cf,f):(na(n),o=t.child,t=o.sibling,o=yr(o,{mode:"visible",children:f.children}),o.return=n,o.sibling=null,t!==null&&(N=n.deletions,N===null?(n.deletions=[t],n.flags|=16):N.push(t)),n.child=o,n.memoizedState=null,o)}function Tf(t,n){return n=wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function wu(t,n){return t=ii(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function vf(t,n,o){return Rs(n,t.child,null,o),t=Tf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wd(t,n,o){t.lanes|=n;var f=t.alternate;f!==null&&(f.lanes|=n),Hc(t.return,n,o)}function Nf(t,n,o,f,x){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:x}:(A.isBackwards=n,A.rendering=null,A.renderingStartTime=0,A.last=f,A.tail=o,A.tailMode=x)}function Ed(t,n,o){var f=n.pendingProps,x=f.revealOrder,A=f.tail;if(Mn(t,n,f.children,o),f=pn.current,(f&2)!==0)f=f&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wd(t,o,n);else if(t.tag===19)wd(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}f&=1}switch(Qt(pn,f),x){case"forwards":for(o=n.child,x=null;o!==null;)t=o.alternate,t!==null&&xu(t)===null&&(x=o),o=o.sibling;o=x,o===null?(x=n.child,n.child=null):(x=o.sibling,o.sibling=null),Nf(n,!1,x,o,A);break;case"backwards":for(o=null,x=n.child,n.child=null;x!==null;){if(t=x.alternate,t!==null&&xu(t)===null){n.child=x;break}t=x.sibling,x.sibling=o,o=x,x=t}Nf(n,!0,o,null,A);break;case"together":Nf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Tr(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),la|=n.lanes,(o&n.childLanes)===0)if(t!==null){if(bo(t,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(h(153));if(n.child!==null){for(t=n.child,o=yr(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=yr(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function Mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&tu(t)))}function uy(t,n,o){switch(n.tag){case 3:Fe(n,n.stateNode.containerInfo),Kr(n,xn,t.memoizedState.cache),Co();break;case 27:case 5:cr(n);break;case 4:Fe(n,n.stateNode.containerInfo);break;case 10:Kr(n,n.type,n.memoizedProps.value);break;case 13:var f=n.memoizedState;if(f!==null)return f.dehydrated!==null?(na(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Ad(t,n,o):(na(n),t=Tr(t,n,o),t!==null?t.sibling:null);na(n);break;case 19:var x=(t.flags&128)!==0;if(f=(o&n.childLanes)!==0,f||(bo(t,n,o,!1),f=(o&n.childLanes)!==0),x){if(f)return Ed(t,n,o);n.flags|=128}if(x=n.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Qt(pn,pn.current),f)break;return null;case 22:case 23:return n.lanes=0,gd(t,n,o);case 24:Kr(n,xn,t.memoizedState.cache)}return Tr(t,n,o)}function Cd(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps)Cn=!0;else{if(!Mf(t,o)&&(n.flags&128)===0)return Cn=!1,uy(t,n,o);Cn=(t.flags&131072)!==0}else Cn=!1,ce&&(n.flags&1048576)!==0&&J0(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var f=n.elementType,x=f._init;if(f=x(f._payload),n.type=f,typeof f=="function")Pc(f)?(t=Za(f,t),n.tag=1,n=pd(null,n,f,t,o)):(n.tag=0,n=Ef(null,n,f,t,o));else{if(f!=null){if(x=f.$$typeof,x===xt){n.tag=11,n=fd(null,n,f,t,o);break t}else if(x===ut){n.tag=14,n=hd(null,n,f,t,o);break t}}throw n=ve(f)||f,Error(h(306,n,""))}}return n;case 0:return Ef(t,n,n.type,n.pendingProps,o);case 1:return f=n.type,x=Za(f,n.pendingProps),pd(t,n,f,x,o);case 3:t:{if(Fe(n,n.stateNode.containerInfo),t===null)throw Error(h(387));f=n.pendingProps;var A=n.memoizedState;x=A.element,Qc(t,n),Oo(n,f,null,o);var N=n.memoizedState;if(f=N.cache,Kr(n,xn,f),f!==A.cache&&Gc(n,[xn],o,!0),Io(),f=N.element,A.isDehydrated)if(A={element:f,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=A,n.memoizedState=A,n.flags&256){n=yd(t,n,f,o);break t}else if(f!==x){x=xi(Error(h(424)),n),So(x),n=yd(t,n,f,o);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ze=Bi(t.firstChild),Hn=n,ce=!0,za=null,Ji=!0,o=td(n,null,f,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Co(),f===x){n=Tr(t,n,o);break t}Mn(t,n,f,o)}n=n.child}return n;case 26:return Au(t,n),t===null?(o=vg(n.type,null,n.pendingProps,null))?n.memoizedState=o:ce||(o=n.type,t=n.pendingProps,f=Bu(Nt.current).createElement(o),f[An]=n,f[Ge]=t,In(f,o,t),ge(f),n.stateNode=f):n.memoizedState=vg(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return cr(n),t===null&&ce&&(f=n.stateNode=Sg(n.type,n.pendingProps,Nt.current),Hn=n,Ji=!0,x=Ze,ha(n.type)?(lh=x,Ze=Bi(f.firstChild)):Ze=x),Mn(t,n,n.pendingProps.children,o),Au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ce&&((x=f=Ze)&&(f=Uy(f,n.type,n.pendingProps,Ji),f!==null?(n.stateNode=f,Hn=n,Ze=Bi(f.firstChild),Ji=!1,x=!0):x=!1),x||ja(n)),cr(n),x=n.type,A=n.pendingProps,N=t!==null?t.memoizedProps:null,f=A.children,rh(x,A)?f=null:N!==null&&rh(x,N)&&(n.flags|=32),n.memoizedState!==null&&(x=nf(t,n,ey,null,null,o),$o._currentValue=x),Au(t,n),Mn(t,n,f,o),n.child;case 6:return t===null&&ce&&((t=o=Ze)&&(o=ky(o,n.pendingProps,Ji),o!==null?(n.stateNode=o,Hn=n,Ze=null,t=!0):t=!1),t||ja(n)),null;case 13:return Ad(t,n,o);case 4:return Fe(n,n.stateNode.containerInfo),f=n.pendingProps,t===null?n.child=Rs(n,null,f,o):Mn(t,n,f,o),n.child;case 11:return fd(t,n,n.type,n.pendingProps,o);case 7:return Mn(t,n,n.pendingProps,o),n.child;case 8:return Mn(t,n,n.pendingProps.children,o),n.child;case 12:return Mn(t,n,n.pendingProps.children,o),n.child;case 10:return f=n.pendingProps,Kr(n,n.type,f.value),Mn(t,n,f.children,o),n.child;case 9:return x=n.type._context,f=n.pendingProps.children,Ga(n),x=kn(x),f=f(x),n.flags|=1,Mn(t,n,f,o),n.child;case 14:return hd(t,n,n.type,n.pendingProps,o);case 15:return dd(t,n,n.type,n.pendingProps,o);case 19:return Ed(t,n,o);case 31:return f=n.pendingProps,o=n.mode,f={mode:f.mode,children:f.children},t===null?(o=wu(f,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=yr(t.child,f),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return gd(t,n,o);case 24:return Ga(n),f=kn(xn),t===null?(x=Zc(),x===null&&(x=Oe,A=Yc(),x.pooledCache=A,A.refCount++,A!==null&&(x.pooledCacheLanes|=o),x=A),n.memoizedState={parent:f,cache:x},Wc(n),Kr(n,xn,x)):((t.lanes&o)!==0&&(Qc(t,n),Oo(n,null,null,o),Io()),x=t.memoizedState,A=n.memoizedState,x.parent!==f?(x={parent:f,cache:f},n.memoizedState=x,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=x),Kr(n,xn,f)):(f=A.cache,Kr(n,xn,f),f!==x.cache&&Gc(n,[xn],o,!0))),Mn(t,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(h(156,n.tag))}function vr(t){t.flags|=4}function Sd(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Og(n)){if(n=wi.current,n!==null&&((re&4194048)===re?$i!==null:(re&62914560)!==re&&(re&536870912)===0||n!==$i))throw Mo=qc,s1;t.flags|=8192}}function Eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uo():536870912,t.lanes|=n,Ps|=n)}function ko(t,n){if(!ce)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:f.sibling=null}}function ze(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,f=0;if(n)for(var x=t.child;x!==null;)o|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=t,x=x.sibling;else for(x=t.child;x!==null;)o|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=t,x=x.sibling;return t.subtreeFlags|=f,t.childLanes=o,n}function cy(t,n,o){var f=n.pendingProps;switch(Vc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return o=n.stateNode,f=null,t!==null&&(f=t.memoizedState.cache),n.memoizedState.cache!==f&&(n.flags|=2048),Cr(xn),hi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Eo(n)?vr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,e1())),ze(n),null;case 26:return o=n.memoizedState,t===null?(vr(n),o!==null?(ze(n),Sd(n,o)):(ze(n),n.flags&=-16777217)):o?o!==t.memoizedState?(vr(n),ze(n),Sd(n,o)):(ze(n),n.flags&=-16777217):(t.memoizedProps!==f&&vr(n),ze(n),n.flags&=-16777217),null;case 27:un(n),o=Nt.current;var x=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==f&&vr(n);else{if(!f){if(n.stateNode===null)throw Error(h(166));return ze(n),null}t=ie.current,Eo(n)?$0(n):(t=Sg(x,f,o),n.stateNode=t,vr(n))}return ze(n),null;case 5:if(un(n),o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==f&&vr(n);else{if(!f){if(n.stateNode===null)throw Error(h(166));return ze(n),null}if(t=ie.current,Eo(n))$0(n);else{switch(x=Bu(Nt.current),t){case 1:t=x.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=x.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=x.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=x.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof f.is=="string"?x.createElement("select",{is:f.is}):x.createElement("select"),f.multiple?t.multiple=!0:f.size&&(t.size=f.size);break;default:t=typeof f.is=="string"?x.createElement(o,{is:f.is}):x.createElement(o)}}t[An]=n,t[Ge]=f;t:for(x=n.child;x!==null;){if(x.tag===5||x.tag===6)t.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===n)break t;for(;x.sibling===null;){if(x.return===null||x.return===n)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}n.stateNode=t;t:switch(In(t,o,f),o){case"button":case"input":case"select":case"textarea":t=!!f.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&vr(n)}}return ze(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==f&&vr(n);else{if(typeof f!="string"&&n.stateNode===null)throw Error(h(166));if(t=Nt.current,Eo(n)){if(t=n.stateNode,o=n.memoizedProps,f=null,x=Hn,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}t[An]=n,t=!!(t.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||xg(t.nodeValue,o)),t||ja(n)}else t=Bu(t).createTextNode(f),t[An]=n,n.stateNode=t}return ze(n),null;case 13:if(f=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(x=Eo(n),f!==null&&f.dehydrated!==null){if(t===null){if(!x)throw Error(h(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(h(317));x[An]=n}else Co(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),x=!1}else x=e1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=x),x=!0;if(!x)return n.flags&256?(br(n),n):(br(n),null)}if(br(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=f!==null,t=t!==null&&t.memoizedState!==null,o){f=n.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool);var A=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(A=f.memoizedState.cachePool.pool),A!==x&&(f.flags|=2048)}return o!==t&&o&&(n.child.flags|=8192),Eu(n,n.updateQueue),ze(n),null;case 4:return hi(),t===null&&$f(n.stateNode.containerInfo),ze(n),null;case 10:return Cr(n.type),ze(n),null;case 19:if(zt(pn),x=n.memoizedState,x===null)return ze(n),null;if(f=(n.flags&128)!==0,A=x.rendering,A===null)if(f)ko(x,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(A=xu(t),A!==null){for(n.flags|=128,ko(x,!1),t=A.updateQueue,n.updateQueue=t,Eu(n,t),n.subtreeFlags=0,t=o,o=n.child;o!==null;)K0(o,t),o=o.sibling;return Qt(pn,pn.current&1|2),n.child}t=t.sibling}x.tail!==null&&we()>bu&&(n.flags|=128,f=!0,ko(x,!1),n.lanes=4194304)}else{if(!f)if(t=xu(A),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,Eu(n,t),ko(x,!0),x.tail===null&&x.tailMode==="hidden"&&!A.alternate&&!ce)return ze(n),null}else 2*we()-x.renderingStartTime>bu&&o!==536870912&&(n.flags|=128,f=!0,ko(x,!1),n.lanes=4194304);x.isBackwards?(A.sibling=n.child,n.child=A):(t=x.last,t!==null?t.sibling=A:n.child=A,x.last=A)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=we(),n.sibling=null,t=pn.current,Qt(pn,f?t&1|2:t&1),n):(ze(n),null);case 22:case 23:return br(n),tf(),f=n.memoizedState!==null,t!==null?t.memoizedState!==null!==f&&(n.flags|=8192):f&&(n.flags|=8192),f?(o&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),o=n.updateQueue,o!==null&&Eu(n,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),f=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(f=n.memoizedState.cachePool.pool),f!==o&&(n.flags|=2048),t!==null&&zt(Ya),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Cr(xn),ze(n),null;case 25:return null;case 30:return null}throw Error(h(156,n.tag))}function fy(t,n){switch(Vc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Cr(xn),hi(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 13:if(br(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(h(340));Co()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return zt(pn),null;case 4:return hi(),null;case 10:return Cr(n.type),null;case 22:case 23:return br(n),tf(),t!==null&&zt(Ya),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Cr(xn),null;case 25:return null;default:return null}}function bd(t,n){switch(Vc(n),n.tag){case 3:Cr(xn),hi();break;case 26:case 27:case 5:un(n);break;case 4:hi();break;case 13:br(n);break;case 19:zt(pn);break;case 10:Cr(n.type);break;case 22:case 23:br(n),tf(),t!==null&&zt(Ya);break;case 24:Cr(xn)}}function Fo(t,n){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var x=f.next;o=x;do{if((o.tag&t)===t){f=void 0;var A=o.create,N=o.inst;f=A(),N.destroy=f}o=o.next}while(o!==x)}}catch(R){De(n,n.return,R)}}function ra(t,n,o){try{var f=n.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var A=x.next;f=A;do{if((f.tag&t)===t){var N=f.inst,R=N.destroy;if(R!==void 0){N.destroy=void 0,x=n;var P=o,J=R;try{J()}catch(ot){De(x,P,ot)}}}f=f.next}while(f!==A)}}catch(ot){De(n,n.return,ot)}}function Td(t){var n=t.updateQueue;if(n!==null){var o=t.stateNode;try{h1(n,o)}catch(f){De(t,t.return,f)}}}function vd(t,n,o){o.props=Za(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(f){De(t,n,f)}}function Vo(t,n){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var f=t.stateNode;break;case 30:f=t.stateNode;break;default:f=t.stateNode}typeof o=="function"?t.refCleanup=o(f):o.current=f}}catch(x){De(t,n,x)}}function tr(t,n){var o=t.ref,f=t.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(x){De(t,n,x)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(x){De(t,n,x)}else o.current=null}function Nd(t){var n=t.type,o=t.memoizedProps,f=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break t;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(x){De(t,t.return,x)}}function Df(t,n,o){try{var f=t.stateNode;Ry(f,t.type,o,n),f[Ge]=n}catch(x){De(t,t.return,x)}}function Md(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ha(t.type)||t.tag===4}function If(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Md(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ha(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,n,o){var f=t.tag;if(f===5||f===6)t=t.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(t),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=_u));else if(f!==4&&(f===27&&ha(t.type)&&(o=t.stateNode,n=null),t=t.child,t!==null))for(Of(t,n,o),t=t.sibling;t!==null;)Of(t,n,o),t=t.sibling}function Cu(t,n,o){var f=t.tag;if(f===5||f===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(f!==4&&(f===27&&ha(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Cu(t,n,o),t=t.sibling;t!==null;)Cu(t,n,o),t=t.sibling}function Dd(t){var n=t.stateNode,o=t.memoizedProps;try{for(var f=t.type,x=n.attributes;x.length;)n.removeAttributeNode(x[0]);In(n,f,o),n[An]=t,n[Ge]=o}catch(A){De(t,t.return,A)}}var Nr=!1,nn=!1,Rf=!1,Id=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function hy(t,n){if(t=t.containerInfo,nh=Vu,t=w(t),T(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else t:{o=(o=t.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var x=f.anchorOffset,A=f.focusNode;f=f.focusOffset;try{o.nodeType,A.nodeType}catch{o=null;break t}var N=0,R=-1,P=-1,J=0,ot=0,ft=t,$=null;e:for(;;){for(var et;ft!==o||x!==0&&ft.nodeType!==3||(R=N+x),ft!==A||f!==0&&ft.nodeType!==3||(P=N+f),ft.nodeType===3&&(N+=ft.nodeValue.length),(et=ft.firstChild)!==null;)$=ft,ft=et;for(;;){if(ft===t)break e;if($===o&&++J===x&&(R=N),$===A&&++ot===f&&(P=N),(et=ft.nextSibling)!==null)break;ft=$,$=ft.parentNode}ft=et}o=R===-1||P===-1?null:{start:R,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ih={focusedElem:t,selectionRange:o},Vu=!1,Sn=n;Sn!==null;)if(n=Sn,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Sn=t;else for(;Sn!==null;){switch(n=Sn,A=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&A!==null){t=void 0,o=n,x=A.memoizedProps,A=A.memoizedState,f=o.stateNode;try{var Pt=Za(o.type,x,o.elementType===o.type);t=f.getSnapshotBeforeUpdate(Pt,A),f.__reactInternalSnapshotBeforeUpdate=t}catch(_t){De(o,o.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,o=t.nodeType,o===9)sh(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(h(163))}if(t=n.sibling,t!==null){t.return=n.return,Sn=t;break}Sn=n.return}}function Od(t,n,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:aa(t,o),f&4&&Fo(5,o);break;case 1:if(aa(t,o),f&4)if(t=o.stateNode,n===null)try{t.componentDidMount()}catch(N){De(o,o.return,N)}else{var x=Za(o.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(x,n,t.__reactInternalSnapshotBeforeUpdate)}catch(N){De(o,o.return,N)}}f&64&&Td(o),f&512&&Vo(o,o.return);break;case 3:if(aa(t,o),f&64&&(t=o.updateQueue,t!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{h1(t,n)}catch(N){De(o,o.return,N)}}break;case 27:n===null&&f&4&&Dd(o);case 26:case 5:aa(t,o),n===null&&f&4&&Nd(o),f&512&&Vo(o,o.return);break;case 12:aa(t,o);break;case 13:aa(t,o),f&4&&Bd(t,o),f&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=Ey.bind(null,o),Fy(t,o))));break;case 22:if(f=o.memoizedState!==null||Nr,!f){n=n!==null&&n.memoizedState!==null||nn,x=Nr;var A=nn;Nr=f,(nn=n)&&!A?sa(t,o,(o.subtreeFlags&8772)!==0):aa(t,o),Nr=x,nn=A}break;case 30:break;default:aa(t,o)}}function Rd(t){var n=t.alternate;n!==null&&(t.alternate=null,Rd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ke=null,Kn=!1;function Mr(t,n,o){for(o=o.child;o!==null;)_d(t,n,o),o=o.sibling}function _d(t,n,o){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Tn,o)}catch{}switch(o.tag){case 26:nn||tr(o,n),Mr(t,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:nn||tr(o,n);var f=ke,x=Kn;ha(o.type)&&(ke=o.stateNode,Kn=!1),Mr(t,n,o),Wo(o.stateNode),ke=f,Kn=x;break;case 5:nn||tr(o,n);case 6:if(f=ke,x=Kn,ke=null,Mr(t,n,o),ke=f,Kn=x,ke!==null)if(Kn)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(A){De(o,n,A)}else try{ke.removeChild(o.stateNode)}catch(A){De(o,n,A)}break;case 18:ke!==null&&(Kn?(t=ke,Eg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),il(t)):Eg(ke,o.stateNode));break;case 4:f=ke,x=Kn,ke=o.stateNode.containerInfo,Kn=!0,Mr(t,n,o),ke=f,Kn=x;break;case 0:case 11:case 14:case 15:nn||ra(2,o,n),nn||ra(4,o,n),Mr(t,n,o);break;case 1:nn||(tr(o,n),f=o.stateNode,typeof f.componentWillUnmount=="function"&&vd(o,n,f)),Mr(t,n,o);break;case 21:Mr(t,n,o);break;case 22:nn=(f=nn)||o.memoizedState!==null,Mr(t,n,o),nn=f;break;default:Mr(t,n,o)}}function Bd(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(o){De(n,n.return,o)}}function dy(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Id),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Id),n;default:throw Error(h(435,t.tag))}}function _f(t,n){var o=dy(t);n.forEach(function(f){var x=Cy.bind(null,t,f);o.has(f)||(o.add(f),f.then(x,x))})}function ri(t,n){var o=n.deletions;if(o!==null)for(var f=0;f<o.length;f++){var x=o[f],A=t,N=n,R=N;t:for(;R!==null;){switch(R.tag){case 27:if(ha(R.type)){ke=R.stateNode,Kn=!1;break t}break;case 5:ke=R.stateNode,Kn=!1;break t;case 3:case 4:ke=R.stateNode.containerInfo,Kn=!0;break t}R=R.return}if(ke===null)throw Error(h(160));_d(A,N,x),ke=null,Kn=!1,A=x.alternate,A!==null&&(A.return=null),x.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ld(n,t),n=n.sibling}var _i=null;function Ld(t,n){var o=t.alternate,f=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ri(n,t),ai(t),f&4&&(ra(3,t,t.return),Fo(3,t),ra(5,t,t.return));break;case 1:ri(n,t),ai(t),f&512&&(nn||o===null||tr(o,o.return)),f&64&&Nr&&(t=t.updateQueue,t!==null&&(f=t.callbacks,f!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var x=_i;if(ri(n,t),ai(t),f&512&&(nn||o===null||tr(o,o.return)),f&4){var A=o!==null?o.memoizedState:null;if(f=t.memoizedState,o===null)if(f===null)if(t.stateNode===null){t:{f=t.type,o=t.memoizedProps,x=x.ownerDocument||x;e:switch(f){case"title":A=x.getElementsByTagName("title")[0],(!A||A[gi]||A[An]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=x.createElement(f),x.head.insertBefore(A,x.querySelector("head > title"))),In(A,f,o),A[An]=t,ge(A),f=A;break t;case"link":var N=Dg("link","href",x).get(f+(o.href||""));if(N){for(var R=0;R<N.length;R++)if(A=N[R],A.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&A.getAttribute("rel")===(o.rel==null?null:o.rel)&&A.getAttribute("title")===(o.title==null?null:o.title)&&A.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(R,1);break e}}A=x.createElement(f),In(A,f,o),x.head.appendChild(A);break;case"meta":if(N=Dg("meta","content",x).get(f+(o.content||""))){for(R=0;R<N.length;R++)if(A=N[R],A.getAttribute("content")===(o.content==null?null:""+o.content)&&A.getAttribute("name")===(o.name==null?null:o.name)&&A.getAttribute("property")===(o.property==null?null:o.property)&&A.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&A.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(R,1);break e}}A=x.createElement(f),In(A,f,o),x.head.appendChild(A);break;default:throw Error(h(468,f))}A[An]=t,ge(A),f=A}t.stateNode=f}else Ig(x,t.type,t.stateNode);else t.stateNode=Mg(x,f,t.memoizedProps);else A!==f?(A===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):A.count--,f===null?Ig(x,t.type,t.stateNode):Mg(x,f,t.memoizedProps)):f===null&&t.stateNode!==null&&Df(t,t.memoizedProps,o.memoizedProps)}break;case 27:ri(n,t),ai(t),f&512&&(nn||o===null||tr(o,o.return)),o!==null&&f&4&&Df(t,t.memoizedProps,o.memoizedProps);break;case 5:if(ri(n,t),ai(t),f&512&&(nn||o===null||tr(o,o.return)),t.flags&32){x=t.stateNode;try{dn(x,"")}catch(et){De(t,t.return,et)}}f&4&&t.stateNode!=null&&(x=t.memoizedProps,Df(t,x,o!==null?o.memoizedProps:x)),f&1024&&(Rf=!0);break;case 6:if(ri(n,t),ai(t),f&4){if(t.stateNode===null)throw Error(h(162));f=t.memoizedProps,o=t.stateNode;try{o.nodeValue=f}catch(et){De(t,t.return,et)}}break;case 3:if(Uu=null,x=_i,_i=Lu(n.containerInfo),ri(n,t),_i=x,ai(t),f&4&&o!==null&&o.memoizedState.isDehydrated)try{il(n.containerInfo)}catch(et){De(t,t.return,et)}Rf&&(Rf=!1,Pd(t));break;case 4:f=_i,_i=Lu(t.stateNode.containerInfo),ri(n,t),ai(t),_i=f;break;case 12:ri(n,t),ai(t);break;case 13:ri(n,t),ai(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ff=we()),f&4&&(f=t.updateQueue,f!==null&&(t.updateQueue=null,_f(t,f)));break;case 22:x=t.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,J=Nr,ot=nn;if(Nr=J||x,nn=ot||P,ri(n,t),nn=ot,Nr=J,ai(t),f&8192)t:for(n=t.stateNode,n._visibility=x?n._visibility&-2:n._visibility|1,x&&(o===null||P||Nr||nn||qa(t)),o=null,n=t;;){if(n.tag===5||n.tag===26){if(o===null){P=o=n;try{if(A=P.stateNode,x)N=A.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{R=P.stateNode;var ft=P.memoizedProps.style,$=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;R.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(et){De(P,P.return,et)}}}else if(n.tag===6){if(o===null){P=n;try{P.stateNode.nodeValue=x?"":P.memoizedProps}catch(et){De(P,P.return,et)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}f&4&&(f=t.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,_f(t,o))));break;case 19:ri(n,t),ai(t),f&4&&(f=t.updateQueue,f!==null&&(t.updateQueue=null,_f(t,f)));break;case 30:break;case 21:break;default:ri(n,t),ai(t)}}function ai(t){var n=t.flags;if(n&2){try{for(var o,f=t.return;f!==null;){if(Md(f)){o=f;break}f=f.return}if(o==null)throw Error(h(160));switch(o.tag){case 27:var x=o.stateNode,A=If(t);Cu(t,A,x);break;case 5:var N=o.stateNode;o.flags&32&&(dn(N,""),o.flags&=-33);var R=If(t);Cu(t,R,N);break;case 3:case 4:var P=o.stateNode.containerInfo,J=If(t);Of(t,J,P);break;default:throw Error(h(161))}}catch(ot){De(t,t.return,ot)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Pd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Pd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function aa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Od(t,n.alternate,n),n=n.sibling}function qa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ra(4,n,n.return),qa(n);break;case 1:tr(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&vd(n,n.return,o),qa(n);break;case 27:Wo(n.stateNode);case 26:case 5:tr(n,n.return),qa(n);break;case 22:n.memoizedState===null&&qa(n);break;case 30:qa(n);break;default:qa(n)}t=t.sibling}}function sa(t,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var f=n.alternate,x=t,A=n,N=A.flags;switch(A.tag){case 0:case 11:case 15:sa(x,A,o),Fo(4,A);break;case 1:if(sa(x,A,o),f=A,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(J){De(f,f.return,J)}if(f=A,x=f.updateQueue,x!==null){var R=f.stateNode;try{var P=x.shared.hiddenCallbacks;if(P!==null)for(x.shared.hiddenCallbacks=null,x=0;x<P.length;x++)f1(P[x],R)}catch(J){De(f,f.return,J)}}o&&N&64&&Td(A),Vo(A,A.return);break;case 27:Dd(A);case 26:case 5:sa(x,A,o),o&&f===null&&N&4&&Nd(A),Vo(A,A.return);break;case 12:sa(x,A,o);break;case 13:sa(x,A,o),o&&N&4&&Bd(x,A);break;case 22:A.memoizedState===null&&sa(x,A,o),Vo(A,A.return);break;case 30:break;default:sa(x,A,o)}n=n.sibling}}function Bf(t,n){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&To(o))}function Lf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&To(t))}function er(t,n,o,f){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ud(t,n,o,f),n=n.sibling}function Ud(t,n,o,f){var x=n.flags;switch(n.tag){case 0:case 11:case 15:er(t,n,o,f),x&2048&&Fo(9,n);break;case 1:er(t,n,o,f);break;case 3:er(t,n,o,f),x&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&To(t)));break;case 12:if(x&2048){er(t,n,o,f),t=n.stateNode;try{var A=n.memoizedProps,N=A.id,R=A.onPostCommit;typeof R=="function"&&R(N,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){De(n,n.return,P)}}else er(t,n,o,f);break;case 13:er(t,n,o,f);break;case 23:break;case 22:A=n.stateNode,N=n.alternate,n.memoizedState!==null?A._visibility&2?er(t,n,o,f):zo(t,n):A._visibility&2?er(t,n,o,f):(A._visibility|=2,_s(t,n,o,f,(n.subtreeFlags&10256)!==0)),x&2048&&Bf(N,n);break;case 24:er(t,n,o,f),x&2048&&Lf(n.alternate,n);break;default:er(t,n,o,f)}}function _s(t,n,o,f,x){for(x=x&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var A=t,N=n,R=o,P=f,J=N.flags;switch(N.tag){case 0:case 11:case 15:_s(A,N,R,P,x),Fo(8,N);break;case 23:break;case 22:var ot=N.stateNode;N.memoizedState!==null?ot._visibility&2?_s(A,N,R,P,x):zo(A,N):(ot._visibility|=2,_s(A,N,R,P,x)),x&&J&2048&&Bf(N.alternate,N);break;case 24:_s(A,N,R,P,x),x&&J&2048&&Lf(N.alternate,N);break;default:_s(A,N,R,P,x)}n=n.sibling}}function zo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=t,f=n,x=f.flags;switch(f.tag){case 22:zo(o,f),x&2048&&Bf(f.alternate,f);break;case 24:zo(o,f),x&2048&&Lf(f.alternate,f);break;default:zo(o,f)}n=n.sibling}}var jo=8192;function Bs(t){if(t.subtreeFlags&jo)for(t=t.child;t!==null;)kd(t),t=t.sibling}function kd(t){switch(t.tag){case 26:Bs(t),t.flags&jo&&t.memoizedState!==null&&Jy(_i,t.memoizedState,t.memoizedProps);break;case 5:Bs(t);break;case 3:case 4:var n=_i;_i=Lu(t.stateNode.containerInfo),Bs(t),_i=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=jo,jo=16777216,Bs(t),jo=n):Bs(t));break;default:Bs(t)}}function Fd(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ho(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var f=n[o];Sn=f,zd(f,t)}Fd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vd(t),t=t.sibling}function Vd(t){switch(t.tag){case 0:case 11:case 15:Ho(t),t.flags&2048&&ra(9,t,t.return);break;case 3:Ho(t);break;case 12:Ho(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Su(t)):Ho(t);break;default:Ho(t)}}function Su(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var f=n[o];Sn=f,zd(f,t)}Fd(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ra(8,n,n.return),Su(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Su(n));break;default:Su(n)}t=t.sibling}}function zd(t,n){for(;Sn!==null;){var o=Sn;switch(o.tag){case 0:case 11:case 15:ra(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:To(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,Sn=f;else t:for(o=t;Sn!==null;){f=Sn;var x=f.sibling,A=f.return;if(Rd(f),f===o){Sn=null;break t}if(x!==null){x.return=A,Sn=x;break t}Sn=A}}}var gy={getCacheForType:function(t){var n=kn(xn),o=n.data.get(t);return o===void 0&&(o=t(),n.data.set(t,o)),o}},my=typeof WeakMap=="function"?WeakMap:Map,pe=0,Oe=null,qt=null,re=0,ye=0,si=null,oa=!1,Ls=!1,Pf=!1,Dr=0,qe=0,la=0,Wa=0,Uf=0,Ei=0,Ps=0,Go=null,Jn=null,kf=!1,Ff=0,bu=1/0,Tu=null,ua=null,Dn=0,ca=null,Us=null,ks=0,Vf=0,zf=null,jd=null,Yo=0,jf=null;function oi(){if((pe&2)!==0&&re!==0)return re&-re;if(at.T!==null){var t=Ts;return t!==0?t:Wf()}return fr()}function Hd(){Ei===0&&(Ei=(re&536870912)===0||ce?ss():536870912);var t=wi.current;return t!==null&&(t.flags|=32),Ei}function li(t,n,o){(t===Oe&&(ye===2||ye===9)||t.cancelPendingCommit!==null)&&(Fs(t,0),fa(t,re,Ei,!1)),$n(t,o),((pe&2)===0||t!==Oe)&&(t===Oe&&((pe&2)===0&&(Wa|=o),qe===4&&fa(t,re,Ei,!1)),nr(t))}function Gd(t,n,o){if((pe&6)!==0)throw Error(h(327));var f=!o&&(n&124)===0&&(n&t.expiredLanes)===0||Ce(t,n),x=f?yy(t,n):Yf(t,n,!0),A=f;do{if(x===0){Ls&&!f&&fa(t,n,0,!1);break}else{if(o=t.current.alternate,A&&!xy(o)){x=Yf(t,n,!1),A=!1;continue}if(x===2){if(A=n,t.errorRecoveryDisabledLanes&A)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;t:{var R=t;x=Go;var P=R.current.memoizedState.isDehydrated;if(P&&(Fs(R,N).flags|=256),N=Yf(R,N,!1),N!==2){if(Pf&&!P){R.errorRecoveryDisabledLanes|=A,Wa|=A,x=4;break t}A=Jn,Jn=x,A!==null&&(Jn===null?Jn=A:Jn.push.apply(Jn,A))}x=N}if(A=!1,x!==2)continue}}if(x===1){Fs(t,0),fa(t,n,0,!0);break}t:{switch(f=t,A=x,A){case 0:case 1:throw Error(h(345));case 4:if((n&4194048)!==n)break;case 6:fa(f,n,Ei,!oa);break t;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(h(329))}if((n&62914560)===n&&(x=Ff+300-we(),10<x)){if(fa(f,n,Ei,!oa),se(f,0,!0)!==0)break t;f.timeoutHandle=Ag(Yd.bind(null,f,o,Jn,Tu,kf,n,Ei,Wa,Ps,oa,A,2,-0,0),x);break t}Yd(f,o,Jn,Tu,kf,n,Ei,Wa,Ps,oa,A,0,-0,0)}}break}while(!0);nr(t)}function Yd(t,n,o,f,x,A,N,R,P,J,ot,ft,$,et){if(t.timeoutHandle=-1,ft=n.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(Jo={stylesheets:null,count:0,unsuspend:Ky},kd(n),ft=$y(),ft!==null)){t.cancelPendingCommit=ft(Jd.bind(null,t,n,A,o,f,x,N,R,P,ot,1,$,et)),fa(t,A,N,!J);return}Jd(t,n,A,o,f,x,N,R,P)}function xy(t){for(var n=t;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var x=o[f],A=x.getSnapshot;x=x.value;try{if(!u(A(),x))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fa(t,n,o,f){n&=~Uf,n&=~Wa,t.suspendedLanes|=n,t.pingedLanes&=~n,f&&(t.warmLanes|=n),f=t.expirationTimes;for(var x=n;0<x;){var A=31-de(x),N=1<<A;f[A]=-1,x&=~N}o!==0&&co(t,o,n)}function vu(){return(pe&6)===0?(Xo(0),!1):!0}function Hf(){if(qt!==null){if(ye===0)var t=qt.return;else t=qt,Er=Ha=null,sf(t),Os=null,Po=0,t=qt;for(;t!==null;)bd(t.alternate,t),t=t.return;qt=null}}function Fs(t,n){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,By(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Hf(),Oe=t,qt=o=yr(t.current,null),re=n,ye=0,si=null,oa=!1,Ls=Ce(t,n),Pf=!1,Ps=Ei=Uf=Wa=la=qe=0,Jn=Go=null,kf=!1,(n&8)!==0&&(n|=n&32);var f=t.entangledLanes;if(f!==0)for(t=t.entanglements,f&=n;0<f;){var x=31-de(f),A=1<<x;n|=t[x],f&=~A}return Dr=n,ql(),o}function Xd(t,n){Ht=null,at.H=du,n===No||n===iu?(n=u1(),ye=3):n===s1?(n=u1(),ye=4):ye=n===cd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,si=n,qt===null&&(qe=1,yu(t,xi(n,t.current)))}function Zd(){var t=at.H;return at.H=du,t===null?du:t}function qd(){var t=at.A;return at.A=gy,t}function Gf(){qe=4,oa||(re&4194048)!==re&&wi.current!==null||(Ls=!0),(la&134217727)===0&&(Wa&134217727)===0||Oe===null||fa(Oe,re,Ei,!1)}function Yf(t,n,o){var f=pe;pe|=2;var x=Zd(),A=qd();(Oe!==t||re!==n)&&(Tu=null,Fs(t,n)),n=!1;var N=qe;t:do try{if(ye!==0&&qt!==null){var R=qt,P=si;switch(ye){case 8:Hf(),N=6;break t;case 3:case 2:case 9:case 6:wi.current===null&&(n=!0);var J=ye;if(ye=0,si=null,Vs(t,R,P,J),o&&Ls){N=0;break t}break;default:J=ye,ye=0,si=null,Vs(t,R,P,J)}}py(),N=qe;break}catch(ot){Xd(t,ot)}while(!0);return n&&t.shellSuspendCounter++,Er=Ha=null,pe=f,at.H=x,at.A=A,qt===null&&(Oe=null,re=0,ql()),N}function py(){for(;qt!==null;)Wd(qt)}function yy(t,n){var o=pe;pe|=2;var f=Zd(),x=qd();Oe!==t||re!==n?(Tu=null,bu=we()+500,Fs(t,n)):Ls=Ce(t,n);t:do try{if(ye!==0&&qt!==null){n=qt;var A=si;e:switch(ye){case 1:ye=0,si=null,Vs(t,n,A,1);break;case 2:case 9:if(o1(A)){ye=0,si=null,Qd(n);break}n=function(){ye!==2&&ye!==9||Oe!==t||(ye=7),nr(t)},A.then(n,n);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:o1(A)?(ye=0,si=null,Qd(n)):(ye=0,si=null,Vs(t,n,A,7));break;case 5:var N=null;switch(qt.tag){case 26:N=qt.memoizedState;case 5:case 27:var R=qt;if(!N||Og(N)){ye=0,si=null;var P=R.sibling;if(P!==null)qt=P;else{var J=R.return;J!==null?(qt=J,Nu(J)):qt=null}break e}}ye=0,si=null,Vs(t,n,A,5);break;case 6:ye=0,si=null,Vs(t,n,A,6);break;case 8:Hf(),qe=6;break t;default:throw Error(h(462))}}Ay();break}catch(ot){Xd(t,ot)}while(!0);return Er=Ha=null,at.H=f,at.A=x,pe=o,qt!==null?0:(Oe=null,re=0,ql(),qe)}function Ay(){for(;qt!==null&&!di();)Wd(qt)}function Wd(t){var n=Cd(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,n===null?Nu(t):qt=n}function Qd(t){var n=t,o=n.alternate;switch(n.tag){case 15:case 0:n=xd(o,n,n.pendingProps,n.type,void 0,re);break;case 11:n=xd(o,n,n.pendingProps,n.type.render,n.ref,re);break;case 5:sf(n);default:bd(o,n),n=qt=K0(n,Dr),n=Cd(o,n,Dr)}t.memoizedProps=t.pendingProps,n===null?Nu(t):qt=n}function Vs(t,n,o,f){Er=Ha=null,sf(n),Os=null,Po=0;var x=n.return;try{if(ly(t,x,n,o,re)){qe=1,yu(t,xi(o,t.current)),qt=null;return}}catch(A){if(x!==null)throw qt=x,A;qe=1,yu(t,xi(o,t.current)),qt=null;return}n.flags&32768?(ce||f===1?t=!0:Ls||(re&536870912)!==0?t=!1:(oa=t=!0,(f===2||f===9||f===3||f===6)&&(f=wi.current,f!==null&&f.tag===13&&(f.flags|=16384))),Kd(n,t)):Nu(n)}function Nu(t){var n=t;do{if((n.flags&32768)!==0){Kd(n,oa);return}t=n.return;var o=cy(n.alternate,n,Dr);if(o!==null){qt=o;return}if(n=n.sibling,n!==null){qt=n;return}qt=n=t}while(n!==null);qe===0&&(qe=5)}function Kd(t,n){do{var o=fy(t.alternate,t);if(o!==null){o.flags&=32767,qt=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(t=t.sibling,t!==null)){qt=t;return}qt=t=o}while(t!==null);qe=6,qt=null}function Jd(t,n,o,f,x,A,N,R,P){t.cancelPendingCommit=null;do Mu();while(Dn!==0);if((pe&6)!==0)throw Error(h(327));if(n!==null){if(n===t.current)throw Error(h(177));if(A=n.lanes|n.childLanes,A|=Bc,Ul(t,o,A,N,R,P),t===Oe&&(qt=Oe=null,re=0),Us=n,ca=t,ks=o,Vf=A,zf=x,jd=f,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Sy(St,function(){return ig(),null})):(t.callbackNode=null,t.callbackPriority=0),f=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||f){f=at.T,at.T=null,x=st.p,st.p=2,N=pe,pe|=4;try{hy(t,n,o)}finally{pe=N,st.p=x,at.T=f}}Dn=1,$d(),tg(),eg()}}function $d(){if(Dn===1){Dn=0;var t=ca,n=Us,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=at.T,at.T=null;var f=st.p;st.p=2;var x=pe;pe|=4;try{Ld(n,t);var A=ih,N=w(t.containerInfo),R=A.focusedElem,P=A.selectionRange;if(N!==R&&R&&R.ownerDocument&&y(R.ownerDocument.documentElement,R)){if(P!==null&&T(R)){var J=P.start,ot=P.end;if(ot===void 0&&(ot=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(ot,R.value.length);else{var ft=R.ownerDocument||document,$=ft&&ft.defaultView||window;if($.getSelection){var et=$.getSelection(),Pt=R.textContent.length,_t=Math.min(P.start,Pt),Te=P.end===void 0?_t:Math.min(P.end,Pt);!et.extend&&_t>Te&&(N=Te,Te=_t,_t=N);var G=g(R,_t),V=g(R,Te);if(G&&V&&(et.rangeCount!==1||et.anchorNode!==G.node||et.anchorOffset!==G.offset||et.focusNode!==V.node||et.focusOffset!==V.offset)){var K=ft.createRange();K.setStart(G.node,G.offset),et.removeAllRanges(),_t>Te?(et.addRange(K),et.extend(V.node,V.offset)):(K.setEnd(V.node,V.offset),et.addRange(K))}}}}for(ft=[],et=R;et=et.parentNode;)et.nodeType===1&&ft.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ft.length;R++){var ct=ft[R];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}Vu=!!nh,ih=nh=null}finally{pe=x,st.p=f,at.T=o}}t.current=n,Dn=2}}function tg(){if(Dn===2){Dn=0;var t=ca,n=Us,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=at.T,at.T=null;var f=st.p;st.p=2;var x=pe;pe|=4;try{Od(t,n.alternate,n)}finally{pe=x,st.p=f,at.T=o}}Dn=3}}function eg(){if(Dn===4||Dn===3){Dn=0,ba();var t=ca,n=Us,o=ks,f=jd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dn=5:(Dn=0,Us=ca=null,ng(t,t.pendingLanes));var x=t.pendingLanes;if(x===0&&(ua=null),an(o),n=n.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Tn,n,void 0,(n.current.flags&128)===128)}catch{}if(f!==null){n=at.T,x=st.p,st.p=2,at.T=null;try{for(var A=t.onRecoverableError,N=0;N<f.length;N++){var R=f[N];A(R.value,{componentStack:R.stack})}}finally{at.T=n,st.p=x}}(ks&3)!==0&&Mu(),nr(t),x=t.pendingLanes,(o&4194090)!==0&&(x&42)!==0?t===jf?Yo++:(Yo=0,jf=t):Yo=0,Xo(0)}}function ng(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,To(n)))}function Mu(t){return $d(),tg(),eg(),ig()}function ig(){if(Dn!==5)return!1;var t=ca,n=Vf;Vf=0;var o=an(ks),f=at.T,x=st.p;try{st.p=32>o?32:o,at.T=null,o=zf,zf=null;var A=ca,N=ks;if(Dn=0,Us=ca=null,ks=0,(pe&6)!==0)throw Error(h(331));var R=pe;if(pe|=4,Vd(A.current),Ud(A,A.current,N,o),pe=R,Xo(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Tn,A)}catch{}return!0}finally{st.p=x,at.T=f,ng(t,n)}}function rg(t,n,o){n=xi(o,n),n=wf(t.stateNode,n,2),t=ta(t,n,2),t!==null&&($n(t,2),nr(t))}function De(t,n,o){if(t.tag===3)rg(t,t,o);else for(;n!==null;){if(n.tag===3){rg(n,t,o);break}else if(n.tag===1){var f=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ua===null||!ua.has(f))){t=xi(o,t),o=ld(2),f=ta(n,o,2),f!==null&&(ud(o,f,n,t),$n(f,2),nr(f));break}}n=n.return}}function Xf(t,n,o){var f=t.pingCache;if(f===null){f=t.pingCache=new my;var x=new Set;f.set(n,x)}else x=f.get(n),x===void 0&&(x=new Set,f.set(n,x));x.has(o)||(Pf=!0,x.add(o),t=wy.bind(null,t,n,o),n.then(t,t))}function wy(t,n,o){var f=t.pingCache;f!==null&&f.delete(n),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Oe===t&&(re&o)===o&&(qe===4||qe===3&&(re&62914560)===re&&300>we()-Ff?(pe&2)===0&&Fs(t,0):Uf|=o,Ps===re&&(Ps=0)),nr(t)}function ag(t,n){n===0&&(n=uo()),t=Es(t,n),t!==null&&($n(t,n),nr(t))}function Ey(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),ag(t,o)}function Cy(t,n){var o=0;switch(t.tag){case 13:var f=t.stateNode,x=t.memoizedState;x!==null&&(o=x.retryLane);break;case 19:f=t.stateNode;break;case 22:f=t.stateNode._retryCache;break;default:throw Error(h(314))}f!==null&&f.delete(n),ag(t,o)}function Sy(t,n){return te(t,n)}var Du=null,zs=null,Zf=!1,Iu=!1,qf=!1,Qa=0;function nr(t){t!==zs&&t.next===null&&(zs===null?Du=zs=t:zs=zs.next=t),Iu=!0,Zf||(Zf=!0,Ty())}function Xo(t,n){if(!qf&&Iu){qf=!0;do for(var o=!1,f=Du;f!==null;){if(t!==0){var x=f.pendingLanes;if(x===0)var A=0;else{var N=f.suspendedLanes,R=f.pingedLanes;A=(1<<31-de(42|t)+1)-1,A&=x&~(N&~R),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(o=!0,ug(f,A))}else A=re,A=se(f,f===Oe?A:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(A&3)===0||Ce(f,A)||(o=!0,ug(f,A));f=f.next}while(o);qf=!1}}function by(){sg()}function sg(){Iu=Zf=!1;var t=0;Qa!==0&&(_y()&&(t=Qa),Qa=0);for(var n=we(),o=null,f=Du;f!==null;){var x=f.next,A=og(f,n);A===0?(f.next=null,o===null?Du=x:o.next=x,x===null&&(zs=o)):(o=f,(t!==0||(A&3)!==0)&&(Iu=!0)),f=x}Xo(t)}function og(t,n){for(var o=t.suspendedLanes,f=t.pingedLanes,x=t.expirationTimes,A=t.pendingLanes&-62914561;0<A;){var N=31-de(A),R=1<<N,P=x[N];P===-1?((R&o)===0||(R&f)!==0)&&(x[N]=va(R,n)):P<=n&&(t.expiredLanes|=R),A&=~R}if(n=Oe,o=re,o=se(t,t===n?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),f=t.callbackNode,o===0||t===n&&(ye===2||ye===9)||t.cancelPendingCommit!==null)return f!==null&&f!==null&&ki(f),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Ce(t,o)){if(n=o&-o,n===t.callbackPriority)return n;switch(f!==null&&ki(f),an(o)){case 2:case 8:o=Ta;break;case 32:o=St;break;case 268435456:o=oo;break;default:o=St}return f=lg.bind(null,t),o=te(o,f),t.callbackPriority=n,t.callbackNode=o,n}return f!==null&&f!==null&&ki(f),t.callbackPriority=2,t.callbackNode=null,2}function lg(t,n){if(Dn!==0&&Dn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Mu()&&t.callbackNode!==o)return null;var f=re;return f=se(t,t===Oe?f:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),f===0?null:(Gd(t,f,n),og(t,we()),t.callbackNode!=null&&t.callbackNode===o?lg.bind(null,t):null)}function ug(t,n){if(Mu())return null;Gd(t,n,!0)}function Ty(){Ly(function(){(pe&6)!==0?te(Kt,by):sg()})}function Wf(){return Qa===0&&(Qa=ss()),Qa}function cg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function fg(t,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,t.id&&o.setAttribute("form",t.id),n.parentNode.insertBefore(o,n),t=new FormData(t),o.parentNode.removeChild(o),t}function vy(t,n,o,f,x){if(n==="submit"&&o&&o.stateNode===x){var A=cg((x[Ge]||null).action),N=f.submitter;N&&(n=(n=N[Ge]||null)?cg(n.formAction):N.getAttribute("formAction"),n!==null&&(A=n,N=null));var R=new qi("action","action",null,f,x);t.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Qa!==0){var P=N?fg(x,N):new FormData(x);mf(o,{pending:!0,data:P,method:x.method,action:A},null,P)}}else typeof A=="function"&&(R.preventDefault(),P=N?fg(x,N):new FormData(x),mf(o,{pending:!0,data:P,method:x.method,action:A},A,P))},currentTarget:x}]})}}for(var Qf=0;Qf<Ki.length;Qf++){var Kf=Ki[Qf],Ny=Kf.toLowerCase(),My=Kf[0].toUpperCase()+Kf.slice(1);ni(Ny,"on"+My)}ni(Ut,"onAnimationEnd"),ni(Nn,"onAnimationIteration"),ni(Wn,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Pn,"onTransitionRun"),ni(xe,"onTransitionStart"),ni(mn,"onTransitionCancel"),ni(Un,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function hg(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var f=t[o],x=f.event;f=f.listeners;t:{var A=void 0;if(n)for(var N=f.length-1;0<=N;N--){var R=f[N],P=R.instance,J=R.currentTarget;if(R=R.listener,P!==A&&x.isPropagationStopped())break t;A=R,x.currentTarget=J;try{A(x)}catch(ot){pu(ot)}x.currentTarget=null,A=P}else for(N=0;N<f.length;N++){if(R=f[N],P=R.instance,J=R.currentTarget,R=R.listener,P!==A&&x.isPropagationStopped())break t;A=R,x.currentTarget=J;try{A(x)}catch(ot){pu(ot)}x.currentTarget=null,A=P}}}}function Wt(t,n){var o=n[wn];o===void 0&&(o=n[wn]=new Set);var f=t+"__bubble";o.has(f)||(dg(n,t,2,!1),o.add(f))}function Jf(t,n,o){var f=0;n&&(f|=4),dg(o,t,f,n)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function $f(t){if(!t[Ou]){t[Ou]=!0,kl.forEach(function(o){o!=="selectionchange"&&(Dy.has(o)||Jf(o,!1,t),Jf(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ou]||(n[Ou]=!0,Jf("selectionchange",!1,n))}}function dg(t,n,o,f){switch(Ug(n)){case 2:var x=n3;break;case 8:x=i3;break;default:x=dh}o=x.bind(null,n,o,t),x=void 0,!kt||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(x=!0),f?x!==void 0?t.addEventListener(n,o,{capture:!0,passive:x}):t.addEventListener(n,o,!0):x!==void 0?t.addEventListener(n,o,{passive:x}):t.addEventListener(n,o,!1)}function th(t,n,o,f,x){var A=f;if((n&1)===0&&(n&2)===0&&f!==null)t:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var R=f.stateNode.containerInfo;if(R===x)break;if(N===4)for(N=f.return;N!==null;){var P=N.tag;if((P===3||P===4)&&N.stateNode.containerInfo===x)return;N=N.return}for(;R!==null;){if(N=Ke(R),N===null)return;if(P=N.tag,P===5||P===6||P===26||P===27){f=A=N;continue t}R=R.parentNode}}f=f.return}Ii(function(){var J=A,ot=Vr(o),ft=[];t:{var $=pr.get(t);if($!==void 0){var et=qi,Pt=t;switch(t){case"keypress":if(ds(o)===0)break t;case"keydown":case"keyup":et=mo;break;case"focusin":Pt="focus",et=Gr;break;case"focusout":Pt="blur",et=Gr;break;case"beforeblur":case"afterblur":et=Gr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=he;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=me;break;case Ut:case Nn:case Wn:et=vc;break;case Un:et=Ic;break;case"scroll":case"scrollend":et=Bn;break;case"wheel":et=mr;break;case"copy":case"cut":case"paste":et=Vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Ba;break;case"toggle":case"beforetoggle":et=Oc}var _t=(n&4)!==0,Te=!_t&&(t==="scroll"||t==="scrollend"),G=_t?$!==null?$+"Capture":null:$;_t=[];for(var V=J,K;V!==null;){var ct=V;if(K=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||K===null||G===null||(ct=Ot(V,G),ct!=null&&_t.push(qo(V,ct,K))),Te)break;V=V.return}0<_t.length&&($=new et($,Pt,null,o,ot),ft.push({event:$,listeners:_t}))}}if((n&7)===0){t:{if($=t==="mouseover"||t==="pointerover",et=t==="mouseout"||t==="pointerout",$&&o!==Da&&(Pt=o.relatedTarget||o.fromElement)&&(Ke(Pt)||Pt[Fi]))break t;if((et||$)&&($=ot.window===ot?ot:($=ot.ownerDocument)?$.defaultView||$.parentWindow:window,et?(Pt=o.relatedTarget||o.toElement,et=J,Pt=Pt?Ke(Pt):null,Pt!==null&&(Te=p(Pt),_t=Pt.tag,Pt!==Te||_t!==5&&_t!==27&&_t!==6)&&(Pt=null)):(et=null,Pt=J),et!==Pt)){if(_t=jl,ct="onMouseLeave",G="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Ba,ct="onPointerLeave",G="onPointerEnter",V="pointer"),Te=et==null?$:Vi(et),K=Pt==null?$:Vi(Pt),$=new _t(ct,V+"leave",et,o,ot),$.target=Te,$.relatedTarget=K,ct=null,Ke(ot)===J&&(_t=new _t(G,V+"enter",Pt,o,ot),_t.target=K,_t.relatedTarget=Te,ct=_t),Te=ct,et&&Pt)e:{for(_t=et,G=Pt,V=0,K=_t;K;K=js(K))V++;for(K=0,ct=G;ct;ct=js(ct))K++;for(;0<V-K;)_t=js(_t),V--;for(;0<K-V;)G=js(G),K--;for(;V--;){if(_t===G||G!==null&&_t===G.alternate)break e;_t=js(_t),G=js(G)}_t=null}else _t=null;et!==null&&gg(ft,$,et,_t,!1),Pt!==null&&Te!==null&&gg(ft,Te,Pt,_t,!0)}}t:{if($=J?Vi(J):window,et=$.nodeName&&$.nodeName.toLowerCase(),et==="select"||et==="input"&&$.type==="file")var bt=Xl;else if(Ua($))if(Ao)bt=i;else{bt=M;var Xt=As}else et=$.nodeName,!et||et.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?J&&Dt(J.elementType)&&(bt=Xl):bt=e;if(bt&&(bt=bt(t,J))){jn(ft,bt,o,ot);break t}Xt&&Xt(t,$,J),t==="focusout"&&J&&$.type==="number"&&J.memoizedProps.value!=null&&Q($,"number",$.value)}switch(Xt=J?Vi(J):window,t){case"focusin":(Ua(Xt)||Xt.contentEditable==="true")&&(O=Xt,B=J,k=null);break;case"focusout":k=B=O=null;break;case"mousedown":F=!0;break;case"contextmenu":case"mouseup":case"dragend":F=!1,q(ft,o,ot);break;case"selectionchange":if(D)break;case"keydown":case"keyup":q(ft,o,ot)}var It;if(La)t:{switch(t){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Zr?xr(t,o)&&(Bt="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Bt="onCompositionStart");Bt&&(po&&o.locale!=="ko"&&(Zr||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Zr&&(It=Yi()):(Gi=ot,Ia="value"in Gi?Gi.value:Gi.textContent,Zr=!0)),Xt=Ru(J,Bt),0<Xt.length&&(Bt=new Ra(Bt,t,null,o,ot),ft.push({event:Bt,listeners:Xt}),It?Bt.data=It:(It=ps(o),It!==null&&(Bt.data=It)))),(It=xo?Pa(t,o):Rc(t,o))&&(Bt=Ru(J,"onBeforeInput"),0<Bt.length&&(Xt=new Ra("onBeforeInput","beforeinput",null,o,ot),ft.push({event:Xt,listeners:Bt}),Xt.data=It)),vy(ft,t,J,o,ot)}hg(ft,n)})}function qo(t,n,o){return{instance:t,listener:n,currentTarget:o}}function Ru(t,n){for(var o=n+"Capture",f=[];t!==null;){var x=t,A=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||A===null||(x=Ot(t,o),x!=null&&f.unshift(qo(t,x,A)),x=Ot(t,n),x!=null&&f.push(qo(t,x,A))),t.tag===3)return f;t=t.return}return[]}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gg(t,n,o,f,x){for(var A=n._reactName,N=[];o!==null&&o!==f;){var R=o,P=R.alternate,J=R.stateNode;if(R=R.tag,P!==null&&P===f)break;R!==5&&R!==26&&R!==27||J===null||(P=J,x?(J=Ot(o,A),J!=null&&N.unshift(qo(o,J,P))):x||(J=Ot(o,A),J!=null&&N.push(qo(o,J,P)))),o=o.return}N.length!==0&&t.push({event:n,listeners:N})}var Iy=/\r\n?/g,Oy=/\u0000|\uFFFD/g;function mg(t){return(typeof t=="string"?t:""+t).replace(Iy,`
`).replace(Oy,"")}function xg(t,n){return n=mg(n),mg(t)===n}function _u(){}function be(t,n,o,f,x,A){switch(o){case"children":typeof f=="string"?n==="body"||n==="textarea"&&f===""||dn(t,f):(typeof f=="number"||typeof f=="bigint")&&n!=="body"&&dn(t,""+f);break;case"className":ls(t,"class",f);break;case"tabIndex":ls(t,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(t,o,f);break;case"style":zn(t,f,A);break;case"data":if(n!=="object"){ls(t,"data",f);break}case"src":case"href":if(f===""&&(n!=="a"||o!=="href")){t.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){t.removeAttribute(o);break}f=hs(""+f),t.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(o==="formAction"?(n!=="input"&&be(t,n,"name",x.name,x,null),be(t,n,"formEncType",x.formEncType,x,null),be(t,n,"formMethod",x.formMethod,x,null),be(t,n,"formTarget",x.formTarget,x,null)):(be(t,n,"encType",x.encType,x,null),be(t,n,"method",x.method,x,null),be(t,n,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){t.removeAttribute(o);break}f=hs(""+f),t.setAttribute(o,f);break;case"onClick":f!=null&&(t.onclick=_u);break;case"onScroll":f!=null&&Wt("scroll",t);break;case"onScrollEnd":f!=null&&Wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(h(61));if(o=f.__html,o!=null){if(x.children!=null)throw Error(h(60));t.innerHTML=o}}break;case"multiple":t.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":t.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){t.removeAttribute("xlink:href");break}o=hs(""+f),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(o,""+f):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":f===!0?t.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(o,f):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?t.setAttribute(o,f):t.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?t.removeAttribute(o):t.setAttribute(o,f);break;case"popover":Wt("beforetoggle",t),Wt("toggle",t),ht(t,"popover",f);break;case"xlinkActuate":oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":oe(t,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":oe(t,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":oe(t,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":oe(t,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ht(t,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Be.get(o)||o,ht(t,o,f))}}function eh(t,n,o,f,x,A){switch(o){case"style":zn(t,f,A);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(h(61));if(o=f.__html,o!=null){if(x.children!=null)throw Error(h(60));t.innerHTML=o}}break;case"children":typeof f=="string"?dn(t,f):(typeof f=="number"||typeof f=="bigint")&&dn(t,""+f);break;case"onScroll":f!=null&&Wt("scroll",t);break;case"onScrollEnd":f!=null&&Wt("scrollend",t);break;case"onClick":f!=null&&(t.onclick=_u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(x=o.endsWith("Capture"),n=o.slice(2,x?o.length-7:void 0),A=t[Ge]||null,A=A!=null?A[o]:null,typeof A=="function"&&t.removeEventListener(n,A,x),typeof f=="function")){typeof A!="function"&&A!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(n,f,x);break t}o in t?t[o]=f:f===!0?t.setAttribute(o,""):ht(t,o,f)}}}function In(t,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",t),Wt("load",t);var f=!1,x=!1,A;for(A in o)if(o.hasOwnProperty(A)){var N=o[A];if(N!=null)switch(A){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:be(t,n,A,N,o,null)}}x&&be(t,n,"srcSet",o.srcSet,o,null),f&&be(t,n,"src",o.src,o,null);return;case"input":Wt("invalid",t);var R=A=N=x=null,P=null,J=null;for(f in o)if(o.hasOwnProperty(f)){var ot=o[f];if(ot!=null)switch(f){case"name":x=ot;break;case"type":N=ot;break;case"checked":P=ot;break;case"defaultChecked":J=ot;break;case"value":A=ot;break;case"defaultValue":R=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(h(137,n));break;default:be(t,n,f,ot,o,null)}}hn(t,A,R,P,J,N,x,!1),cs(t);return;case"select":Wt("invalid",t),f=N=A=null;for(x in o)if(o.hasOwnProperty(x)&&(R=o[x],R!=null))switch(x){case"value":A=R;break;case"defaultValue":N=R;break;case"multiple":f=R;default:be(t,n,x,R,o,null)}n=A,o=N,t.multiple=!!f,n!=null?_(t,!!f,n,!1):o!=null&&_(t,!!f,o,!0);return;case"textarea":Wt("invalid",t),A=x=f=null;for(N in o)if(o.hasOwnProperty(N)&&(R=o[N],R!=null))switch(N){case"value":f=R;break;case"defaultValue":x=R;break;case"children":A=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(h(91));break;default:be(t,n,N,R,o,null)}Je(t,f,x,A),cs(t);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(f=o[P],f!=null))switch(P){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:be(t,n,P,f,o,null)}return;case"dialog":Wt("beforetoggle",t),Wt("toggle",t),Wt("cancel",t),Wt("close",t);break;case"iframe":case"object":Wt("load",t);break;case"video":case"audio":for(f=0;f<Zo.length;f++)Wt(Zo[f],t);break;case"image":Wt("error",t),Wt("load",t);break;case"details":Wt("toggle",t);break;case"embed":case"source":case"link":Wt("error",t),Wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(f=o[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(h(137,n));default:be(t,n,J,f,o,null)}return;default:if(Dt(n)){for(ot in o)o.hasOwnProperty(ot)&&(f=o[ot],f!==void 0&&eh(t,n,ot,f,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(f=o[R],f!=null&&be(t,n,R,f,o,null))}function Ry(t,n,o,f){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,A=null,N=null,R=null,P=null,J=null,ot=null;for(et in o){var ft=o[et];if(o.hasOwnProperty(et)&&ft!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":P=ft;default:f.hasOwnProperty(et)||be(t,n,et,null,f,ft)}}for(var $ in f){var et=f[$];if(ft=o[$],f.hasOwnProperty($)&&(et!=null||ft!=null))switch($){case"type":A=et;break;case"name":x=et;break;case"checked":J=et;break;case"defaultChecked":ot=et;break;case"value":N=et;break;case"defaultValue":R=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(h(137,n));break;default:et!==ft&&be(t,n,$,et,f,ft)}}fe(t,N,R,P,J,ot,A,x);return;case"select":et=N=R=$=null;for(A in o)if(P=o[A],o.hasOwnProperty(A)&&P!=null)switch(A){case"value":break;case"multiple":et=P;default:f.hasOwnProperty(A)||be(t,n,A,null,f,P)}for(x in f)if(A=f[x],P=o[x],f.hasOwnProperty(x)&&(A!=null||P!=null))switch(x){case"value":$=A;break;case"defaultValue":R=A;break;case"multiple":N=A;default:A!==P&&be(t,n,x,A,f,P)}n=R,o=N,f=et,$!=null?_(t,!!o,$,!1):!!f!=!!o&&(n!=null?_(t,!!o,n,!0):_(t,!!o,o?[]:"",!1));return;case"textarea":et=$=null;for(R in o)if(x=o[R],o.hasOwnProperty(R)&&x!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:be(t,n,R,null,f,x)}for(N in f)if(x=f[N],A=o[N],f.hasOwnProperty(N)&&(x!=null||A!=null))switch(N){case"value":$=x;break;case"defaultValue":et=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(h(91));break;default:x!==A&&be(t,n,N,x,f,A)}Mt(t,$,et);return;case"option":for(var Pt in o)if($=o[Pt],o.hasOwnProperty(Pt)&&$!=null&&!f.hasOwnProperty(Pt))switch(Pt){case"selected":t.selected=!1;break;default:be(t,n,Pt,null,f,$)}for(P in f)if($=f[P],et=o[P],f.hasOwnProperty(P)&&$!==et&&($!=null||et!=null))switch(P){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:be(t,n,P,$,f,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)$=o[_t],o.hasOwnProperty(_t)&&$!=null&&!f.hasOwnProperty(_t)&&be(t,n,_t,null,f,$);for(J in f)if($=f[J],et=o[J],f.hasOwnProperty(J)&&$!==et&&($!=null||et!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(h(137,n));break;default:be(t,n,J,$,f,et)}return;default:if(Dt(n)){for(var Te in o)$=o[Te],o.hasOwnProperty(Te)&&$!==void 0&&!f.hasOwnProperty(Te)&&eh(t,n,Te,void 0,f,$);for(ot in f)$=f[ot],et=o[ot],!f.hasOwnProperty(ot)||$===et||$===void 0&&et===void 0||eh(t,n,ot,$,f,et);return}}for(var G in o)$=o[G],o.hasOwnProperty(G)&&$!=null&&!f.hasOwnProperty(G)&&be(t,n,G,null,f,$);for(ft in f)$=f[ft],et=o[ft],!f.hasOwnProperty(ft)||$===et||$==null&&et==null||be(t,n,ft,$,f,et)}var nh=null,ih=null;function Bu(t){return t.nodeType===9?t:t.ownerDocument}function pg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ah=null;function _y(){var t=window.event;return t&&t.type==="popstate"?t===ah?!1:(ah=t,!0):(ah=null,!1)}var Ag=typeof setTimeout=="function"?setTimeout:void 0,By=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,Ly=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(t){return wg.resolve(null).then(t).catch(Py)}:Ag;function Py(t){setTimeout(function(){throw t})}function ha(t){return t==="head"}function Eg(t,n){var o=n,f=0,x=0;do{var A=o.nextSibling;if(t.removeChild(o),A&&A.nodeType===8)if(o=A.data,o==="/$"){if(0<f&&8>f){o=f;var N=t.ownerDocument;if(o&1&&Wo(N.documentElement),o&2&&Wo(N.body),o&4)for(o=N.head,Wo(o),N=o.firstChild;N;){var R=N.nextSibling,P=N.nodeName;N[gi]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&N.rel.toLowerCase()==="stylesheet"||o.removeChild(N),N=R}}if(x===0){t.removeChild(A),il(n);return}x--}else o==="$"||o==="$?"||o==="$!"?x++:f=o.charCodeAt(0)-48;else f=0;o=A}while(o);il(n)}function sh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sh(o),Ma(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function Uy(t,n,o,f){for(;t.nodeType===1;){var x=o;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!f&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(f){if(!t[gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(A=t.getAttribute("rel"),A==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(A!==x.rel||t.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||t.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||t.getAttribute("title")!==(x.title==null?null:x.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(A=t.getAttribute("src"),(A!==(x.src==null?null:x.src)||t.getAttribute("type")!==(x.type==null?null:x.type)||t.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&A&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var A=x.name==null?null:""+x.name;if(x.type==="hidden"&&t.getAttribute("name")===A)return t}else return t;if(t=Bi(t.nextSibling),t===null)break}return null}function ky(t,n,o){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Bi(t.nextSibling),t===null))return null;return t}function oh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Fy(t,n){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")n();else{var f=function(){n(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),t._reactRetry=f}}function Bi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var lh=null;function Cg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}function Sg(t,n,o){switch(n=Bu(o),t){case"html":if(t=n.documentElement,!t)throw Error(h(452));return t;case"head":if(t=n.head,!t)throw Error(h(453));return t;case"body":if(t=n.body,!t)throw Error(h(454));return t;default:throw Error(h(451))}}function Wo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ma(t)}var Ci=new Map,bg=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ir=st.d;st.d={f:Vy,r:zy,D:jy,C:Hy,L:Gy,m:Yy,X:Zy,S:Xy,M:qy};function Vy(){var t=Ir.f(),n=vu();return t||n}function zy(t){var n=ti(t);n!==null&&n.tag===5&&n.type==="form"?G1(n):Ir.r(t)}var Hs=typeof document>"u"?null:document;function Tg(t,n,o){var f=Hs;if(f&&typeof n=="string"&&n){var x=fn(n);x='link[rel="'+t+'"][href="'+x+'"]',typeof o=="string"&&(x+='[crossorigin="'+o+'"]'),bg.has(x)||(bg.add(x),t={rel:t,crossOrigin:o,href:n},f.querySelector(x)===null&&(n=f.createElement("link"),In(n,"link",t),ge(n),f.head.appendChild(n)))}}function jy(t){Ir.D(t),Tg("dns-prefetch",t,null)}function Hy(t,n){Ir.C(t,n),Tg("preconnect",t,n)}function Gy(t,n,o){Ir.L(t,n,o);var f=Hs;if(f&&t&&n){var x='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(x+='[imagesrcset="'+fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(x+='[imagesizes="'+fn(o.imageSizes)+'"]')):x+='[href="'+fn(t)+'"]';var A=x;switch(n){case"style":A=Gs(t);break;case"script":A=Ys(t)}Ci.has(A)||(t=v({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:t,as:n},o),Ci.set(A,t),f.querySelector(x)!==null||n==="style"&&f.querySelector(Qo(A))||n==="script"&&f.querySelector(Ko(A))||(n=f.createElement("link"),In(n,"link",t),ge(n),f.head.appendChild(n)))}}function Yy(t,n){Ir.m(t,n);var o=Hs;if(o&&t){var f=n&&typeof n.as=="string"?n.as:"script",x='link[rel="modulepreload"][as="'+fn(f)+'"][href="'+fn(t)+'"]',A=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Ys(t)}if(!Ci.has(A)&&(t=v({rel:"modulepreload",href:t},n),Ci.set(A,t),o.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ko(A)))return}f=o.createElement("link"),In(f,"link",t),ge(f),o.head.appendChild(f)}}}function Xy(t,n,o){Ir.S(t,n,o);var f=Hs;if(f&&t){var x=Mi(f).hoistableStyles,A=Gs(t);n=n||"default";var N=x.get(A);if(!N){var R={loading:0,preload:null};if(N=f.querySelector(Qo(A)))R.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},o),(o=Ci.get(A))&&uh(t,o);var P=N=f.createElement("link");ge(P),In(P,"link",t),P._p=new Promise(function(J,ot){P.onload=J,P.onerror=ot}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Pu(N,n,f)}N={type:"stylesheet",instance:N,count:1,state:R},x.set(A,N)}}}function Zy(t,n){Ir.X(t,n);var o=Hs;if(o&&t){var f=Mi(o).hoistableScripts,x=Ys(t),A=f.get(x);A||(A=o.querySelector(Ko(x)),A||(t=v({src:t,async:!0},n),(n=Ci.get(x))&&ch(t,n),A=o.createElement("script"),ge(A),In(A,"link",t),o.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},f.set(x,A))}}function qy(t,n){Ir.M(t,n);var o=Hs;if(o&&t){var f=Mi(o).hoistableScripts,x=Ys(t),A=f.get(x);A||(A=o.querySelector(Ko(x)),A||(t=v({src:t,async:!0,type:"module"},n),(n=Ci.get(x))&&ch(t,n),A=o.createElement("script"),ge(A),In(A,"link",t),o.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},f.set(x,A))}}function vg(t,n,o,f){var x=(x=Nt.current)?Lu(x):null;if(!x)throw Error(h(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Gs(o.href),o=Mi(x).hoistableStyles,f=o.get(n),f||(f={type:"style",instance:null,count:0,state:null},o.set(n,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Gs(o.href);var A=Mi(x).hoistableStyles,N=A.get(t);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(t,N),(A=x.querySelector(Qo(t)))&&!A._p&&(N.instance=A,N.state.loading=5),Ci.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ci.set(t,o),A||Wy(x,t,o,N.state))),n&&f===null)throw Error(h(528,""));return N}if(n&&f!==null)throw Error(h(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ys(o),o=Mi(x).hoistableScripts,f=o.get(n),f||(f={type:"script",instance:null,count:0,state:null},o.set(n,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(h(444,t))}}function Gs(t){return'href="'+fn(t)+'"'}function Qo(t){return'link[rel="stylesheet"]['+t+"]"}function Ng(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Wy(t,n,o,f){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?f.loading=1:(n=t.createElement("link"),f.preload=n,n.addEventListener("load",function(){return f.loading|=1}),n.addEventListener("error",function(){return f.loading|=2}),In(n,"link",o),ge(n),t.head.appendChild(n))}function Ys(t){return'[src="'+fn(t)+'"]'}function Ko(t){return"script[async]"+t}function Mg(t,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var f=t.querySelector('style[data-href~="'+fn(o.href)+'"]');if(f)return n.instance=f,ge(f),f;var x=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(t.ownerDocument||t).createElement("style"),ge(f),In(f,"style",x),Pu(f,o.precedence,t),n.instance=f;case"stylesheet":x=Gs(o.href);var A=t.querySelector(Qo(x));if(A)return n.state.loading|=4,n.instance=A,ge(A),A;f=Ng(o),(x=Ci.get(x))&&uh(f,x),A=(t.ownerDocument||t).createElement("link"),ge(A);var N=A;return N._p=new Promise(function(R,P){N.onload=R,N.onerror=P}),In(A,"link",f),n.state.loading|=4,Pu(A,o.precedence,t),n.instance=A;case"script":return A=Ys(o.src),(x=t.querySelector(Ko(A)))?(n.instance=x,ge(x),x):(f=o,(x=Ci.get(A))&&(f=v({},o),ch(f,x)),t=t.ownerDocument||t,x=t.createElement("script"),ge(x),In(x,"link",f),t.head.appendChild(x),n.instance=x);case"void":return null;default:throw Error(h(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(f=n.instance,n.state.loading|=4,Pu(f,o.precedence,t));return n.instance}function Pu(t,n,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,A=x,N=0;N<f.length;N++){var R=f[N];if(R.dataset.precedence===n)A=R;else if(A!==x)break}A?A.parentNode.insertBefore(t,A.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(t,n.firstChild))}function uh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ch(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Uu=null;function Dg(t,n,o){if(Uu===null){var f=new Map,x=Uu=new Map;x.set(o,f)}else x=Uu,f=x.get(o),f||(f=new Map,x.set(o,f));if(f.has(t))return f;for(f.set(t,null),o=o.getElementsByTagName(t),x=0;x<o.length;x++){var A=o[x];if(!(A[gi]||A[An]||t==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var N=A.getAttribute(n)||"";N=t+N;var R=f.get(N);R?R.push(A):f.set(N,[A])}}return f}function Ig(t,n,o){t=t.ownerDocument||t,t.head.insertBefore(o,n==="title"?t.querySelector("head > title"):null)}function Qy(t,n,o){if(o===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Og(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Jo=null;function Ky(){}function Jy(t,n,o){if(Jo===null)throw Error(h(475));var f=Jo;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var x=Gs(o.href),A=t.querySelector(Qo(x));if(A){t=A._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(f.count++,f=ku.bind(f),t.then(f,f)),n.state.loading|=4,n.instance=A,ge(A);return}A=t.ownerDocument||t,o=Ng(o),(x=Ci.get(x))&&uh(o,x),A=A.createElement("link"),ge(A);var N=A;N._p=new Promise(function(R,P){N.onload=R,N.onerror=P}),In(A,"link",o),n.instance=A}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(f.count++,n=ku.bind(f),t.addEventListener("load",n),t.addEventListener("error",n))}}function $y(){if(Jo===null)throw Error(h(475));var t=Jo;return t.stylesheets&&t.count===0&&fh(t,t.stylesheets),0<t.count?function(n){var o=setTimeout(function(){if(t.stylesheets&&fh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(o)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fu=null;function fh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fu=new Map,n.forEach(t3,t),Fu=null,ku.call(t))}function t3(t,n){if(!(n.state.loading&4)){var o=Fu.get(t);if(o)var f=o.get(null);else{o=new Map,Fu.set(t,o);for(var x=t.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<x.length;A++){var N=x[A];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),f=N)}f&&o.set(null,f)}x=n.instance,N=x.getAttribute("data-precedence"),A=o.get(N)||f,A===f&&o.set(null,x),o.set(N,x),this.count++,f=ku.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),A?A.parentNode.insertBefore(x,A.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(x,t.firstChild)),n.state.loading|=4}}var $o={$$typeof:Y,Provider:null,Consumer:null,_currentValue:vt,_currentValue2:vt,_threadCount:0};function e3(t,n,o,f,x,A,N,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.hiddenUpdates=ee(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=A,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Rg(t,n,o,f,x,A,N,R,P,J,ot,ft){return t=new e3(t,n,o,N,R,P,J,ft),n=1,A===!0&&(n|=24),A=ii(3,null,null,n),t.current=A,A.stateNode=t,n=Yc(),n.refCount++,t.pooledCache=n,n.refCount++,A.memoizedState={element:f,isDehydrated:o,cache:n},Wc(A),t}function _g(t){return t?(t=Cs,t):Cs}function Bg(t,n,o,f,x,A){x=_g(x),f.context===null?f.context=x:f.pendingContext=x,f=$r(n),f.payload={element:o},A=A===void 0?null:A,A!==null&&(f.callback=A),o=ta(t,f,n),o!==null&&(li(o,t,n),Do(o,t,n))}function Lg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function hh(t,n){Lg(t,n),(t=t.alternate)&&Lg(t,n)}function Pg(t){if(t.tag===13){var n=Es(t,67108864);n!==null&&li(n,t,67108864),hh(t,67108864)}}var Vu=!0;function n3(t,n,o,f){var x=at.T;at.T=null;var A=st.p;try{st.p=2,dh(t,n,o,f)}finally{st.p=A,at.T=x}}function i3(t,n,o,f){var x=at.T;at.T=null;var A=st.p;try{st.p=8,dh(t,n,o,f)}finally{st.p=A,at.T=x}}function dh(t,n,o,f){if(Vu){var x=gh(f);if(x===null)th(t,n,f,zu,o),kg(t,f);else if(a3(x,t,n,o,f))f.stopPropagation();else if(kg(t,f),n&4&&-1<r3.indexOf(t)){for(;x!==null;){var A=ti(x);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var N=Ne(A.pendingLanes);if(N!==0){var R=A;for(R.pendingLanes|=2,R.entangledLanes|=2;N;){var P=1<<31-de(N);R.entanglements[1]|=P,N&=~P}nr(A),(pe&6)===0&&(bu=we()+500,Xo(0))}}break;case 13:R=Es(A,2),R!==null&&li(R,A,2),vu(),hh(A,2)}if(A=gh(f),A===null&&th(t,n,f,zu,o),A===x)break;x=A}x!==null&&f.stopPropagation()}else th(t,n,f,null,o)}}function gh(t){return t=Vr(t),mh(t)}var zu=null;function mh(t){if(zu=null,t=Ke(t),t!==null){var n=p(t);if(n===null)t=null;else{var o=n.tag;if(o===13){if(t=E(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return zu=t,null}function Ug(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case Kt:return 2;case Ta:return 8;case St:case rs:return 32;case oo:return 268435456;default:return 32}default:return 32}}var xh=!1,da=null,ga=null,ma=null,tl=new Map,el=new Map,xa=[],r3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kg(t,n){switch(t){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(n.pointerId)}}function nl(t,n,o,f,x,A){return t===null||t.nativeEvent!==A?(t={blockedOn:n,domEventName:o,eventSystemFlags:f,nativeEvent:A,targetContainers:[x]},n!==null&&(n=ti(n),n!==null&&Pg(n)),t):(t.eventSystemFlags|=f,n=t.targetContainers,x!==null&&n.indexOf(x)===-1&&n.push(x),t)}function a3(t,n,o,f,x){switch(n){case"focusin":return da=nl(da,t,n,o,f,x),!0;case"dragenter":return ga=nl(ga,t,n,o,f,x),!0;case"mouseover":return ma=nl(ma,t,n,o,f,x),!0;case"pointerover":var A=x.pointerId;return tl.set(A,nl(tl.get(A)||null,t,n,o,f,x)),!0;case"gotpointercapture":return A=x.pointerId,el.set(A,nl(el.get(A)||null,t,n,o,f,x)),!0}return!1}function Fg(t){var n=Ke(t.target);if(n!==null){var o=p(n);if(o!==null){if(n=o.tag,n===13){if(n=E(o),n!==null){t.blockedOn=n,os(t.priority,function(){if(o.tag===13){var f=oi();f=Na(f);var x=Es(o,f);x!==null&&li(x,o,f),hh(o,f)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=gh(t.nativeEvent);if(o===null){o=t.nativeEvent;var f=new o.constructor(o.type,o);Da=f,o.target.dispatchEvent(f),Da=null}else return n=ti(o),n!==null&&Pg(n),t.blockedOn=o,!1;n.shift()}return!0}function Vg(t,n,o){ju(t)&&o.delete(n)}function s3(){xh=!1,da!==null&&ju(da)&&(da=null),ga!==null&&ju(ga)&&(ga=null),ma!==null&&ju(ma)&&(ma=null),tl.forEach(Vg),el.forEach(Vg)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,xh||(xh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,s3)))}var Gu=null;function zg(t){Gu!==t&&(Gu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var n=0;n<t.length;n+=3){var o=t[n],f=t[n+1],x=t[n+2];if(typeof f!="function"){if(mh(f||o)===null)continue;break}var A=ti(o);A!==null&&(t.splice(n,3),n-=3,mf(A,{pending:!0,data:x,method:o.method,action:f},f,x))}}))}function il(t){function n(P){return Hu(P,t)}da!==null&&Hu(da,t),ga!==null&&Hu(ga,t),ma!==null&&Hu(ma,t),tl.forEach(n),el.forEach(n);for(var o=0;o<xa.length;o++){var f=xa[o];f.blockedOn===t&&(f.blockedOn=null)}for(;0<xa.length&&(o=xa[0],o.blockedOn===null);)Fg(o),o.blockedOn===null&&xa.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var x=o[f],A=o[f+1],N=x[Ge]||null;if(typeof A=="function")N||zg(o);else if(N){var R=null;if(A&&A.hasAttribute("formAction")){if(x=A,N=A[Ge]||null)R=N.formAction;else if(mh(x)!==null)continue}else R=N.action;typeof R=="function"?o[f+1]=R:(o.splice(f,3),f-=3),zg(o)}}}function ph(t){this._internalRoot=t}Yu.prototype.render=ph.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(h(409));var o=n.current,f=oi();Bg(o,f,t,n,null,null)},Yu.prototype.unmount=ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Bg(t.current,2,null,t,null,null),vu(),n[Fi]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=fr();t={blockedOn:null,target:t,priority:n};for(var o=0;o<xa.length&&n!==0&&n<xa[o].priority;o++);xa.splice(o,0,t),o===0&&Fg(t)}};var jg=a.version;if(jg!=="19.1.0")throw Error(h(527,jg,"19.1.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(h(188)):(t=Object.keys(t).join(","),Error(h(268,t)));return t=b(n),t=t!==null?C(t):null,t=t===null?null:t.stateNode,t};var o3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Tn=Xu.inject(o3),Rn=Xu}catch{}}return sl.createRoot=function(t,n){if(!m(t))throw Error(h(299));var o=!1,f="",x=rd,A=ad,N=sd,R=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(A=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(R=n.unstable_transitionCallbacks)),n=Rg(t,1,!1,null,null,o,f,x,A,N,R,null),t[Fi]=n.current,$f(t),new ph(n)},sl.hydrateRoot=function(t,n,o){if(!m(t))throw Error(h(299));var f=!1,x="",A=rd,N=ad,R=sd,P=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(A=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),n=Rg(t,1,!0,n,o??null,f,x,A,N,R,P,J),n.context=_g(null),o=n.current,f=oi(),f=Na(f),x=$r(f),x.callback=null,ta(o,x,f),o=f,n.current.lanes=o,$n(n,o),nr(n),t[Fi]=n.current,$f(t),new Yu(n)},sl.version="19.1.0",sl}var qg;function b3(){if(qg)return wh.exports;qg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),wh.exports=S3(),wh.exports}var T3=b3(),ol={},Wg;function v3(){if(Wg)return ol;Wg=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.parse=E,ol.serialize=C;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,a=/^[\u0021-\u003A\u003C-\u007E]*$/,l=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,h=/^[\u0020-\u003A\u003D-\u007E]*$/,m=Object.prototype.toString,p=(()=>{const L=function(){};return L.prototype=Object.create(null),L})();function E(L,U){const z=new p,X=L.length;if(X<2)return z;const H=(U==null?void 0:U.decode)||v;let j=0;do{const nt=L.indexOf("=",j);if(nt===-1)break;const Y=L.indexOf(";",j),xt=Y===-1?X:Y;if(nt>xt){j=L.lastIndexOf(";",nt-1)+1;continue}const At=S(L,j,nt),wt=b(L,nt,At),ut=L.slice(At,wt);if(z[ut]===void 0){let pt=S(L,nt+1,xt),lt=b(L,xt,pt);const ae=H(L.slice(pt,lt));z[ut]=ae}j=xt+1}while(j<X);return z}function S(L,U,z){do{const X=L.charCodeAt(U);if(X!==32&&X!==9)return U}while(++U<z);return z}function b(L,U,z){for(;U>z;){const X=L.charCodeAt(--U);if(X!==32&&X!==9)return U+1}return z}function C(L,U,z){const X=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(L))throw new TypeError(`argument name is invalid: ${L}`);const H=X(U);if(!a.test(H))throw new TypeError(`argument val is invalid: ${U}`);let j=L+"="+H;if(!z)return j;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);j+="; Max-Age="+z.maxAge}if(z.domain){if(!l.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);j+="; Domain="+z.domain}if(z.path){if(!h.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);j+="; Path="+z.path}if(z.expires){if(!I(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);j+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(j+="; HttpOnly"),z.secure&&(j+="; Secure"),z.partitioned&&(j+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return j}function v(L){if(L.indexOf("%")===-1)return L;try{return decodeURIComponent(L)}catch{return L}}function I(L){return m.call(L)==="[object Date]"}return ol}v3();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qg="popstate";function N3(r={}){function a(h,m){let{pathname:p,search:E,hash:S}=h.location;return Vh("",{pathname:p,search:E,hash:S},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function l(h,m){return typeof m=="string"?m:pl(m)}return D3(a,l,null,r)}function He(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function lr(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function M3(){return Math.random().toString(36).substring(2,10)}function Kg(r,a){return{usr:r.state,key:r.key,idx:a}}function Vh(r,a,l=null,h){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?no(a):a,state:l,key:a&&a.key||h||M3()}}function pl({pathname:r="/",search:a="",hash:l=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function no(r){let a={};if(r){let l=r.indexOf("#");l>=0&&(a.hash=r.substring(l),r=r.substring(0,l));let h=r.indexOf("?");h>=0&&(a.search=r.substring(h),r=r.substring(0,h)),r&&(a.pathname=r)}return a}function D3(r,a,l,h={}){let{window:m=document.defaultView,v5Compat:p=!1}=h,E=m.history,S="POP",b=null,C=v();C==null&&(C=0,E.replaceState({...E.state,idx:C},""));function v(){return(E.state||{idx:null}).idx}function I(){S="POP";let H=v(),j=H==null?null:H-C;C=H,b&&b({action:S,location:X.location,delta:j})}function L(H,j){S="PUSH";let nt=Vh(X.location,H,j);C=v()+1;let Y=Kg(nt,C),xt=X.createHref(nt);try{E.pushState(Y,"",xt)}catch(At){if(At instanceof DOMException&&At.name==="DataCloneError")throw At;m.location.assign(xt)}p&&b&&b({action:S,location:X.location,delta:1})}function U(H,j){S="REPLACE";let nt=Vh(X.location,H,j);C=v();let Y=Kg(nt,C),xt=X.createHref(nt);E.replaceState(Y,"",xt),p&&b&&b({action:S,location:X.location,delta:0})}function z(H){let j=m.location.origin!=="null"?m.location.origin:m.location.href,nt=typeof H=="string"?H:pl(H);return nt=nt.replace(/ $/,"%20"),He(j,`No window.location.(origin|href) available to create URL for href: ${nt}`),new URL(nt,j)}let X={get action(){return S},get location(){return r(m,E)},listen(H){if(b)throw new Error("A history only accepts one active listener");return m.addEventListener(Qg,I),b=H,()=>{m.removeEventListener(Qg,I),b=null}},createHref(H){return a(m,H)},createURL:z,encodeLocation(H){let j=z(H);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:L,replace:U,go(H){return E.go(H)}};return X}function H2(r,a,l="/"){return I3(r,a,l,!1)}function I3(r,a,l,h){let m=typeof a=="string"?no(a):a,p=Lr(m.pathname||"/",l);if(p==null)return null;let E=G2(r);O3(E);let S=null;for(let b=0;S==null&&b<E.length;++b){let C=j3(p);S=V3(E[b],C,h)}return S}function G2(r,a=[],l=[],h=""){let m=(p,E,S)=>{let b={relativePath:S===void 0?p.path||"":S,caseSensitive:p.caseSensitive===!0,childrenIndex:E,route:p};b.relativePath.startsWith("/")&&(He(b.relativePath.startsWith(h),`Absolute route path "${b.relativePath}" nested under path "${h}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(h.length));let C=Br([h,b.relativePath]),v=l.concat(b);p.children&&p.children.length>0&&(He(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),G2(p.children,a,v,C)),!(p.path==null&&!p.index)&&a.push({path:C,score:k3(C,p.index),routesMeta:v})};return r.forEach((p,E)=>{var S;if(p.path===""||!((S=p.path)!=null&&S.includes("?")))m(p,E);else for(let b of Y2(p.path))m(p,E,b)}),a}function Y2(r){let a=r.split("/");if(a.length===0)return[];let[l,...h]=a,m=l.endsWith("?"),p=l.replace(/\?$/,"");if(h.length===0)return m?[p,""]:[p];let E=Y2(h.join("/")),S=[];return S.push(...E.map(b=>b===""?p:[p,b].join("/"))),m&&S.push(...E),S.map(b=>r.startsWith("/")&&b===""?"/":b)}function O3(r){r.sort((a,l)=>a.score!==l.score?l.score-a.score:F3(a.routesMeta.map(h=>h.childrenIndex),l.routesMeta.map(h=>h.childrenIndex)))}var R3=/^:[\w-]+$/,_3=3,B3=2,L3=1,P3=10,U3=-2,Jg=r=>r==="*";function k3(r,a){let l=r.split("/"),h=l.length;return l.some(Jg)&&(h+=U3),a&&(h+=B3),l.filter(m=>!Jg(m)).reduce((m,p)=>m+(R3.test(p)?_3:p===""?L3:P3),h)}function F3(r,a){return r.length===a.length&&r.slice(0,-1).every((h,m)=>h===a[m])?r[r.length-1]-a[a.length-1]:0}function V3(r,a,l=!1){let{routesMeta:h}=r,m={},p="/",E=[];for(let S=0;S<h.length;++S){let b=h[S],C=S===h.length-1,v=p==="/"?a:a.slice(p.length)||"/",I=rc({path:b.relativePath,caseSensitive:b.caseSensitive,end:C},v),L=b.route;if(!I&&C&&l&&!h[h.length-1].route.index&&(I=rc({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},v)),!I)return null;Object.assign(m,I.params),E.push({params:m,pathname:Br([p,I.pathname]),pathnameBase:X3(Br([p,I.pathnameBase])),route:L}),I.pathnameBase!=="/"&&(p=Br([p,I.pathnameBase]))}return E}function rc(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[l,h]=z3(r.path,r.caseSensitive,r.end),m=a.match(l);if(!m)return null;let p=m[0],E=p.replace(/(.)\/+$/,"$1"),S=m.slice(1);return{params:h.reduce((C,{paramName:v,isOptional:I},L)=>{if(v==="*"){let z=S[L]||"";E=p.slice(0,p.length-z.length).replace(/(.)\/+$/,"$1")}const U=S[L];return I&&!U?C[v]=void 0:C[v]=(U||"").replace(/%2F/g,"/"),C},{}),pathname:p,pathnameBase:E,pattern:r}}function z3(r,a=!1,l=!0){lr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let h=[],m="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(E,S,b)=>(h.push({paramName:S,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(h.push({paramName:"*"}),m+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?m+="\\/*$":r!==""&&r!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,a?void 0:"i"),h]}function j3(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return lr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function Lr(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,h=r.charAt(l);return h&&h!=="/"?null:r.slice(l)||"/"}function H3(r,a="/"){let{pathname:l,search:h="",hash:m=""}=typeof r=="string"?no(r):r;return{pathname:l?l.startsWith("/")?l:G3(l,a):a,search:Z3(h),hash:q3(m)}}function G3(r,a){let l=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(m=>{m===".."?l.length>1&&l.pop():m!=="."&&l.push(m)}),l.length>1?l.join("/"):"/"}function Sh(r,a,l,h){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(h)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y3(r){return r.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function X2(r){let a=Y3(r);return a.map((l,h)=>h===a.length-1?l.pathname:l.pathnameBase)}function Z2(r,a,l,h=!1){let m;typeof r=="string"?m=no(r):(m={...r},He(!m.pathname||!m.pathname.includes("?"),Sh("?","pathname","search",m)),He(!m.pathname||!m.pathname.includes("#"),Sh("#","pathname","hash",m)),He(!m.search||!m.search.includes("#"),Sh("#","search","hash",m)));let p=r===""||m.pathname==="",E=p?"/":m.pathname,S;if(E==null)S=l;else{let I=a.length-1;if(!h&&E.startsWith("..")){let L=E.split("/");for(;L[0]==="..";)L.shift(),I-=1;m.pathname=L.join("/")}S=I>=0?a[I]:"/"}let b=H3(m,S),C=E&&E!=="/"&&E.endsWith("/"),v=(p||E===".")&&l.endsWith("/");return!b.pathname.endsWith("/")&&(C||v)&&(b.pathname+="/"),b}var Br=r=>r.join("/").replace(/\/\/+/g,"/"),X3=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Z3=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,q3=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function W3(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var q2=["POST","PUT","PATCH","DELETE"];new Set(q2);var Q3=["GET",...q2];new Set(Q3);var io=W.createContext(null);io.displayName="DataRouter";var xc=W.createContext(null);xc.displayName="DataRouterState";var W2=W.createContext({isTransitioning:!1});W2.displayName="ViewTransition";var K3=W.createContext(new Map);K3.displayName="Fetchers";var J3=W.createContext(null);J3.displayName="Await";var ur=W.createContext(null);ur.displayName="Navigation";var Nl=W.createContext(null);Nl.displayName="Location";var Ur=W.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var u0=W.createContext(null);u0.displayName="RouteError";function $3(r,{relative:a}={}){He(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:h}=W.useContext(ur),{hash:m,pathname:p,search:E}=Il(r,{relative:a}),S=p;return l!=="/"&&(S=p==="/"?l:Br([l,p])),h.createHref({pathname:S,search:E,hash:m})}function Ml(){return W.useContext(Nl)!=null}function ns(){return He(Ml(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Nl).location}var Q2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K2(r){W.useContext(ur).static||W.useLayoutEffect(r)}function Dl(){let{isDataRoute:r}=W.useContext(Ur);return r?hA():tA()}function tA(){He(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let r=W.useContext(io),{basename:a,navigator:l}=W.useContext(ur),{matches:h}=W.useContext(Ur),{pathname:m}=ns(),p=JSON.stringify(X2(h)),E=W.useRef(!1);return K2(()=>{E.current=!0}),W.useCallback((b,C={})=>{if(lr(E.current,Q2),!E.current)return;if(typeof b=="number"){l.go(b);return}let v=Z2(b,JSON.parse(p),m,C.relative==="path");r==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:Br([a,v.pathname])),(C.replace?l.replace:l.push)(v,C.state,C)},[a,l,p,m,r])}W.createContext(null);function Il(r,{relative:a}={}){let{matches:l}=W.useContext(Ur),{pathname:h}=ns(),m=JSON.stringify(X2(l));return W.useMemo(()=>Z2(r,JSON.parse(m),h,a==="path"),[r,m,h,a])}function eA(r,a){return J2(r,a)}function J2(r,a,l,h){var nt;He(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m,static:p}=W.useContext(ur),{matches:E}=W.useContext(Ur),S=E[E.length-1],b=S?S.params:{},C=S?S.pathname:"/",v=S?S.pathnameBase:"/",I=S&&S.route;{let Y=I&&I.path||"";$2(C,!I||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${C}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let L=ns(),U;if(a){let Y=typeof a=="string"?no(a):a;He(v==="/"||((nt=Y.pathname)==null?void 0:nt.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),U=Y}else U=L;let z=U.pathname||"/",X=z;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");X="/"+z.replace(/^\//,"").split("/").slice(Y.length).join("/")}let H=!p&&l&&l.matches&&l.matches.length>0?l.matches:H2(r,{pathname:X});lr(I||H!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),lr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=sA(H&&H.map(Y=>Object.assign({},Y,{params:Object.assign({},b,Y.params),pathname:Br([v,m.encodeLocation?m.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:Br([v,m.encodeLocation?m.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),E,l,h);return a&&j?W.createElement(Nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},j):j}function nA(){let r=fA(),a=W3(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),l=r instanceof Error?r.stack:null,h="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:h},p={padding:"2px 4px",backgroundColor:h},E=null;return console.error("Error handled by React Router default ErrorBoundary:",r),E=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:p},"ErrorBoundary")," or"," ",W.createElement("code",{style:p},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},a),l?W.createElement("pre",{style:m},l):null,E)}var iA=W.createElement(nA,null),rA=class extends W.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?W.createElement(Ur.Provider,{value:this.props.routeContext},W.createElement(u0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aA({routeContext:r,match:a,children:l}){let h=W.useContext(io);return h&&h.static&&h.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(h.staticContext._deepestRenderedBoundaryId=a.route.id),W.createElement(Ur.Provider,{value:r},l)}function sA(r,a=[],l=null,h=null){if(r==null){if(!l)return null;if(l.errors)r=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)r=l.matches;else return null}let m=r,p=l==null?void 0:l.errors;if(p!=null){let b=m.findIndex(C=>C.route.id&&(p==null?void 0:p[C.route.id])!==void 0);He(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),m=m.slice(0,Math.min(m.length,b+1))}let E=!1,S=-1;if(l)for(let b=0;b<m.length;b++){let C=m[b];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(S=b),C.route.id){let{loaderData:v,errors:I}=l,L=C.route.loader&&!v.hasOwnProperty(C.route.id)&&(!I||I[C.route.id]===void 0);if(C.route.lazy||L){E=!0,S>=0?m=m.slice(0,S+1):m=[m[0]];break}}}return m.reduceRight((b,C,v)=>{let I,L=!1,U=null,z=null;l&&(I=p&&C.route.id?p[C.route.id]:void 0,U=C.route.errorElement||iA,E&&(S<0&&v===0?($2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,z=null):S===v&&(L=!0,z=C.route.hydrateFallbackElement||null)));let X=a.concat(m.slice(0,v+1)),H=()=>{let j;return I?j=U:L?j=z:C.route.Component?j=W.createElement(C.route.Component,null):C.route.element?j=C.route.element:j=b,W.createElement(aA,{match:C,routeContext:{outlet:b,matches:X,isDataRoute:l!=null},children:j})};return l&&(C.route.ErrorBoundary||C.route.errorElement||v===0)?W.createElement(rA,{location:l.location,revalidation:l.revalidation,component:U,error:I,children:H(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):H()},null)}function c0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oA(r){let a=W.useContext(io);return He(a,c0(r)),a}function lA(r){let a=W.useContext(xc);return He(a,c0(r)),a}function uA(r){let a=W.useContext(Ur);return He(a,c0(r)),a}function f0(r){let a=uA(r),l=a.matches[a.matches.length-1];return He(l.route.id,`${r} can only be used on routes that contain a unique "id"`),l.route.id}function cA(){return f0("useRouteId")}function fA(){var h;let r=W.useContext(u0),a=lA("useRouteError"),l=f0("useRouteError");return r!==void 0?r:(h=a.errors)==null?void 0:h[l]}function hA(){let{router:r}=oA("useNavigate"),a=f0("useNavigate"),l=W.useRef(!1);return K2(()=>{l.current=!0}),W.useCallback(async(m,p={})=>{lr(l.current,Q2),l.current&&(typeof m=="number"?r.navigate(m):await r.navigate(m,{fromRouteId:a,...p}))},[r,a])}var $g={};function $2(r,a,l){!a&&!$g[r]&&($g[r]=!0,lr(!1,l))}W.memo(dA);function dA({routes:r,future:a,state:l}){return J2(r,void 0,l,a)}function Or(r){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gA({basename:r="/",children:a=null,location:l,navigationType:h="POP",navigator:m,static:p=!1}){He(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let E=r.replace(/^\/*/,"/"),S=W.useMemo(()=>({basename:E,navigator:m,static:p,future:{}}),[E,m,p]);typeof l=="string"&&(l=no(l));let{pathname:b="/",search:C="",hash:v="",state:I=null,key:L="default"}=l,U=W.useMemo(()=>{let z=Lr(b,E);return z==null?null:{location:{pathname:z,search:C,hash:v,state:I,key:L},navigationType:h}},[E,b,C,v,I,L,h]);return lr(U!=null,`<Router basename="${E}"> is not able to match the URL "${b}${C}${v}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:W.createElement(ur.Provider,{value:S},W.createElement(Nl.Provider,{children:a,value:U}))}function mA({children:r,location:a}){return eA(zh(r),a)}function zh(r,a=[]){let l=[];return W.Children.forEach(r,(h,m)=>{if(!W.isValidElement(h))return;let p=[...a,m];if(h.type===W.Fragment){l.push.apply(l,zh(h.props.children,p));return}He(h.type===Or,`[${typeof h.type=="string"?h.type:h.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!h.props.index||!h.props.children,"An index route cannot have child routes.");let E={id:h.props.id||p.join("-"),caseSensitive:h.props.caseSensitive,element:h.props.element,Component:h.props.Component,index:h.props.index,path:h.props.path,loader:h.props.loader,action:h.props.action,hydrateFallbackElement:h.props.hydrateFallbackElement,HydrateFallback:h.props.HydrateFallback,errorElement:h.props.errorElement,ErrorBoundary:h.props.ErrorBoundary,hasErrorBoundary:h.props.hasErrorBoundary===!0||h.props.ErrorBoundary!=null||h.props.errorElement!=null,shouldRevalidate:h.props.shouldRevalidate,handle:h.props.handle,lazy:h.props.lazy};h.props.children&&(E.children=zh(h.props.children,p)),l.push(E)}),l}var $u="get",tc="application/x-www-form-urlencoded";function pc(r){return r!=null&&typeof r.tagName=="string"}function xA(r){return pc(r)&&r.tagName.toLowerCase()==="button"}function pA(r){return pc(r)&&r.tagName.toLowerCase()==="form"}function yA(r){return pc(r)&&r.tagName.toLowerCase()==="input"}function AA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wA(r,a){return r.button===0&&(!a||a==="_self")&&!AA(r)}var qu=null;function EA(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var CA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bh(r){return r!=null&&!CA.has(r)?(lr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):r}function SA(r,a){let l,h,m,p,E;if(pA(r)){let S=r.getAttribute("action");h=S?Lr(S,a):null,l=r.getAttribute("method")||$u,m=bh(r.getAttribute("enctype"))||tc,p=new FormData(r)}else if(xA(r)||yA(r)&&(r.type==="submit"||r.type==="image")){let S=r.form;if(S==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=r.getAttribute("formaction")||S.getAttribute("action");if(h=b?Lr(b,a):null,l=r.getAttribute("formmethod")||S.getAttribute("method")||$u,m=bh(r.getAttribute("formenctype"))||bh(S.getAttribute("enctype"))||tc,p=new FormData(S,r),!EA()){let{name:C,type:v,value:I}=r;if(v==="image"){let L=C?`${C}.`:"";p.append(`${L}x`,"0"),p.append(`${L}y`,"0")}else C&&p.append(C,I)}}else{if(pc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=$u,h=null,m=tc,E=r}return p&&m==="text/plain"&&(E=p,p=void 0),{action:h,method:l.toLowerCase(),encType:m,formData:p,body:E}}function h0(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}async function bA(r,a){if(r.id in a)return a[r.id];try{let l=await import(r.module);return a[r.id]=l,l}catch(l){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function vA(r,a,l){let h=await Promise.all(r.map(async m=>{let p=a.routes[m.route.id];if(p){let E=await bA(p,l);return E.links?E.links():[]}return[]}));return IA(h.flat(1).filter(TA).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function tm(r,a,l,h,m,p){let E=(b,C)=>l[C]?b.route.id!==l[C].route.id:!0,S=(b,C)=>{var v;return l[C].pathname!==b.pathname||((v=l[C].route.path)==null?void 0:v.endsWith("*"))&&l[C].params["*"]!==b.params["*"]};return p==="assets"?a.filter((b,C)=>E(b,C)||S(b,C)):p==="data"?a.filter((b,C)=>{var I;let v=h.routes[b.route.id];if(!v||!v.hasLoader)return!1;if(E(b,C)||S(b,C))return!0;if(b.route.shouldRevalidate){let L=b.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:((I=l[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof L=="boolean")return L}return!0}):[]}function NA(r,a,{includeHydrateFallback:l}={}){return MA(r.map(h=>{let m=a.routes[h.route.id];if(!m)return[];let p=[m.module];return m.clientActionModule&&(p=p.concat(m.clientActionModule)),m.clientLoaderModule&&(p=p.concat(m.clientLoaderModule)),l&&m.hydrateFallbackModule&&(p=p.concat(m.hydrateFallbackModule)),m.imports&&(p=p.concat(m.imports)),p}).flat(1))}function MA(r){return[...new Set(r)]}function DA(r){let a={},l=Object.keys(r).sort();for(let h of l)a[h]=r[h];return a}function IA(r,a){let l=new Set;return new Set(a),r.reduce((h,m)=>{let p=JSON.stringify(DA(m));return l.has(p)||(l.add(p),h.push({key:p,link:m})),h},[])}var OA=new Set([100,101,204,205]);function RA(r,a){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname="_root.data":a&&Lr(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.data`:l.pathname=`${l.pathname.replace(/\/$/,"")}.data`,l}function tx(){let r=W.useContext(io);return h0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function _A(){let r=W.useContext(xc);return h0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var d0=W.createContext(void 0);d0.displayName="FrameworkContext";function ex(){let r=W.useContext(d0);return h0(r,"You must render this element inside a <HydratedRouter> element"),r}function BA(r,a){let l=W.useContext(d0),[h,m]=W.useState(!1),[p,E]=W.useState(!1),{onFocus:S,onBlur:b,onMouseEnter:C,onMouseLeave:v,onTouchStart:I}=a,L=W.useRef(null);W.useEffect(()=>{if(r==="render"&&E(!0),r==="viewport"){let X=j=>{j.forEach(nt=>{E(nt.isIntersecting)})},H=new IntersectionObserver(X,{threshold:.5});return L.current&&H.observe(L.current),()=>{H.disconnect()}}},[r]),W.useEffect(()=>{if(h){let X=setTimeout(()=>{E(!0)},100);return()=>{clearTimeout(X)}}},[h]);let U=()=>{m(!0)},z=()=>{m(!1),E(!1)};return l?r!=="intent"?[p,L,{}]:[p,L,{onFocus:ll(S,U),onBlur:ll(b,z),onMouseEnter:ll(C,U),onMouseLeave:ll(v,z),onTouchStart:ll(I,U)}]:[!1,L,{}]}function ll(r,a){return l=>{r&&r(l),l.defaultPrevented||a(l)}}function LA({page:r,...a}){let{router:l}=tx(),h=W.useMemo(()=>H2(l.routes,r,l.basename),[l.routes,r,l.basename]);return h?W.createElement(UA,{page:r,matches:h,...a}):null}function PA(r){let{manifest:a,routeModules:l}=ex(),[h,m]=W.useState([]);return W.useEffect(()=>{let p=!1;return vA(r,a,l).then(E=>{p||m(E)}),()=>{p=!0}},[r,a,l]),h}function UA({page:r,matches:a,...l}){let h=ns(),{manifest:m,routeModules:p}=ex(),{basename:E}=tx(),{loaderData:S,matches:b}=_A(),C=W.useMemo(()=>tm(r,a,b,m,h,"data"),[r,a,b,m,h]),v=W.useMemo(()=>tm(r,a,b,m,h,"assets"),[r,a,b,m,h]),I=W.useMemo(()=>{if(r===h.pathname+h.search+h.hash)return[];let z=new Set,X=!1;if(a.forEach(j=>{var Y;let nt=m.routes[j.route.id];!nt||!nt.hasLoader||(!C.some(xt=>xt.route.id===j.route.id)&&j.route.id in S&&((Y=p[j.route.id])!=null&&Y.shouldRevalidate)||nt.hasClientLoader?X=!0:z.add(j.route.id))}),z.size===0)return[];let H=RA(r,E);return X&&z.size>0&&H.searchParams.set("_routes",a.filter(j=>z.has(j.route.id)).map(j=>j.route.id).join(",")),[H.pathname+H.search]},[E,S,h,m,C,a,r,p]),L=W.useMemo(()=>NA(v,m),[v,m]),U=PA(v);return W.createElement(W.Fragment,null,I.map(z=>W.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...l})),L.map(z=>W.createElement("link",{key:z,rel:"modulepreload",href:z,...l})),U.map(({key:z,link:X})=>W.createElement("link",{key:z,...X})))}function kA(...r){return a=>{r.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nx&&(window.__reactRouterVersion="7.5.1")}catch{}function FA({basename:r,children:a,window:l}){let h=W.useRef();h.current==null&&(h.current=N3({window:l,v5Compat:!0}));let m=h.current,[p,E]=W.useState({action:m.action,location:m.location}),S=W.useCallback(b=>{W.startTransition(()=>E(b))},[E]);return W.useLayoutEffect(()=>m.listen(S),[m,S]),W.createElement(gA,{basename:r,children:a,location:p.location,navigationType:p.action,navigator:m})}var ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xs=W.forwardRef(function({onClick:a,discover:l="render",prefetch:h="none",relative:m,reloadDocument:p,replace:E,state:S,target:b,to:C,preventScrollReset:v,viewTransition:I,...L},U){let{basename:z}=W.useContext(ur),X=typeof C=="string"&&ix.test(C),H,j=!1;if(typeof C=="string"&&X&&(H=C,nx))try{let lt=new URL(window.location.href),ae=C.startsWith("//")?new URL(lt.protocol+C):new URL(C),ue=Lr(ae.pathname,z);ae.origin===lt.origin&&ue!=null?C=ue+ae.search+ae.hash:j=!0}catch{lr(!1,`<Link to="${C}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=$3(C,{relative:m}),[Y,xt,At]=BA(h,L),wt=HA(C,{replace:E,state:S,target:b,preventScrollReset:v,relative:m,viewTransition:I});function ut(lt){a&&a(lt),lt.defaultPrevented||wt(lt)}let pt=W.createElement("a",{...L,...At,href:H||nt,onClick:j||p?a:ut,ref:kA(U,xt),target:b,"data-discover":!X&&l==="render"?"true":void 0});return Y&&!X?W.createElement(W.Fragment,null,pt,W.createElement(LA,{page:nt})):pt});Xs.displayName="Link";var VA=W.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:h="",end:m=!1,style:p,to:E,viewTransition:S,children:b,...C},v){let I=Il(E,{relative:C.relative}),L=ns(),U=W.useContext(xc),{navigator:z,basename:X}=W.useContext(ur),H=U!=null&&qA(I)&&S===!0,j=z.encodeLocation?z.encodeLocation(I).pathname:I.pathname,nt=L.pathname,Y=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;l||(nt=nt.toLowerCase(),Y=Y?Y.toLowerCase():null,j=j.toLowerCase()),Y&&X&&(Y=Lr(Y,X)||Y);const xt=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let At=nt===j||!m&&nt.startsWith(j)&&nt.charAt(xt)==="/",wt=Y!=null&&(Y===j||!m&&Y.startsWith(j)&&Y.charAt(j.length)==="/"),ut={isActive:At,isPending:wt,isTransitioning:H},pt=At?a:void 0,lt;typeof h=="function"?lt=h(ut):lt=[h,At?"active":null,wt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let ae=typeof p=="function"?p(ut):p;return W.createElement(Xs,{...C,"aria-current":pt,className:lt,ref:v,style:ae,to:E,viewTransition:S},typeof b=="function"?b(ut):b)});VA.displayName="NavLink";var zA=W.forwardRef(({discover:r="render",fetcherKey:a,navigate:l,reloadDocument:h,replace:m,state:p,method:E=$u,action:S,onSubmit:b,relative:C,preventScrollReset:v,viewTransition:I,...L},U)=>{let z=XA(),X=ZA(S,{relative:C}),H=E.toLowerCase()==="get"?"get":"post",j=typeof S=="string"&&ix.test(S),nt=Y=>{if(b&&b(Y),Y.defaultPrevented)return;Y.preventDefault();let xt=Y.nativeEvent.submitter,At=(xt==null?void 0:xt.getAttribute("formmethod"))||E;z(xt||Y.currentTarget,{fetcherKey:a,method:At,navigate:l,replace:m,state:p,relative:C,preventScrollReset:v,viewTransition:I})};return W.createElement("form",{ref:U,method:H,action:X,onSubmit:h?b:nt,...L,"data-discover":!j&&r==="render"?"true":void 0})});zA.displayName="Form";function jA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rx(r){let a=W.useContext(io);return He(a,jA(r)),a}function HA(r,{target:a,replace:l,state:h,preventScrollReset:m,relative:p,viewTransition:E}={}){let S=Dl(),b=ns(),C=Il(r,{relative:p});return W.useCallback(v=>{if(wA(v,a)){v.preventDefault();let I=l!==void 0?l:pl(b)===pl(C);S(r,{replace:I,state:h,preventScrollReset:m,relative:p,viewTransition:E})}},[b,S,C,l,h,a,r,m,p,E])}var GA=0,YA=()=>`__${String(++GA)}__`;function XA(){let{router:r}=rx("useSubmit"),{basename:a}=W.useContext(ur),l=cA();return W.useCallback(async(h,m={})=>{let{action:p,method:E,encType:S,formData:b,body:C}=SA(h,a);if(m.navigate===!1){let v=m.fetcherKey||YA();await r.fetch(v,l,m.action||p,{preventScrollReset:m.preventScrollReset,formData:b,body:C,formMethod:m.method||E,formEncType:m.encType||S,flushSync:m.flushSync})}else await r.navigate(m.action||p,{preventScrollReset:m.preventScrollReset,formData:b,body:C,formMethod:m.method||E,formEncType:m.encType||S,replace:m.replace,state:m.state,fromRouteId:l,flushSync:m.flushSync,viewTransition:m.viewTransition})},[r,a,l])}function ZA(r,{relative:a}={}){let{basename:l}=W.useContext(ur),h=W.useContext(Ur);He(h,"useFormAction must be used inside a RouteContext");let[m]=h.matches.slice(-1),p={...Il(r||".",{relative:a})},E=ns();if(r==null){p.search=E.search;let S=new URLSearchParams(p.search),b=S.getAll("index");if(b.some(v=>v==="")){S.delete("index"),b.filter(I=>I).forEach(I=>S.append("index",I));let v=S.toString();p.search=v?`?${v}`:""}}return(!r||r===".")&&m.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(p.pathname=p.pathname==="/"?l:Br([l,p.pathname])),pl(p)}function qA(r,a={}){let l=W.useContext(W2);He(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:h}=rx("useViewTransitionState"),m=Il(r,{relative:a.relative});if(!l.isTransitioning)return!1;let p=Lr(l.currentLocation.pathname,h)||l.currentLocation.pathname,E=Lr(l.nextLocation.pathname,h)||l.nextLocation.pathname;return rc(m.pathname,E)!=null||rc(m.pathname,p)!=null}new TextEncoder;[...OA];const Ol=()=>Z.jsxs("nav",{className:"flex justify-between items-center px-6 py-4 bg-white shadow-md",children:[Z.jsx(Xs,{to:"/",className:"text-xl font-bold text-green-700",children:" EcoQuest"}),Z.jsxs("div",{className:"flex gap-4 items-center text-green-700 font-medium",children:[Z.jsx(Xs,{to:"/leaderboard",className:"hover:text-green-900",children:"Leaderboard"}),Z.jsx(Xs,{to:"/how-to-play",className:"hover:text-green-900",children:"How to Play"}),Z.jsx(Xs,{to:"/admin-login",className:"bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700 transition",children:"Admin"})]})]}),ro=()=>Z.jsxs("footer",{className:"bg-green-700 text-white text-center text-sm py-6 mt-10",children:["Made with  CSE Department Students    ",new Date().getFullYear()]}),ax=W.createContext({});function WA(r){const a=W.useRef(null);return a.current===null&&(a.current=r()),a.current}const g0=typeof window<"u",QA=g0?W.useLayoutEffect:W.useEffect,m0=W.createContext(null),sx=W.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function KA(r=!0){const a=W.useContext(m0);if(a===null)return[!0,null];const{isPresent:l,onExitComplete:h,register:m}=a,p=W.useId();W.useEffect(()=>{if(r)return m(p)},[r]);const E=W.useCallback(()=>r&&h&&h(p),[p,h,r]);return!l&&h?[!1,E]:[!0]}function x0(r,a){r.indexOf(a)===-1&&r.push(a)}function p0(r,a){const l=r.indexOf(a);l>-1&&r.splice(l,1)}let ox=()=>{};const jh={useManualTiming:!1};function y0(r){let a;return()=>(a===void 0&&(a=r()),a)}const vi=r=>r,yl=(r,a,l)=>{const h=a-r;return h===0?1:(l-r)/h};class A0{constructor(){this.subscriptions=[]}add(a){return x0(this.subscriptions,a),()=>p0(this.subscriptions,a)}notify(a,l,h){const m=this.subscriptions.length;if(m)if(m===1)this.subscriptions[0](a,l,h);else for(let p=0;p<m;p++){const E=this.subscriptions[p];E&&E(a,l,h)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=r=>r*1e3,ar=r=>r/1e3;function lx(r,a){return a?r*(1e3/a):0}const JA=y0(()=>window.ScrollTimeline!==void 0);class $A{constructor(a){this.stop=()=>this.runAll("stop"),this.animations=a.filter(Boolean)}get finished(){return Promise.all(this.animations.map(a=>a.finished))}getAll(a){return this.animations[0][a]}setAll(a,l){for(let h=0;h<this.animations.length;h++)this.animations[h][a]=l}attachTimeline(a,l){const h=this.animations.map(m=>{if(JA()&&m.attachTimeline)return m.attachTimeline(a);if(typeof l=="function")return l(m)});return()=>{h.forEach((m,p)=>{m&&m(),this.animations[p].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get startTime(){return this.getAll("startTime")}get duration(){let a=0;for(let l=0;l<this.animations.length;l++)a=Math.max(a,this.animations[l].duration);return a}runAll(a){this.animations.forEach(l=>l[a]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tw extends $A{then(a,l){return this.finished.finally(a).then(()=>{})}}const em={value:null},w0=r=>Array.isArray(r)&&typeof r[0]=="number",ew={};function nw(r,a){const l=y0(r);return()=>ew[a]??l()}const Al=nw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ux=(r,a,l=10)=>{let h="";const m=Math.max(Math.round(a/l),2);for(let p=0;p<m;p++)h+=r(p/(m-1))+", ";return`linear(${h.substring(0,h.length-2)})`},cl=([r,a,l,h])=>`cubic-bezier(${r}, ${a}, ${l}, ${h})`,Hh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cl([0,.65,.55,1]),circOut:cl([.55,0,1,.45]),backIn:cl([.31,.01,.66,-.59]),backOut:cl([.33,1.53,.69,.99])};function cx(r,a){if(r)return typeof r=="function"&&Al()?ux(r,a):w0(r)?cl(r):Array.isArray(r)?r.map(l=>cx(l,a)||Hh.easeOut):Hh[r]}function iw(r,a,l,{delay:h=0,duration:m=300,repeat:p=0,repeatType:E="loop",ease:S="easeInOut",times:b}={},C=void 0){const v={[a]:l};b&&(v.offset=b);const I=cx(S,m);return Array.isArray(I)&&(v.easing=I),r.animate(v,{delay:h,duration:m,easing:Array.isArray(I)?"linear":I,fill:"both",iterations:p+1,direction:E==="reverse"?"alternate":"normal",pseudoElement:C})}function E0(r){return typeof r=="function"&&"applyToOptions"in r}function C0(r,a){return(r==null?void 0:r[a])??(r==null?void 0:r.default)??r}const ac=2e4;function S0(r){let a=0;const l=50;let h=r.next(a);for(;!h.done&&a<ac;)a+=l,h=r.next(a);return a>=ac?1/0:a}function rw(r,a=100,l){const h=l({...r,keyframes:[0,a]}),m=Math.min(S0(h),ac);return{type:"keyframes",ease:p=>h.next(m*p).value/a,duration:ar(m)}}function fx(r){return!!(typeof r=="function"&&Al()||!r||typeof r=="string"&&(r in Hh||Al())||w0(r)||Array.isArray(r)&&r.every(fx))}function nm(r,a){r.timeline=a,r.onfinish=null}const Wu=["read","resolveKeyframes","update","preRender","render","postRender"];function aw(r,a){let l=new Set,h=new Set,m=!1,p=!1;const E=new WeakSet;let S={delta:0,timestamp:0,isProcessing:!1},b=0;function C(I){E.has(I)&&(v.schedule(I),r()),b++,I(S)}const v={schedule:(I,L=!1,U=!1)=>{const X=U&&m?l:h;return L&&E.add(I),X.has(I)||X.add(I),I},cancel:I=>{h.delete(I),E.delete(I)},process:I=>{if(S=I,m){p=!0;return}m=!0,[l,h]=[h,l],l.forEach(C),a&&em.value&&em.value.frameloop[a].push(b),b=0,l.clear(),m=!1,p&&(p=!1,v.process(I))}};return v}const sw=40;function hx(r,a){let l=!1,h=!0;const m={delta:0,timestamp:0,isProcessing:!1},p=()=>l=!0,E=Wu.reduce((j,nt)=>(j[nt]=aw(p,a?nt:void 0),j),{}),{read:S,resolveKeyframes:b,update:C,preRender:v,render:I,postRender:L}=E,U=()=>{const j=performance.now();l=!1,m.delta=h?1e3/60:Math.max(Math.min(j-m.timestamp,sw),1),m.timestamp=j,m.isProcessing=!0,S.process(m),b.process(m),C.process(m),v.process(m),I.process(m),L.process(m),m.isProcessing=!1,l&&a&&(h=!1,r(U))},z=()=>{l=!0,h=!0,m.isProcessing||r(U)};return{schedule:Wu.reduce((j,nt)=>{const Y=E[nt];return j[nt]=(xt,At=!1,wt=!1)=>(l||z(),Y.schedule(xt,At,wt)),j},{}),cancel:j=>{for(let nt=0;nt<Wu.length;nt++)E[Wu[nt]].cancel(j)},state:m,steps:E}}const{schedule:b0}=hx(queueMicrotask,!1),{schedule:Re,cancel:wa,state:On,steps:Th}=hx(typeof requestAnimationFrame<"u"?requestAnimationFrame:vi,!0);let ec;function ow(){ec=void 0}const sr={now:()=>(ec===void 0&&sr.set(On.isProcessing||jh.useManualTiming?On.timestamp:performance.now()),ec),set:r=>{ec=r,queueMicrotask(ow)}},Li={x:!1,y:!1};function dx(){return Li.x||Li.y}function lw(r){return r==="x"||r==="y"?Li[r]?null:(Li[r]=!0,()=>{Li[r]=!1}):Li.x||Li.y?null:(Li.x=Li.y=!0,()=>{Li.x=Li.y=!1})}function uw(r,a,l){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let h=document;const m=(l==null?void 0:l[r])??h.querySelectorAll(r);return m?Array.from(m):[]}return Array.from(r)}function gx(r,a){const l=uw(r),h=new AbortController,m={passive:!0,...a,signal:h.signal};return[l,m,()=>h.abort()]}function im(r){return!(r.pointerType==="touch"||dx())}function cw(r,a,l={}){const[h,m,p]=gx(r,l),E=S=>{if(!im(S))return;const{target:b}=S,C=a(b,S);if(typeof C!="function"||!b)return;const v=I=>{im(I)&&(C(I),b.removeEventListener("pointerleave",v))};b.addEventListener("pointerleave",v,m)};return h.forEach(S=>{S.addEventListener("pointerenter",E,m)}),p}const mx=(r,a)=>a?r===a?!0:mx(r,a.parentElement):!1,T0=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,fw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hw(r){return fw.has(r.tagName)||r.tabIndex!==-1}const fl=new WeakSet;function rm(r){return a=>{a.key==="Enter"&&r(a)}}function vh(r,a){r.dispatchEvent(new PointerEvent("pointer"+a,{isPrimary:!0,bubbles:!0}))}const dw=(r,a)=>{const l=r.currentTarget;if(!l)return;const h=rm(()=>{if(fl.has(l))return;vh(l,"down");const m=rm(()=>{vh(l,"up")}),p=()=>vh(l,"cancel");l.addEventListener("keyup",m,a),l.addEventListener("blur",p,a)});l.addEventListener("keydown",h,a),l.addEventListener("blur",()=>l.removeEventListener("keydown",h),a)};function am(r){return T0(r)&&!dx()}function gw(r,a,l={}){const[h,m,p]=gx(r,l),E=S=>{const b=S.currentTarget;if(!am(S)||fl.has(b))return;fl.add(b);const C=a(b,S),v=(U,z)=>{window.removeEventListener("pointerup",I),window.removeEventListener("pointercancel",L),!(!am(U)||!fl.has(b))&&(fl.delete(b),typeof C=="function"&&C(U,{success:z}))},I=U=>{v(U,b===window||b===document||l.useGlobalTarget||mx(b,U.target))},L=U=>{v(U,!1)};window.addEventListener("pointerup",I,m),window.addEventListener("pointercancel",L,m)};return h.forEach(S=>{(l.useGlobalTarget?window:S).addEventListener("pointerdown",E,m),S instanceof HTMLElement&&(S.addEventListener("focus",C=>dw(C,m)),!hw(S)&&!S.hasAttribute("tabindex")&&(S.tabIndex=0))}),p}const sm=30,mw=r=>!isNaN(parseFloat(r));class xw{constructor(a,l={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(h,m=!0)=>{const p=sr.now();this.updatedAt!==p&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(h),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),m&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(a),this.owner=l.owner}setCurrent(a){this.current=a,this.updatedAt=sr.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=mw(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,l){this.events[a]||(this.events[a]=new A0);const h=this.events[a].add(l);return a==="change"?()=>{h(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:h}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,l){this.passiveEffect=a,this.stopPassiveEffect=l}set(a,l=!0){!l||!this.passiveEffect?this.updateAndNotify(a,l):this.passiveEffect(a,this.updateAndNotify)}setWithVelocity(a,l,h){this.set(l),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-h}jump(a,l=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const a=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>sm)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,sm);return lx(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(a){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=a(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wl(r,a){return new xw(r,a)}const xx=W.createContext({strict:!1}),om={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const r in om)to[r]={isEnabled:a=>om[r].some(l=>!!a[l])};function pw(r){for(const a in r)to[a]={...to[a],...r[a]}}const yw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sc(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||yw.has(r)}let px=r=>!sc(r);function Aw(r){r&&(px=a=>a.startsWith("on")?!sc(a):r(a))}try{Aw(require("@emotion/is-prop-valid").default)}catch{}function ww(r,a,l){const h={};for(const m in r)m==="values"&&typeof r.values=="object"||(px(m)||l===!0&&sc(m)||!a&&!sc(m)||r.draggable&&m.startsWith("onDrag"))&&(h[m]=r[m]);return h}function Ew(r){if(typeof Proxy>"u")return r;const a=new Map,l=(...h)=>r(...h);return new Proxy(l,{get:(h,m)=>m==="create"?r:(a.has(m)||a.set(m,r(m)),a.get(m))})}const yc=W.createContext({});function Ac(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function El(r){return typeof r=="string"||Array.isArray(r)}const v0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],N0=["initial",...v0];function wc(r){return Ac(r.animate)||N0.some(a=>El(r[a]))}function yx(r){return!!(wc(r)||r.variants)}function Cw(r,a){if(wc(r)){const{initial:l,animate:h}=r;return{initial:l===!1||El(l)?l:void 0,animate:El(h)?h:void 0}}return r.inherit!==!1?a:{}}function Sw(r){const{initial:a,animate:l}=Cw(r,W.useContext(yc));return W.useMemo(()=>({initial:a,animate:l}),[lm(a),lm(l)])}function lm(r){return Array.isArray(r)?r.join(" "):r}const bw=Symbol.for("motionComponentSymbol");function Zs(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Tw(r,a,l){return W.useCallback(h=>{h&&r.onMount&&r.onMount(h),a&&(h?a.mount(h):a.unmount()),l&&(typeof l=="function"?l(h):Zs(l)&&(l.current=h))},[a])}const M0=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vw="framerAppearId",Ax="data-"+M0(vw),wx=W.createContext({});function Nw(r,a,l,h,m){var X,H;const{visualElement:p}=W.useContext(yc),E=W.useContext(xx),S=W.useContext(m0),b=W.useContext(sx).reducedMotion,C=W.useRef(null);h=h||E.renderer,!C.current&&h&&(C.current=h(r,{visualState:a,parent:p,props:l,presenceContext:S,blockInitialAnimation:S?S.initial===!1:!1,reducedMotionConfig:b}));const v=C.current,I=W.useContext(wx);v&&!v.projection&&m&&(v.type==="html"||v.type==="svg")&&Mw(C.current,l,m,I);const L=W.useRef(!1);W.useInsertionEffect(()=>{v&&L.current&&v.update(l,S)});const U=l[Ax],z=W.useRef(!!U&&!((X=window.MotionHandoffIsComplete)!=null&&X.call(window,U))&&((H=window.MotionHasOptimisedAnimation)==null?void 0:H.call(window,U)));return QA(()=>{v&&(L.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),b0.render(v.render),z.current&&v.animationState&&v.animationState.animateChanges())}),W.useEffect(()=>{v&&(!z.current&&v.animationState&&v.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,U)}),z.current=!1))}),v}function Mw(r,a,l,h){const{layoutId:m,layout:p,drag:E,dragConstraints:S,layoutScroll:b,layoutRoot:C,layoutCrossfade:v}=a;r.projection=new l(r.latestValues,a["data-framer-portal-id"]?void 0:Ex(r.parent)),r.projection.setOptions({layoutId:m,layout:p,alwaysMeasureLayout:!!E||S&&Zs(S),visualElement:r,animationType:typeof p=="string"?p:"both",initialPromotionConfig:h,crossfade:v,layoutScroll:b,layoutRoot:C})}function Ex(r){if(r)return r.options.allowProjection!==!1?r.projection:Ex(r.parent)}function Dw({preloadedFeatures:r,createVisualElement:a,useRender:l,useVisualState:h,Component:m}){r&&pw(r);function p(S,b){let C;const v={...W.useContext(sx),...S,layoutId:Iw(S)},{isStatic:I}=v,L=Sw(S),U=h(S,I);if(!I&&g0){Ow();const z=Rw(v);C=z.MeasureLayout,L.visualElement=Nw(m,U,v,a,z.ProjectionNode)}return Z.jsxs(yc.Provider,{value:L,children:[C&&L.visualElement?Z.jsx(C,{visualElement:L.visualElement,...v}):null,l(m,S,Tw(U,L.visualElement,b),U,I,L.visualElement)]})}p.displayName=`motion.${typeof m=="string"?m:`create(${m.displayName??m.name??""})`}`;const E=W.forwardRef(p);return E[bw]=m,E}function Iw({layoutId:r}){const a=W.useContext(ax).id;return a&&r!==void 0?a+"-"+r:r}function Ow(r,a){W.useContext(xx).strict}function Rw(r){const{drag:a,layout:l}=to;if(!a&&!l)return{};const h={...a,...l};return{MeasureLayout:a!=null&&a.isEnabled(r)||l!=null&&l.isEnabled(r)?h.MeasureLayout:void 0,ProjectionNode:h.ProjectionNode}}const Cx=r=>a=>typeof a=="string"&&a.startsWith(r),D0=Cx("--"),_w=Cx("var(--"),I0=r=>_w(r)?Bw.test(r.split("/*")[0].trim()):!1,Bw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cl={};function Lw(r){for(const a in r)Cl[a]=r[a],D0(a)&&(Cl[a].isCSSVariable=!0)}const ao=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],is=new Set(ao);function Sx(r,{layout:a,layoutId:l}){return is.has(r)||r.startsWith("origin")||(a||l!==void 0)&&(!!Cl[r]||r==="opacity")}const Vn=r=>!!(r&&r.getVelocity),bx=(r,a)=>a&&typeof r=="number"?a.transform(r):r,Pr=(r,a,l)=>l>a?a:l<r?r:l,so={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Sl={...so,transform:r=>Pr(0,1,r)},Qu={...so,default:1},Rl=r=>({test:a=>typeof a=="string"&&a.endsWith(r)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${r}`}),Aa=Rl("deg"),or=Rl("%"),Lt=Rl("px"),Pw=Rl("vh"),Uw=Rl("vw"),um={...or,parse:r=>or.parse(r)/100,transform:r=>or.transform(r*100)},kw={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt},Fw={rotate:Aa,rotateX:Aa,rotateY:Aa,rotateZ:Aa,scale:Qu,scaleX:Qu,scaleY:Qu,scaleZ:Qu,skew:Aa,skewX:Aa,skewY:Aa,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Sl,originX:um,originY:um,originZ:Lt},cm={...so,transform:Math.round},O0={...kw,...Fw,zIndex:cm,size:Lt,fillOpacity:Sl,strokeOpacity:Sl,numOctaves:cm},Vw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zw=ao.length;function jw(r,a,l){let h="",m=!0;for(let p=0;p<zw;p++){const E=ao[p],S=r[E];if(S===void 0)continue;let b=!0;if(typeof S=="number"?b=S===(E.startsWith("scale")?1:0):b=parseFloat(S)===0,!b||l){const C=bx(S,O0[E]);if(!b){m=!1;const v=Vw[E]||E;h+=`${v}(${C}) `}l&&(a[E]=C)}}return h=h.trim(),l?h=l(a,m?"":h):m&&(h="none"),h}function R0(r,a,l){const{style:h,vars:m,transformOrigin:p}=r;let E=!1,S=!1;for(const b in a){const C=a[b];if(is.has(b)){E=!0;continue}else if(D0(b)){m[b]=C;continue}else{const v=bx(C,O0[b]);b.startsWith("origin")?(S=!0,p[b]=v):h[b]=v}}if(a.transform||(E||l?h.transform=jw(a,r.transform,l):h.transform&&(h.transform="none")),S){const{originX:b="50%",originY:C="50%",originZ:v=0}=p;h.transformOrigin=`${b} ${C} ${v}`}}const _0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tx(r,a,l){for(const h in a)!Vn(a[h])&&!Sx(h,l)&&(r[h]=a[h])}function Hw({transformTemplate:r},a){return W.useMemo(()=>{const l=_0();return R0(l,a,r),Object.assign({},l.vars,l.style)},[a])}function Gw(r,a){const l=r.style||{},h={};return Tx(h,l,r),Object.assign(h,Hw(r,a)),h}function Yw(r,a){const l={},h=Gw(r,a);return r.drag&&r.dragListener!==!1&&(l.draggable=!1,h.userSelect=h.WebkitUserSelect=h.WebkitTouchCallout="none",h.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(l.tabIndex=0),l.style=h,l}const Xw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function B0(r){return typeof r!="string"||r.includes("-")?!1:!!(Xw.indexOf(r)>-1||/[A-Z]/u.test(r))}const Zw={offset:"stroke-dashoffset",array:"stroke-dasharray"},qw={offset:"strokeDashoffset",array:"strokeDasharray"};function Ww(r,a,l=1,h=0,m=!0){r.pathLength=1;const p=m?Zw:qw;r[p.offset]=Lt.transform(-h);const E=Lt.transform(a),S=Lt.transform(l);r[p.array]=`${E} ${S}`}function fm(r,a,l){return typeof r=="string"?r:Lt.transform(a+l*r)}function Qw(r,a,l){const h=fm(a,r.x,r.width),m=fm(l,r.y,r.height);return`${h} ${m}`}function L0(r,{attrX:a,attrY:l,attrScale:h,originX:m,originY:p,pathLength:E,pathSpacing:S=1,pathOffset:b=0,...C},v,I){if(R0(r,C,I),v){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:L,style:U,dimensions:z}=r;L.transform&&(z&&(U.transform=L.transform),delete L.transform),z&&(m!==void 0||p!==void 0||U.transform)&&(U.transformOrigin=Qw(z,m!==void 0?m:.5,p!==void 0?p:.5)),a!==void 0&&(L.x=a),l!==void 0&&(L.y=l),h!==void 0&&(L.scale=h),E!==void 0&&Ww(L,E,S,b,!1)}const vx=()=>({..._0(),attrs:{}}),P0=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Kw(r,a,l,h){const m=W.useMemo(()=>{const p=vx();return L0(p,a,P0(h),r.transformTemplate),{...p.attrs,style:{...p.style}}},[a]);if(r.style){const p={};Tx(p,r.style,r),m.style={...p,...m.style}}return m}function Jw(r=!1){return(l,h,m,{latestValues:p},E)=>{const b=(B0(l)?Kw:Yw)(h,p,E,l),C=ww(h,typeof l=="string",r),v=l!==W.Fragment?{...C,...b,ref:m}:{},{children:I}=h,L=W.useMemo(()=>Vn(I)?I.get():I,[I]);return W.createElement(l,{...v,children:L})}}function hm(r){const a=[{},{}];return r==null||r.values.forEach((l,h)=>{a[0][h]=l.get(),a[1][h]=l.getVelocity()}),a}function U0(r,a,l,h){if(typeof a=="function"){const[m,p]=hm(h);a=a(l!==void 0?l:r.custom,m,p)}if(typeof a=="string"&&(a=r.variants&&r.variants[a]),typeof a=="function"){const[m,p]=hm(h);a=a(l!==void 0?l:r.custom,m,p)}return a}const Gh=r=>Array.isArray(r),$w=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),tE=r=>Gh(r)?r[r.length-1]||0:r;function nc(r){const a=Vn(r)?r.get():r;return $w(a)?a.toValue():a}function eE({scrapeMotionValuesFromProps:r,createRenderState:a,onUpdate:l},h,m,p){const E={latestValues:nE(h,m,p,r),renderState:a()};return l&&(E.onMount=S=>l({props:h,current:S,...E}),E.onUpdate=S=>l(S)),E}const Nx=r=>(a,l)=>{const h=W.useContext(yc),m=W.useContext(m0),p=()=>eE(r,a,h,m);return l?p():WA(p)};function nE(r,a,l,h){const m={},p=h(r,{});for(const L in p)m[L]=nc(p[L]);let{initial:E,animate:S}=r;const b=wc(r),C=yx(r);a&&C&&!b&&r.inherit!==!1&&(E===void 0&&(E=a.initial),S===void 0&&(S=a.animate));let v=l?l.initial===!1:!1;v=v||E===!1;const I=v?S:E;if(I&&typeof I!="boolean"&&!Ac(I)){const L=Array.isArray(I)?I:[I];for(let U=0;U<L.length;U++){const z=U0(r,L[U]);if(z){const{transitionEnd:X,transition:H,...j}=z;for(const nt in j){let Y=j[nt];if(Array.isArray(Y)){const xt=v?Y.length-1:0;Y=Y[xt]}Y!==null&&(m[nt]=Y)}for(const nt in X)m[nt]=X[nt]}}}return m}function k0(r,a,l){var p;const{style:h}=r,m={};for(const E in h)(Vn(h[E])||a.style&&Vn(a.style[E])||Sx(E,r)||((p=l==null?void 0:l.getValue(E))==null?void 0:p.liveStyle)!==void 0)&&(m[E]=h[E]);return m}const iE={useVisualState:Nx({scrapeMotionValuesFromProps:k0,createRenderState:_0})};function Mx(r,a){try{a.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}}function Dx(r,{style:a,vars:l},h,m){Object.assign(r.style,a,m&&m.getProjectionStyles(h));for(const p in l)r.style.setProperty(p,l[p])}const Ix=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ox(r,a,l,h){Dx(r,a,void 0,h);for(const m in a.attrs)r.setAttribute(Ix.has(m)?m:M0(m),a.attrs[m])}function Rx(r,a,l){const h=k0(r,a,l);for(const m in r)if(Vn(r[m])||Vn(a[m])){const p=ao.indexOf(m)!==-1?"attr"+m.charAt(0).toUpperCase()+m.substring(1):m;h[p]=r[m]}return h}const dm=["x","y","width","height","cx","cy","r"],rE={useVisualState:Nx({scrapeMotionValuesFromProps:Rx,createRenderState:vx,onUpdate:({props:r,prevProps:a,current:l,renderState:h,latestValues:m})=>{if(!l)return;let p=!!r.drag;if(!p){for(const S in m)if(is.has(S)){p=!0;break}}if(!p)return;let E=!a;if(a)for(let S=0;S<dm.length;S++){const b=dm[S];r[b]!==a[b]&&(E=!0)}E&&Re.read(()=>{Mx(l,h),Re.render(()=>{L0(h,m,P0(l.tagName),r.transformTemplate),Ox(l,h)})})}})};function aE(r,a){return function(h,{forwardMotionProps:m}={forwardMotionProps:!1}){const E={...B0(h)?rE:iE,preloadedFeatures:r,useRender:Jw(m),createVisualElement:a,Component:h};return Dw(E)}}function bl(r,a,l){const h=r.getProps();return U0(h,a,l!==void 0?l:h.custom,r)}const _x=new Set(["width","height","top","left","right","bottom",...ao]);function sE(r,a,l){r.hasValue(a)?r.getValue(a).set(l):r.addValue(a,wl(l))}function oE(r,a){const l=bl(r,a);let{transitionEnd:h={},transition:m={},...p}=l||{};p={...p,...h};for(const E in p){const S=tE(p[E]);sE(r,E,S)}}function lE(r){return!!(Vn(r)&&r.add)}function Yh(r,a){const l=r.getValue("willChange");if(lE(l))return l.add(a);if(!l&&jh.WillChange){const h=new jh.WillChange("auto");r.addValue("willChange",h),h.add(a)}}function Bx(r){return r.props[Ax]}const Lx=(r,a,l)=>(((1-3*l+3*a)*r+(3*l-6*a))*r+3*a)*r,uE=1e-7,cE=12;function fE(r,a,l,h,m){let p,E,S=0;do E=a+(l-a)/2,p=Lx(E,h,m)-r,p>0?l=E:a=E;while(Math.abs(p)>uE&&++S<cE);return E}function _l(r,a,l,h){if(r===a&&l===h)return vi;const m=p=>fE(p,0,1,r,l);return p=>p===0||p===1?p:Lx(m(p),a,h)}const Px=r=>a=>a<=.5?r(2*a)/2:(2-r(2*(1-a)))/2,Ux=r=>a=>1-r(1-a),kx=_l(.33,1.53,.69,.99),F0=Ux(kx),Fx=Px(F0),Vx=r=>(r*=2)<1?.5*F0(r):.5*(2-Math.pow(2,-10*(r-1))),V0=r=>1-Math.sin(Math.acos(r)),zx=Ux(V0),jx=Px(V0),Hx=r=>/^0[^.\s]+$/u.test(r);function hE(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Hx(r):!0}const dl=r=>Math.round(r*1e5)/1e5,z0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dE(r){return r==null}const gE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j0=(r,a)=>l=>!!(typeof l=="string"&&gE.test(l)&&l.startsWith(r)||a&&!dE(l)&&Object.prototype.hasOwnProperty.call(l,a)),Gx=(r,a,l)=>h=>{if(typeof h!="string")return h;const[m,p,E,S]=h.match(z0);return{[r]:parseFloat(m),[a]:parseFloat(p),[l]:parseFloat(E),alpha:S!==void 0?parseFloat(S):1}},mE=r=>Pr(0,255,r),Nh={...so,transform:r=>Math.round(mE(r))},$a={test:j0("rgb","red"),parse:Gx("red","green","blue"),transform:({red:r,green:a,blue:l,alpha:h=1})=>"rgba("+Nh.transform(r)+", "+Nh.transform(a)+", "+Nh.transform(l)+", "+dl(Sl.transform(h))+")"};function xE(r){let a="",l="",h="",m="";return r.length>5?(a=r.substring(1,3),l=r.substring(3,5),h=r.substring(5,7),m=r.substring(7,9)):(a=r.substring(1,2),l=r.substring(2,3),h=r.substring(3,4),m=r.substring(4,5),a+=a,l+=l,h+=h,m+=m),{red:parseInt(a,16),green:parseInt(l,16),blue:parseInt(h,16),alpha:m?parseInt(m,16)/255:1}}const Xh={test:j0("#"),parse:xE,transform:$a.transform},qs={test:j0("hsl","hue"),parse:Gx("hue","saturation","lightness"),transform:({hue:r,saturation:a,lightness:l,alpha:h=1})=>"hsla("+Math.round(r)+", "+or.transform(dl(a))+", "+or.transform(dl(l))+", "+dl(Sl.transform(h))+")"},Fn={test:r=>$a.test(r)||Xh.test(r)||qs.test(r),parse:r=>$a.test(r)?$a.parse(r):qs.test(r)?qs.parse(r):Xh.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?$a.transform(r):qs.transform(r)},pE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yE(r){var a,l;return isNaN(r)&&typeof r=="string"&&(((a=r.match(z0))==null?void 0:a.length)||0)+(((l=r.match(pE))==null?void 0:l.length)||0)>0}const Yx="number",Xx="color",AE="var",wE="var(",gm="${}",EE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tl(r){const a=r.toString(),l=[],h={color:[],number:[],var:[]},m=[];let p=0;const S=a.replace(EE,b=>(Fn.test(b)?(h.color.push(p),m.push(Xx),l.push(Fn.parse(b))):b.startsWith(wE)?(h.var.push(p),m.push(AE),l.push(b)):(h.number.push(p),m.push(Yx),l.push(parseFloat(b))),++p,gm)).split(gm);return{values:l,split:S,indexes:h,types:m}}function Zx(r){return Tl(r).values}function qx(r){const{split:a,types:l}=Tl(r),h=a.length;return m=>{let p="";for(let E=0;E<h;E++)if(p+=a[E],m[E]!==void 0){const S=l[E];S===Yx?p+=dl(m[E]):S===Xx?p+=Fn.transform(m[E]):p+=m[E]}return p}}const CE=r=>typeof r=="number"?0:r;function SE(r){const a=Zx(r);return qx(r)(a.map(CE))}const Ea={test:yE,parse:Zx,createTransformer:qx,getAnimatableNone:SE},bE=new Set(["brightness","contrast","saturate","opacity"]);function TE(r){const[a,l]=r.slice(0,-1).split("(");if(a==="drop-shadow")return r;const[h]=l.match(z0)||[];if(!h)return r;const m=l.replace(h,"");let p=bE.has(a)?1:0;return h!==l&&(p*=100),a+"("+p+m+")"}const vE=/\b([a-z-]*)\(.*?\)/gu,Zh={...Ea,getAnimatableNone:r=>{const a=r.match(vE);return a?a.map(TE).join(" "):r}},NE={...O0,color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:Zh,WebkitFilter:Zh},Wx=r=>NE[r];function Qx(r,a){let l=Wx(r);return l!==Zh&&(l=Ea),l.getAnimatableNone?l.getAnimatableNone(a):void 0}const ME=new Set(["auto","none","0"]);function DE(r,a,l){let h=0,m;for(;h<r.length&&!m;){const p=r[h];typeof p=="string"&&!ME.has(p)&&Tl(p).values.length&&(m=r[h]),h++}if(m&&l)for(const p of a)r[p]=Qx(l,m)}const ts=r=>r*180/Math.PI,qh=r=>{const a=ts(Math.atan2(r[1],r[0]));return Wh(a)},IE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:qh,rotateZ:qh,skewX:r=>ts(Math.atan(r[1])),skewY:r=>ts(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Wh=r=>(r=r%360,r<0&&(r+=360),r),mm=qh,xm=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),pm=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),OE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xm,scaleY:pm,scale:r=>(xm(r)+pm(r))/2,rotateX:r=>Wh(ts(Math.atan2(r[6],r[5]))),rotateY:r=>Wh(ts(Math.atan2(-r[2],r[0]))),rotateZ:mm,rotate:mm,skewX:r=>ts(Math.atan(r[4])),skewY:r=>ts(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function ym(r){return r.includes("scale")?1:0}function Qh(r,a){if(!r||r==="none")return ym(a);const l=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let h,m;if(l)h=OE,m=l;else{const S=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);h=IE,m=S}if(!m)return ym(a);const p=h[a],E=m[1].split(",").map(_E);return typeof p=="function"?p(E):E[p]}const RE=(r,a)=>{const{transform:l="none"}=getComputedStyle(r);return Qh(l,a)};function _E(r){return parseFloat(r.trim())}const Am=r=>r===so||r===Lt,BE=new Set(["x","y","z"]),LE=ao.filter(r=>!BE.has(r));function PE(r){const a=[];return LE.forEach(l=>{const h=r.getValue(l);h!==void 0&&(a.push([l,h.get()]),h.set(l.startsWith("scale")?1:0))}),a}const eo={width:({x:r},{paddingLeft:a="0",paddingRight:l="0"})=>r.max-r.min-parseFloat(a)-parseFloat(l),height:({y:r},{paddingTop:a="0",paddingBottom:l="0"})=>r.max-r.min-parseFloat(a)-parseFloat(l),top:(r,{top:a})=>parseFloat(a),left:(r,{left:a})=>parseFloat(a),bottom:({y:r},{top:a})=>parseFloat(a)+(r.max-r.min),right:({x:r},{left:a})=>parseFloat(a)+(r.max-r.min),x:(r,{transform:a})=>Qh(a,"x"),y:(r,{transform:a})=>Qh(a,"y")};eo.translateX=eo.x;eo.translateY=eo.y;const es=new Set;let Kh=!1,Jh=!1;function Kx(){if(Jh){const r=Array.from(es).filter(h=>h.needsMeasurement),a=new Set(r.map(h=>h.element)),l=new Map;a.forEach(h=>{const m=PE(h);m.length&&(l.set(h,m),h.render())}),r.forEach(h=>h.measureInitialState()),a.forEach(h=>{h.render();const m=l.get(h);m&&m.forEach(([p,E])=>{var S;(S=h.getValue(p))==null||S.set(E)})}),r.forEach(h=>h.measureEndState()),r.forEach(h=>{h.suspendedScrollY!==void 0&&window.scrollTo(0,h.suspendedScrollY)})}Jh=!1,Kh=!1,es.forEach(r=>r.complete()),es.clear()}function Jx(){es.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Jh=!0)})}function UE(){Jx(),Kx()}class H0{constructor(a,l,h,m,p,E=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...a],this.onComplete=l,this.name=h,this.motionValue=m,this.element=p,this.isAsync=E}scheduleResolve(){this.isScheduled=!0,this.isAsync?(es.add(this),Kh||(Kh=!0,Re.read(Jx),Re.resolveKeyframes(Kx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:l,element:h,motionValue:m}=this;for(let p=0;p<a.length;p++)if(a[p]===null)if(p===0){const E=m==null?void 0:m.get(),S=a[a.length-1];if(E!==void 0)a[0]=E;else if(h&&l){const b=h.readValue(l,S);b!=null&&(a[0]=b)}a[0]===void 0&&(a[0]=S),m&&E===void 0&&m.set(a[0])}else a[p]=a[p-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),es.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,es.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $x=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),kE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FE(r){const a=kE.exec(r);if(!a)return[,];const[,l,h,m]=a;return[`--${l??h}`,m]}function tp(r,a,l=1){const[h,m]=FE(r);if(!h)return;const p=window.getComputedStyle(a).getPropertyValue(h);if(p){const E=p.trim();return $x(E)?parseFloat(E):E}return I0(m)?tp(m,a,l+1):m}const ep=r=>a=>a.test(r),VE={test:r=>r==="auto",parse:r=>r},np=[so,Lt,or,Aa,Uw,Pw,VE],wm=r=>np.find(ep(r));class ip extends H0{constructor(a,l,h,m,p){super(a,l,h,m,p,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:l,name:h}=this;if(!l||!l.current)return;super.readKeyframes();for(let b=0;b<a.length;b++){let C=a[b];if(typeof C=="string"&&(C=C.trim(),I0(C))){const v=tp(C,l.current);v!==void 0&&(a[b]=v),b===a.length-1&&(this.finalKeyframe=C)}}if(this.resolveNoneKeyframes(),!_x.has(h)||a.length!==2)return;const[m,p]=a,E=wm(m),S=wm(p);if(E!==S)if(Am(E)&&Am(S))for(let b=0;b<a.length;b++){const C=a[b];typeof C=="string"&&(a[b]=parseFloat(C))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:l}=this,h=[];for(let m=0;m<a.length;m++)hE(a[m])&&h.push(m);h.length&&DE(a,h,l)}measureInitialState(){const{element:a,unresolvedKeyframes:l,name:h}=this;if(!a||!a.current)return;h==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[h](a.measureViewportBox(),window.getComputedStyle(a.current)),l[0]=this.measuredOrigin;const m=l[l.length-1];m!==void 0&&a.getValue(h,m).jump(m,!1)}measureEndState(){var S;const{element:a,name:l,unresolvedKeyframes:h}=this;if(!a||!a.current)return;const m=a.getValue(l);m&&m.jump(this.measuredOrigin,!1);const p=h.length-1,E=h[p];h[p]=eo[l](a.measureViewportBox(),window.getComputedStyle(a.current)),E!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=E),(S=this.removedTransforms)!=null&&S.length&&this.removedTransforms.forEach(([b,C])=>{a.getValue(b).set(C)}),this.resolveNoneKeyframes()}}const Em=(r,a)=>a==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Ea.test(r)||r==="0")&&!r.startsWith("url("));function zE(r){const a=r[0];if(r.length===1)return!0;for(let l=0;l<r.length;l++)if(r[l]!==a)return!0}function jE(r,a,l,h){const m=r[0];if(m===null)return!1;if(a==="display"||a==="visibility")return!0;const p=r[r.length-1],E=Em(m,a),S=Em(p,a);return!E||!S?!1:zE(r)||(l==="spring"||E0(l))&&h}const HE=r=>r!==null;function Ec(r,{repeat:a,repeatType:l="loop"},h){const m=r.filter(HE),p=a&&l!=="loop"&&a%2===1?0:m.length-1;return!p||h===void 0?m[p]:h}const GE=40;class rp{constructor({autoplay:a=!0,delay:l=0,type:h="keyframes",repeat:m=0,repeatDelay:p=0,repeatType:E="loop",...S}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=sr.now(),this.options={autoplay:a,delay:l,type:h,repeat:m,repeatDelay:p,repeatType:E,...S},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UE(),this._resolved}onKeyframesResolved(a,l){this.resolvedAt=sr.now(),this.hasAttemptedResolve=!0;const{name:h,type:m,velocity:p,delay:E,onComplete:S,onUpdate:b,isGenerator:C}=this.options;if(!C&&!jE(a,h,m,p))if(E)this.options.duration=0;else{b&&b(Ec(a,this.options,l)),S&&S(),this.resolveFinishedPromise();return}const v=this.initPlayback(a,l);v!==!1&&(this._resolved={keyframes:a,finalKeyframe:l,...v},this.onPostResolved())}onPostResolved(){}then(a,l){return this.currentFinishedPromise.then(a,l)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(a=>{this.resolveFinishedPromise=a})}}const je=(r,a,l)=>r+(a-r)*l;function Mh(r,a,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?r+(a-r)*6*l:l<1/2?a:l<2/3?r+(a-r)*(2/3-l)*6:r}function YE({hue:r,saturation:a,lightness:l,alpha:h}){r/=360,a/=100,l/=100;let m=0,p=0,E=0;if(!a)m=p=E=l;else{const S=l<.5?l*(1+a):l+a-l*a,b=2*l-S;m=Mh(b,S,r+1/3),p=Mh(b,S,r),E=Mh(b,S,r-1/3)}return{red:Math.round(m*255),green:Math.round(p*255),blue:Math.round(E*255),alpha:h}}function oc(r,a){return l=>l>0?a:r}const Dh=(r,a,l)=>{const h=r*r,m=l*(a*a-h)+h;return m<0?0:Math.sqrt(m)},XE=[Xh,$a,qs],ZE=r=>XE.find(a=>a.test(r));function Cm(r){const a=ZE(r);if(!a)return!1;let l=a.parse(r);return a===qs&&(l=YE(l)),l}const Sm=(r,a)=>{const l=Cm(r),h=Cm(a);if(!l||!h)return oc(r,a);const m={...l};return p=>(m.red=Dh(l.red,h.red,p),m.green=Dh(l.green,h.green,p),m.blue=Dh(l.blue,h.blue,p),m.alpha=je(l.alpha,h.alpha,p),$a.transform(m))},qE=(r,a)=>l=>a(r(l)),Bl=(...r)=>r.reduce(qE),$h=new Set(["none","hidden"]);function WE(r,a){return $h.has(r)?l=>l<=0?r:a:l=>l>=1?a:r}function QE(r,a){return l=>je(r,a,l)}function G0(r){return typeof r=="number"?QE:typeof r=="string"?I0(r)?oc:Fn.test(r)?Sm:$E:Array.isArray(r)?ap:typeof r=="object"?Fn.test(r)?Sm:KE:oc}function ap(r,a){const l=[...r],h=l.length,m=r.map((p,E)=>G0(p)(p,a[E]));return p=>{for(let E=0;E<h;E++)l[E]=m[E](p);return l}}function KE(r,a){const l={...r,...a},h={};for(const m in l)r[m]!==void 0&&a[m]!==void 0&&(h[m]=G0(r[m])(r[m],a[m]));return m=>{for(const p in h)l[p]=h[p](m);return l}}function JE(r,a){const l=[],h={color:0,var:0,number:0};for(let m=0;m<a.values.length;m++){const p=a.types[m],E=r.indexes[p][h[p]],S=r.values[E]??0;l[m]=S,h[p]++}return l}const $E=(r,a)=>{const l=Ea.createTransformer(a),h=Tl(r),m=Tl(a);return h.indexes.var.length===m.indexes.var.length&&h.indexes.color.length===m.indexes.color.length&&h.indexes.number.length>=m.indexes.number.length?$h.has(r)&&!m.values.length||$h.has(a)&&!h.values.length?WE(r,a):Bl(ap(JE(h,m),m.values),l):oc(r,a)};function sp(r,a,l){return typeof r=="number"&&typeof a=="number"&&typeof l=="number"?je(r,a,l):G0(r)(r,a)}const tC=5;function op(r,a,l){const h=Math.max(a-tC,0);return lx(l-r(h),a-h)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bm=.001;function eC({duration:r=Qe.duration,bounce:a=Qe.bounce,velocity:l=Qe.velocity,mass:h=Qe.mass}){let m,p,E=1-a;E=Pr(Qe.minDamping,Qe.maxDamping,E),r=Pr(Qe.minDuration,Qe.maxDuration,ar(r)),E<1?(m=C=>{const v=C*E,I=v*r,L=v-l,U=t0(C,E),z=Math.exp(-I);return bm-L/U*z},p=C=>{const I=C*E*r,L=I*l+l,U=Math.pow(E,2)*Math.pow(C,2)*r,z=Math.exp(-I),X=t0(Math.pow(C,2),E);return(-m(C)+bm>0?-1:1)*((L-U)*z)/X}):(m=C=>{const v=Math.exp(-C*r),I=(C-l)*r+1;return-.001+v*I},p=C=>{const v=Math.exp(-C*r),I=(l-C)*(r*r);return v*I});const S=5/r,b=iC(m,p,S);if(r=rr(r),isNaN(b))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:r};{const C=Math.pow(b,2)*h;return{stiffness:C,damping:E*2*Math.sqrt(h*C),duration:r}}}const nC=12;function iC(r,a,l){let h=l;for(let m=1;m<nC;m++)h=h-r(h)/a(h);return h}function t0(r,a){return r*Math.sqrt(1-a*a)}const rC=["duration","bounce"],aC=["stiffness","damping","mass"];function Tm(r,a){return a.some(l=>r[l]!==void 0)}function sC(r){let a={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...r};if(!Tm(r,aC)&&Tm(r,rC))if(r.visualDuration){const l=r.visualDuration,h=2*Math.PI/(l*1.2),m=h*h,p=2*Pr(.05,1,1-(r.bounce||0))*Math.sqrt(m);a={...a,mass:Qe.mass,stiffness:m,damping:p}}else{const l=eC(r);a={...a,...l,mass:Qe.mass},a.isResolvedFromDuration=!0}return a}function lc(r=Qe.visualDuration,a=Qe.bounce){const l=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:a}:r;let{restSpeed:h,restDelta:m}=l;const p=l.keyframes[0],E=l.keyframes[l.keyframes.length-1],S={done:!1,value:p},{stiffness:b,damping:C,mass:v,duration:I,velocity:L,isResolvedFromDuration:U}=sC({...l,velocity:-ar(l.velocity||0)}),z=L||0,X=C/(2*Math.sqrt(b*v)),H=E-p,j=ar(Math.sqrt(b/v)),nt=Math.abs(H)<5;h||(h=nt?Qe.restSpeed.granular:Qe.restSpeed.default),m||(m=nt?Qe.restDelta.granular:Qe.restDelta.default);let Y;if(X<1){const At=t0(j,X);Y=wt=>{const ut=Math.exp(-X*j*wt);return E-ut*((z+X*j*H)/At*Math.sin(At*wt)+H*Math.cos(At*wt))}}else if(X===1)Y=At=>E-Math.exp(-j*At)*(H+(z+j*H)*At);else{const At=j*Math.sqrt(X*X-1);Y=wt=>{const ut=Math.exp(-X*j*wt),pt=Math.min(At*wt,300);return E-ut*((z+X*j*H)*Math.sinh(pt)+At*H*Math.cosh(pt))/At}}const xt={calculatedDuration:U&&I||null,next:At=>{const wt=Y(At);if(U)S.done=At>=I;else{let ut=0;X<1&&(ut=At===0?rr(z):op(Y,At,wt));const pt=Math.abs(ut)<=h,lt=Math.abs(E-wt)<=m;S.done=pt&&lt}return S.value=S.done?E:wt,S},toString:()=>{const At=Math.min(S0(xt),ac),wt=ux(ut=>xt.next(At*ut).value,At,30);return At+"ms "+wt},toTransition:()=>{}};return xt}lc.applyToOptions=r=>{const a=rw(r,100,lc);return r.ease=Al()?a.ease:"easeOut",r.duration=rr(a.duration),r.type="keyframes",r};function vm({keyframes:r,velocity:a=0,power:l=.8,timeConstant:h=325,bounceDamping:m=10,bounceStiffness:p=500,modifyTarget:E,min:S,max:b,restDelta:C=.5,restSpeed:v}){const I=r[0],L={done:!1,value:I},U=pt=>S!==void 0&&pt<S||b!==void 0&&pt>b,z=pt=>S===void 0?b:b===void 0||Math.abs(S-pt)<Math.abs(b-pt)?S:b;let X=l*a;const H=I+X,j=E===void 0?H:E(H);j!==H&&(X=j-I);const nt=pt=>-X*Math.exp(-pt/h),Y=pt=>j+nt(pt),xt=pt=>{const lt=nt(pt),ae=Y(pt);L.done=Math.abs(lt)<=C,L.value=L.done?j:ae};let At,wt;const ut=pt=>{U(L.value)&&(At=pt,wt=lc({keyframes:[L.value,z(L.value)],velocity:op(Y,pt,L.value),damping:m,stiffness:p,restDelta:C,restSpeed:v}))};return ut(0),{calculatedDuration:null,next:pt=>{let lt=!1;return!wt&&At===void 0&&(lt=!0,xt(pt),ut(pt)),At!==void 0&&pt>=At?wt.next(pt-At):(!lt&&xt(pt),L)}}}const oC=_l(.42,0,1,1),lC=_l(0,0,.58,1),lp=_l(.42,0,.58,1),uC=r=>Array.isArray(r)&&typeof r[0]!="number",cC={linear:vi,easeIn:oC,easeInOut:lp,easeOut:lC,circIn:V0,circInOut:jx,circOut:zx,backIn:F0,backInOut:Fx,backOut:kx,anticipate:Vx},Nm=r=>{if(w0(r)){ox(r.length===4);const[a,l,h,m]=r;return _l(a,l,h,m)}else if(typeof r=="string")return cC[r];return r};function fC(r,a,l){const h=[],m=l||sp,p=r.length-1;for(let E=0;E<p;E++){let S=m(r[E],r[E+1]);if(a){const b=Array.isArray(a)?a[E]||vi:a;S=Bl(b,S)}h.push(S)}return h}function hC(r,a,{clamp:l=!0,ease:h,mixer:m}={}){const p=r.length;if(ox(p===a.length),p===1)return()=>a[0];if(p===2&&a[0]===a[1])return()=>a[1];const E=r[0]===r[1];r[0]>r[p-1]&&(r=[...r].reverse(),a=[...a].reverse());const S=fC(a,h,m),b=S.length,C=v=>{if(E&&v<r[0])return a[0];let I=0;if(b>1)for(;I<r.length-2&&!(v<r[I+1]);I++);const L=yl(r[I],r[I+1],v);return S[I](L)};return l?v=>C(Pr(r[0],r[p-1],v)):C}function dC(r,a){const l=r[r.length-1];for(let h=1;h<=a;h++){const m=yl(0,a,h);r.push(je(l,1,m))}}function gC(r){const a=[0];return dC(a,r.length-1),a}function mC(r,a){return r.map(l=>l*a)}function xC(r,a){return r.map(()=>a||lp).splice(0,r.length-1)}function uc({duration:r=300,keyframes:a,times:l,ease:h="easeInOut"}){const m=uC(h)?h.map(Nm):Nm(h),p={done:!1,value:a[0]},E=mC(l&&l.length===a.length?l:gC(a),r),S=hC(E,a,{ease:Array.isArray(m)?m:xC(a,m)});return{calculatedDuration:r,next:b=>(p.value=S(b),p.done=b>=r,p)}}const pC=r=>{const a=({timestamp:l})=>r(l);return{start:()=>Re.update(a,!0),stop:()=>wa(a),now:()=>On.isProcessing?On.timestamp:sr.now()}},yC={decay:vm,inertia:vm,tween:uc,keyframes:uc,spring:lc},AC=r=>r/100;class Y0 extends rp{constructor(a){super(a),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:b}=this.options;b&&b()};const{name:l,motionValue:h,element:m,keyframes:p}=this.options,E=(m==null?void 0:m.KeyframeResolver)||H0,S=(b,C)=>this.onKeyframesResolved(b,C);this.resolver=new E(p,S,l,h,m),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(a){const{type:l="keyframes",repeat:h=0,repeatDelay:m=0,repeatType:p,velocity:E=0}=this.options,S=E0(l)?l:yC[l]||uc;let b,C;S!==uc&&typeof a[0]!="number"&&(b=Bl(AC,sp(a[0],a[1])),a=[0,100]);const v=S({...this.options,keyframes:a});p==="mirror"&&(C=S({...this.options,keyframes:[...a].reverse(),velocity:-E})),v.calculatedDuration===null&&(v.calculatedDuration=S0(v));const{calculatedDuration:I}=v,L=I+m,U=L*(h+1)-m;return{generator:v,mirroredGenerator:C,mapPercentToKeyframes:b,calculatedDuration:I,resolvedDuration:L,totalDuration:U}}onPostResolved(){const{autoplay:a=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!a?this.pause():this.state=this.pendingPlayState}tick(a,l=!1){const{resolved:h}=this;if(!h){const{keyframes:pt}=this.options;return{done:!0,value:pt[pt.length-1]}}const{finalKeyframe:m,generator:p,mirroredGenerator:E,mapPercentToKeyframes:S,keyframes:b,calculatedDuration:C,totalDuration:v,resolvedDuration:I}=h;if(this.startTime===null)return p.next(0);const{delay:L,repeat:U,repeatType:z,repeatDelay:X,onUpdate:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-v/this.speed,this.startTime)),l?this.currentTime=a:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(a-this.startTime)*this.speed;const j=this.currentTime-L*(this.speed>=0?1:-1),nt=this.speed>=0?j<0:j>v;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let Y=this.currentTime,xt=p;if(U){const pt=Math.min(this.currentTime,v)/I;let lt=Math.floor(pt),ae=pt%1;!ae&&pt>=1&&(ae=1),ae===1&&lt--,lt=Math.min(lt,U+1),!!(lt%2)&&(z==="reverse"?(ae=1-ae,X&&(ae-=X/I)):z==="mirror"&&(xt=E)),Y=Pr(0,1,ae)*I}const At=nt?{done:!1,value:b[0]}:xt.next(Y);S&&(At.value=S(At.value));let{done:wt}=At;!nt&&C!==null&&(wt=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const ut=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&wt);return ut&&m!==void 0&&(At.value=Ec(b,this.options,m)),H&&H(At.value),ut&&this.finish(),At}get duration(){const{resolved:a}=this;return a?ar(a.calculatedDuration):0}get time(){return ar(this.currentTime)}set time(a){a=rr(a),this.currentTime=a,this.holdTime!==null||this.speed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.speed)}get speed(){return this.playbackSpeed}set speed(a){const l=this.playbackSpeed!==a;this.playbackSpeed=a,l&&(this.time=ar(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:a=pC,onPlay:l,startTime:h}=this.options;this.driver||(this.driver=a(p=>this.tick(p))),l&&l();const m=this.driver.now();this.holdTime!==null?this.startTime=m-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=m):this.startTime=h??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:a}=this.options;a&&a()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}get finished(){return this.currentFinishedPromise}}const wC=new Set(["opacity","clipPath","filter","transform"]),EC=y0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cc=10,CC=2e4;function SC(r){return E0(r.type)||r.type==="spring"||!fx(r.ease)}function bC(r,a){const l=new Y0({...a,keyframes:r,repeat:0,delay:0,isGenerator:!0});let h={done:!1,value:r[0]};const m=[];let p=0;for(;!h.done&&p<CC;)h=l.sample(p),m.push(h.value),p+=cc;return{times:void 0,keyframes:m,duration:p-cc,ease:"linear"}}const up={anticipate:Vx,backInOut:Fx,circInOut:jx};function TC(r){return r in up}class Mm extends rp{constructor(a){super(a);const{name:l,motionValue:h,element:m,keyframes:p}=this.options;this.resolver=new ip(p,(E,S)=>this.onKeyframesResolved(E,S),l,h,m),this.resolver.scheduleResolve()}initPlayback(a,l){let{duration:h=300,times:m,ease:p,type:E,motionValue:S,name:b,startTime:C}=this.options;if(!S.owner||!S.owner.current)return!1;if(typeof p=="string"&&Al()&&TC(p)&&(p=up[p]),SC(this.options)){const{onComplete:I,onUpdate:L,motionValue:U,element:z,...X}=this.options,H=bC(a,X);a=H.keyframes,a.length===1&&(a[1]=a[0]),h=H.duration,m=H.times,p=H.ease,E="keyframes"}const v=iw(S.owner.current,b,a,{...this.options,duration:h,times:m,ease:p});return v.startTime=C??this.calcStartTime(),this.pendingTimeline?(nm(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:I}=this.options;S.set(Ec(a,this.options,l)),I&&I(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:h,times:m,type:E,ease:p,keyframes:a}}get duration(){const{resolved:a}=this;if(!a)return 0;const{duration:l}=a;return ar(l)}get time(){const{resolved:a}=this;if(!a)return 0;const{animation:l}=a;return ar(l.currentTime||0)}set time(a){const{resolved:l}=this;if(!l)return;const{animation:h}=l;h.currentTime=rr(a)}get speed(){const{resolved:a}=this;if(!a)return 1;const{animation:l}=a;return l.playbackRate}get finished(){return this.resolved.animation.finished}set speed(a){const{resolved:l}=this;if(!l)return;const{animation:h}=l;h.playbackRate=a}get state(){const{resolved:a}=this;if(!a)return"idle";const{animation:l}=a;return l.playState}get startTime(){const{resolved:a}=this;if(!a)return null;const{animation:l}=a;return l.startTime}attachTimeline(a){if(!this._resolved)this.pendingTimeline=a;else{const{resolved:l}=this;if(!l)return vi;const{animation:h}=l;nm(h,a)}return vi}play(){if(this.isStopped)return;const{resolved:a}=this;if(!a)return;const{animation:l}=a;l.playState==="finished"&&this.updateFinishedPromise(),l.play()}pause(){const{resolved:a}=this;if(!a)return;const{animation:l}=a;l.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:a}=this;if(!a)return;const{animation:l,keyframes:h,duration:m,type:p,ease:E,times:S}=a;if(l.playState==="idle"||l.playState==="finished")return;if(this.time){const{motionValue:C,onUpdate:v,onComplete:I,element:L,...U}=this.options,z=new Y0({...U,keyframes:h,duration:m,type:p,ease:E,times:S,isGenerator:!0}),X=rr(this.time);C.setWithVelocity(z.sample(X-cc).value,z.sample(X).value,cc)}const{onStop:b}=this.options;b&&b(),this.cancel()}complete(){const{resolved:a}=this;a&&a.animation.finish()}cancel(){const{resolved:a}=this;a&&a.animation.cancel()}static supports(a){const{motionValue:l,name:h,repeatDelay:m,repeatType:p,damping:E,type:S}=a;if(!l||!l.owner||!(l.owner.current instanceof HTMLElement))return!1;const{onUpdate:b,transformTemplate:C}=l.owner.getProps();return EC()&&h&&wC.has(h)&&(h!=="transform"||!C)&&!b&&!m&&p!=="mirror"&&E!==0&&S!=="inertia"}}const vC={type:"spring",stiffness:500,damping:25,restSpeed:10},NC=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),MC={type:"keyframes",duration:.8},DC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IC=(r,{keyframes:a})=>a.length>2?MC:is.has(r)?r.startsWith("scale")?NC(a[1]):vC:DC;function OC({when:r,delay:a,delayChildren:l,staggerChildren:h,staggerDirection:m,repeat:p,repeatType:E,repeatDelay:S,from:b,elapsed:C,...v}){return!!Object.keys(v).length}const X0=(r,a,l,h={},m,p)=>E=>{const S=C0(h,r)||{},b=S.delay||h.delay||0;let{elapsed:C=0}=h;C=C-rr(b);let v={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:a.getVelocity(),...S,delay:-C,onUpdate:L=>{a.set(L),S.onUpdate&&S.onUpdate(L)},onComplete:()=>{E(),S.onComplete&&S.onComplete()},name:r,motionValue:a,element:p?void 0:m};OC(S)||(v={...v,...IC(r,v)}),v.duration&&(v.duration=rr(v.duration)),v.repeatDelay&&(v.repeatDelay=rr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let I=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(I=!0)),v.allowFlatten=!S.type&&!S.ease,I&&!p&&a.get()!==void 0){const L=Ec(v.keyframes,S);if(L!==void 0)return Re.update(()=>{v.onUpdate(L),v.onComplete()}),new tw([])}return!p&&Mm.supports(v)?new Mm(v):new Y0(v)};function RC({protectedKeys:r,needsAnimating:a},l){const h=r.hasOwnProperty(l)&&a[l]!==!0;return a[l]=!1,h}function cp(r,a,{delay:l=0,transitionOverride:h,type:m}={}){let{transition:p=r.getDefaultTransition(),transitionEnd:E,...S}=a;h&&(p=h);const b=[],C=m&&r.animationState&&r.animationState.getState()[m];for(const v in S){const I=r.getValue(v,r.latestValues[v]??null),L=S[v];if(L===void 0||C&&RC(C,v))continue;const U={delay:l,...C0(p||{},v)};let z=!1;if(window.MotionHandoffAnimation){const H=Bx(r);if(H){const j=window.MotionHandoffAnimation(H,v,Re);j!==null&&(U.startTime=j,z=!0)}}Yh(r,v),I.start(X0(v,I,L,r.shouldReduceMotion&&_x.has(v)?{type:!1}:U,r,z));const X=I.animation;X&&b.push(X)}return E&&Promise.all(b).then(()=>{Re.update(()=>{E&&oE(r,E)})}),b}function e0(r,a,l={}){var b;const h=bl(r,a,l.type==="exit"?(b=r.presenceContext)==null?void 0:b.custom:void 0);let{transition:m=r.getDefaultTransition()||{}}=h||{};l.transitionOverride&&(m=l.transitionOverride);const p=h?()=>Promise.all(cp(r,h,l)):()=>Promise.resolve(),E=r.variantChildren&&r.variantChildren.size?(C=0)=>{const{delayChildren:v=0,staggerChildren:I,staggerDirection:L}=m;return _C(r,a,v+C,I,L,l)}:()=>Promise.resolve(),{when:S}=m;if(S){const[C,v]=S==="beforeChildren"?[p,E]:[E,p];return C().then(()=>v())}else return Promise.all([p(),E(l.delay)])}function _C(r,a,l=0,h=0,m=1,p){const E=[],S=(r.variantChildren.size-1)*h,b=m===1?(C=0)=>C*h:(C=0)=>S-C*h;return Array.from(r.variantChildren).sort(BC).forEach((C,v)=>{C.notify("AnimationStart",a),E.push(e0(C,a,{...p,delay:l+b(v)}).then(()=>C.notify("AnimationComplete",a)))}),Promise.all(E)}function BC(r,a){return r.sortNodePosition(a)}function LC(r,a,l={}){r.notify("AnimationStart",a);let h;if(Array.isArray(a)){const m=a.map(p=>e0(r,p,l));h=Promise.all(m)}else if(typeof a=="string")h=e0(r,a,l);else{const m=typeof a=="function"?bl(r,a,l.custom):a;h=Promise.all(cp(r,m,l))}return h.then(()=>{r.notify("AnimationComplete",a)})}function fp(r,a){if(!Array.isArray(a))return!1;const l=a.length;if(l!==r.length)return!1;for(let h=0;h<l;h++)if(a[h]!==r[h])return!1;return!0}const PC=N0.length;function hp(r){if(!r)return;if(!r.isControllingVariants){const l=r.parent?hp(r.parent)||{}:{};return r.props.initial!==void 0&&(l.initial=r.props.initial),l}const a={};for(let l=0;l<PC;l++){const h=N0[l],m=r.props[h];(El(m)||m===!1)&&(a[h]=m)}return a}const UC=[...v0].reverse(),kC=v0.length;function FC(r){return a=>Promise.all(a.map(({animation:l,options:h})=>LC(r,l,h)))}function VC(r){let a=FC(r),l=Dm(),h=!0;const m=b=>(C,v)=>{var L;const I=bl(r,v,b==="exit"?(L=r.presenceContext)==null?void 0:L.custom:void 0);if(I){const{transition:U,transitionEnd:z,...X}=I;C={...C,...X,...z}}return C};function p(b){a=b(r)}function E(b){const{props:C}=r,v=hp(r.parent)||{},I=[],L=new Set;let U={},z=1/0;for(let H=0;H<kC;H++){const j=UC[H],nt=l[j],Y=C[j]!==void 0?C[j]:v[j],xt=El(Y),At=j===b?nt.isActive:null;At===!1&&(z=H);let wt=Y===v[j]&&Y!==C[j]&&xt;if(wt&&h&&r.manuallyAnimateOnMount&&(wt=!1),nt.protectedKeys={...U},!nt.isActive&&At===null||!Y&&!nt.prevProp||Ac(Y)||typeof Y=="boolean")continue;const ut=zC(nt.prevProp,Y);let pt=ut||j===b&&nt.isActive&&!wt&&xt||H>z&&xt,lt=!1;const ae=Array.isArray(Y)?Y:[Y];let ue=ae.reduce(m(j),{});At===!1&&(ue={});const{prevResolvedValues:Tt={}}=nt,$t={...Tt,...ue},ve=st=>{pt=!0,L.has(st)&&(lt=!0,L.delete(st)),nt.needsAnimating[st]=!0;const vt=r.getValue(st);vt&&(vt.liveStyle=!1)};for(const st in $t){const vt=ue[st],Gt=Tt[st];if(U.hasOwnProperty(st))continue;let Yt=!1;Gh(vt)&&Gh(Gt)?Yt=!fp(vt,Gt):Yt=vt!==Gt,Yt?vt!=null?ve(st):L.add(st):vt!==void 0&&L.has(st)?ve(st):nt.protectedKeys[st]=!0}nt.prevProp=Y,nt.prevResolvedValues=ue,nt.isActive&&(U={...U,...ue}),h&&r.blockInitialAnimation&&(pt=!1),pt&&(!(wt&&ut)||lt)&&I.push(...ae.map(st=>({animation:st,options:{type:j}})))}if(L.size){const H={};if(typeof C.initial!="boolean"){const j=bl(r,Array.isArray(C.initial)?C.initial[0]:C.initial);j&&j.transition&&(H.transition=j.transition)}L.forEach(j=>{const nt=r.getBaseTarget(j),Y=r.getValue(j);Y&&(Y.liveStyle=!0),H[j]=nt??null}),I.push({animation:H})}let X=!!I.length;return h&&(C.initial===!1||C.initial===C.animate)&&!r.manuallyAnimateOnMount&&(X=!1),h=!1,X?a(I):Promise.resolve()}function S(b,C){var I;if(l[b].isActive===C)return Promise.resolve();(I=r.variantChildren)==null||I.forEach(L=>{var U;return(U=L.animationState)==null?void 0:U.setActive(b,C)}),l[b].isActive=C;const v=E(b);for(const L in l)l[L].protectedKeys={};return v}return{animateChanges:E,setActive:S,setAnimateFunction:p,getState:()=>l,reset:()=>{l=Dm(),h=!0}}}function zC(r,a){return typeof a=="string"?a!==r:Array.isArray(a)?!fp(a,r):!1}function Ka(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dm(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}class Sa{constructor(a){this.isMounted=!1,this.node=a}update(){}}class jC extends Sa{constructor(a){super(a),a.animationState||(a.animationState=VC(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();Ac(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:l}=this.node.prevProps||{};a!==l&&this.updateAnimationControlsSubscription()}unmount(){var a;this.node.animationState.reset(),(a=this.unmountControls)==null||a.call(this)}}let HC=0;class GC extends Sa{constructor(){super(...arguments),this.id=HC++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:l}=this.node.presenceContext,{isPresent:h}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===h)return;const m=this.node.animationState.setActive("exit",!a);l&&!a&&m.then(()=>{l(this.id)})}mount(){const{register:a,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),a&&(this.unmount=a(this.id))}unmount(){}}const YC={animation:{Feature:jC},exit:{Feature:GC}};function vl(r,a,l,h={passive:!0}){return r.addEventListener(a,l,h),()=>r.removeEventListener(a,l)}function Ll(r){return{point:{x:r.pageX,y:r.pageY}}}const XC=r=>a=>T0(a)&&r(a,Ll(a));function gl(r,a,l,h){return vl(r,a,XC(l),h)}function dp({top:r,left:a,right:l,bottom:h}){return{x:{min:a,max:l},y:{min:r,max:h}}}function ZC({x:r,y:a}){return{top:a.min,right:r.max,bottom:a.max,left:r.min}}function qC(r,a){if(!a)return r;const l=a({x:r.left,y:r.top}),h=a({x:r.right,y:r.bottom});return{top:l.y,left:l.x,bottom:h.y,right:h.x}}const gp=1e-4,WC=1-gp,QC=1+gp,mp=.01,KC=0-mp,JC=0+mp;function Gn(r){return r.max-r.min}function $C(r,a,l){return Math.abs(r-a)<=l}function Im(r,a,l,h=.5){r.origin=h,r.originPoint=je(a.min,a.max,r.origin),r.scale=Gn(l)/Gn(a),r.translate=je(l.min,l.max,r.origin)-r.originPoint,(r.scale>=WC&&r.scale<=QC||isNaN(r.scale))&&(r.scale=1),(r.translate>=KC&&r.translate<=JC||isNaN(r.translate))&&(r.translate=0)}function ml(r,a,l,h){Im(r.x,a.x,l.x,h?h.originX:void 0),Im(r.y,a.y,l.y,h?h.originY:void 0)}function Om(r,a,l){r.min=l.min+a.min,r.max=r.min+Gn(a)}function t4(r,a,l){Om(r.x,a.x,l.x),Om(r.y,a.y,l.y)}function Rm(r,a,l){r.min=a.min-l.min,r.max=r.min+Gn(a)}function xl(r,a,l){Rm(r.x,a.x,l.x),Rm(r.y,a.y,l.y)}const _m=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ws=()=>({x:_m(),y:_m()}),Bm=()=>({min:0,max:0}),rn=()=>({x:Bm(),y:Bm()});function Ti(r){return[r("x"),r("y")]}function Ih(r){return r===void 0||r===1}function n0({scale:r,scaleX:a,scaleY:l}){return!Ih(r)||!Ih(a)||!Ih(l)}function Ja(r){return n0(r)||xp(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function xp(r){return Lm(r.x)||Lm(r.y)}function Lm(r){return r&&r!=="0%"}function fc(r,a,l){const h=r-l,m=a*h;return l+m}function Pm(r,a,l,h,m){return m!==void 0&&(r=fc(r,m,h)),fc(r,l,h)+a}function i0(r,a=0,l=1,h,m){r.min=Pm(r.min,a,l,h,m),r.max=Pm(r.max,a,l,h,m)}function pp(r,{x:a,y:l}){i0(r.x,a.translate,a.scale,a.originPoint),i0(r.y,l.translate,l.scale,l.originPoint)}const Um=.999999999999,km=1.0000000000001;function e4(r,a,l,h=!1){const m=l.length;if(!m)return;a.x=a.y=1;let p,E;for(let S=0;S<m;S++){p=l[S],E=p.projectionDelta;const{visualElement:b}=p.options;b&&b.props.style&&b.props.style.display==="contents"||(h&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ks(r,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),E&&(a.x*=E.x.scale,a.y*=E.y.scale,pp(r,E)),h&&Ja(p.latestValues)&&Ks(r,p.latestValues))}a.x<km&&a.x>Um&&(a.x=1),a.y<km&&a.y>Um&&(a.y=1)}function Qs(r,a){r.min=r.min+a,r.max=r.max+a}function Fm(r,a,l,h,m=.5){const p=je(r.min,r.max,m);i0(r,a,l,p,h)}function Ks(r,a){Fm(r.x,a.x,a.scaleX,a.scale,a.originX),Fm(r.y,a.y,a.scaleY,a.scale,a.originY)}function yp(r,a){return dp(qC(r.getBoundingClientRect(),a))}function n4(r,a,l){const h=yp(r,l),{scroll:m}=a;return m&&(Qs(h.x,m.offset.x),Qs(h.y,m.offset.y)),h}const Ap=({current:r})=>r?r.ownerDocument.defaultView:null,Vm=(r,a)=>Math.abs(r-a);function i4(r,a){const l=Vm(r.x,a.x),h=Vm(r.y,a.y);return Math.sqrt(l**2+h**2)}class wp{constructor(a,l,{transformPagePoint:h,contextWindow:m,dragSnapToOrigin:p=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Rh(this.lastMoveEventInfo,this.history),L=this.startEvent!==null,U=i4(I.offset,{x:0,y:0})>=3;if(!L&&!U)return;const{point:z}=I,{timestamp:X}=On;this.history.push({...z,timestamp:X});const{onStart:H,onMove:j}=this.handlers;L||(H&&H(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,I)},this.handlePointerMove=(I,L)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=Oh(L,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(I,L)=>{this.end();const{onEnd:U,onSessionEnd:z,resumeAnimation:X}=this.handlers;if(this.dragSnapToOrigin&&X&&X(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Rh(I.type==="pointercancel"?this.lastMoveEventInfo:Oh(L,this.transformPagePoint),this.history);this.startEvent&&U&&U(I,H),z&&z(I,H)},!T0(a))return;this.dragSnapToOrigin=p,this.handlers=l,this.transformPagePoint=h,this.contextWindow=m||window;const E=Ll(a),S=Oh(E,this.transformPagePoint),{point:b}=S,{timestamp:C}=On;this.history=[{...b,timestamp:C}];const{onSessionStart:v}=l;v&&v(a,Rh(S,this.history)),this.removeListeners=Bl(gl(this.contextWindow,"pointermove",this.handlePointerMove),gl(this.contextWindow,"pointerup",this.handlePointerUp),gl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function Oh(r,a){return a?{point:a(r.point)}:r}function zm(r,a){return{x:r.x-a.x,y:r.y-a.y}}function Rh({point:r},a){return{point:r,delta:zm(r,Ep(a)),offset:zm(r,r4(a)),velocity:a4(a,.1)}}function r4(r){return r[0]}function Ep(r){return r[r.length-1]}function a4(r,a){if(r.length<2)return{x:0,y:0};let l=r.length-1,h=null;const m=Ep(r);for(;l>=0&&(h=r[l],!(m.timestamp-h.timestamp>rr(a)));)l--;if(!h)return{x:0,y:0};const p=ar(m.timestamp-h.timestamp);if(p===0)return{x:0,y:0};const E={x:(m.x-h.x)/p,y:(m.y-h.y)/p};return E.x===1/0&&(E.x=0),E.y===1/0&&(E.y=0),E}function s4(r,{min:a,max:l},h){return a!==void 0&&r<a?r=h?je(a,r,h.min):Math.max(r,a):l!==void 0&&r>l&&(r=h?je(l,r,h.max):Math.min(r,l)),r}function jm(r,a,l){return{min:a!==void 0?r.min+a:void 0,max:l!==void 0?r.max+l-(r.max-r.min):void 0}}function o4(r,{top:a,left:l,bottom:h,right:m}){return{x:jm(r.x,l,m),y:jm(r.y,a,h)}}function Hm(r,a){let l=a.min-r.min,h=a.max-r.max;return a.max-a.min<r.max-r.min&&([l,h]=[h,l]),{min:l,max:h}}function l4(r,a){return{x:Hm(r.x,a.x),y:Hm(r.y,a.y)}}function u4(r,a){let l=.5;const h=Gn(r),m=Gn(a);return m>h?l=yl(a.min,a.max-h,r.min):h>m&&(l=yl(r.min,r.max-m,a.min)),Pr(0,1,l)}function c4(r,a){const l={};return a.min!==void 0&&(l.min=a.min-r.min),a.max!==void 0&&(l.max=a.max-r.min),l}const r0=.35;function f4(r=r0){return r===!1?r=0:r===!0&&(r=r0),{x:Gm(r,"left","right"),y:Gm(r,"top","bottom")}}function Gm(r,a,l){return{min:Ym(r,a),max:Ym(r,l)}}function Ym(r,a){return typeof r=="number"?r:r[a]||0}const h4=new WeakMap;class d4{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.visualElement=a}start(a,{snapToCursor:l=!1}={}){const{presenceContext:h}=this.visualElement;if(h&&h.isPresent===!1)return;const m=v=>{const{dragSnapToOrigin:I}=this.getProps();I?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(Ll(v).point)},p=(v,I)=>{const{drag:L,dragPropagation:U,onDragStart:z}=this.getProps();if(L&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lw(L),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(H=>{let j=this.getAxisMotionValue(H).get()||0;if(or.test(j)){const{projection:nt}=this.visualElement;if(nt&&nt.layout){const Y=nt.layout.layoutBox[H];Y&&(j=Gn(Y)*(parseFloat(j)/100))}}this.originPoint[H]=j}),z&&Re.postRender(()=>z(v,I)),Yh(this.visualElement,"transform");const{animationState:X}=this.visualElement;X&&X.setActive("whileDrag",!0)},E=(v,I)=>{const{dragPropagation:L,dragDirectionLock:U,onDirectionLock:z,onDrag:X}=this.getProps();if(!L&&!this.openDragLock)return;const{offset:H}=I;if(U&&this.currentDirection===null){this.currentDirection=g4(H),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",I.point,H),this.updateAxis("y",I.point,H),this.visualElement.render(),X&&X(v,I)},S=(v,I)=>this.stop(v,I),b=()=>Ti(v=>{var I;return this.getAnimationState(v)==="paused"&&((I=this.getAxisMotionValue(v).animation)==null?void 0:I.play())}),{dragSnapToOrigin:C}=this.getProps();this.panSession=new wp(a,{onSessionStart:m,onStart:p,onMove:E,onSessionEnd:S,resumeAnimation:b},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:C,contextWindow:Ap(this.visualElement)})}stop(a,l){const h=this.isDragging;if(this.cancel(),!h)return;const{velocity:m}=l;this.startAnimation(m);const{onDragEnd:p}=this.getProps();p&&Re.postRender(()=>p(a,l))}cancel(){this.isDragging=!1;const{projection:a,animationState:l}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:h}=this.getProps();!h&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(a,l,h){const{drag:m}=this.getProps();if(!h||!Ku(a,m,this.currentDirection))return;const p=this.getAxisMotionValue(a);let E=this.originPoint[a]+h[a];this.constraints&&this.constraints[a]&&(E=s4(E,this.constraints[a],this.elastic[a])),p.set(E)}resolveConstraints(){var p;const{dragConstraints:a,dragElastic:l}=this.getProps(),h=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(p=this.visualElement.projection)==null?void 0:p.layout,m=this.constraints;a&&Zs(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&h?this.constraints=o4(h.layoutBox,a):this.constraints=!1,this.elastic=f4(l),m!==this.constraints&&h&&this.constraints&&!this.hasMutatedConstraints&&Ti(E=>{this.constraints!==!1&&this.getAxisMotionValue(E)&&(this.constraints[E]=c4(h.layoutBox[E],this.constraints[E]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:l}=this.getProps();if(!a||!Zs(a))return!1;const h=a.current,{projection:m}=this.visualElement;if(!m||!m.layout)return!1;const p=n4(h,m.root,this.visualElement.getTransformPagePoint());let E=l4(m.layout.layoutBox,p);if(l){const S=l(ZC(E));this.hasMutatedConstraints=!!S,S&&(E=dp(S))}return E}startAnimation(a){const{drag:l,dragMomentum:h,dragElastic:m,dragTransition:p,dragSnapToOrigin:E,onDragTransitionEnd:S}=this.getProps(),b=this.constraints||{},C=Ti(v=>{if(!Ku(v,l,this.currentDirection))return;let I=b&&b[v]||{};E&&(I={min:0,max:0});const L=m?200:1e6,U=m?40:1e7,z={type:"inertia",velocity:h?a[v]:0,bounceStiffness:L,bounceDamping:U,timeConstant:750,restDelta:1,restSpeed:10,...p,...I};return this.startAxisValueAnimation(v,z)});return Promise.all(C).then(S)}startAxisValueAnimation(a,l){const h=this.getAxisMotionValue(a);return Yh(this.visualElement,a),h.start(X0(a,h,0,l,this.visualElement,!1))}stopAnimation(){Ti(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){Ti(a=>{var l;return(l=this.getAxisMotionValue(a).animation)==null?void 0:l.pause()})}getAnimationState(a){var l;return(l=this.getAxisMotionValue(a).animation)==null?void 0:l.state}getAxisMotionValue(a){const l=`_drag${a.toUpperCase()}`,h=this.visualElement.getProps(),m=h[l];return m||this.visualElement.getValue(a,(h.initial?h.initial[a]:void 0)||0)}snapToCursor(a){Ti(l=>{const{drag:h}=this.getProps();if(!Ku(l,h,this.currentDirection))return;const{projection:m}=this.visualElement,p=this.getAxisMotionValue(l);if(m&&m.layout){const{min:E,max:S}=m.layout.layoutBox[l];p.set(a[l]-je(E,S,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:l}=this.getProps(),{projection:h}=this.visualElement;if(!Zs(l)||!h||!this.constraints)return;this.stopAnimation();const m={x:0,y:0};Ti(E=>{const S=this.getAxisMotionValue(E);if(S&&this.constraints!==!1){const b=S.get();m[E]=u4({min:b,max:b},this.constraints[E])}});const{transformTemplate:p}=this.visualElement.getProps();this.visualElement.current.style.transform=p?p({},""):"none",h.root&&h.root.updateScroll(),h.updateLayout(),this.resolveConstraints(),Ti(E=>{if(!Ku(E,a,null))return;const S=this.getAxisMotionValue(E),{min:b,max:C}=this.constraints[E];S.set(je(b,C,m[E]))})}addListeners(){if(!this.visualElement.current)return;h4.set(this.visualElement,this);const a=this.visualElement.current,l=gl(a,"pointerdown",b=>{const{drag:C,dragListener:v=!0}=this.getProps();C&&v&&this.start(b)}),h=()=>{const{dragConstraints:b}=this.getProps();Zs(b)&&b.current&&(this.constraints=this.resolveRefConstraints())},{projection:m}=this.visualElement,p=m.addEventListener("measure",h);m&&!m.layout&&(m.root&&m.root.updateScroll(),m.updateLayout()),Re.read(h);const E=vl(window,"resize",()=>this.scalePositionWithinConstraints()),S=m.addEventListener("didUpdate",({delta:b,hasLayoutChanged:C})=>{this.isDragging&&C&&(Ti(v=>{const I=this.getAxisMotionValue(v);I&&(this.originPoint[v]+=b[v].translate,I.set(I.get()+b[v].translate))}),this.visualElement.render())});return()=>{E(),l(),p(),S&&S()}}getProps(){const a=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:h=!1,dragPropagation:m=!1,dragConstraints:p=!1,dragElastic:E=r0,dragMomentum:S=!0}=a;return{...a,drag:l,dragDirectionLock:h,dragPropagation:m,dragConstraints:p,dragElastic:E,dragMomentum:S}}}function Ku(r,a,l){return(a===!0||a===r)&&(l===null||l===r)}function g4(r,a=10){let l=null;return Math.abs(r.y)>a?l="y":Math.abs(r.x)>a&&(l="x"),l}class m4 extends Sa{constructor(a){super(a),this.removeGroupControls=vi,this.removeListeners=vi,this.controls=new d4(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xm=r=>(a,l)=>{r&&Re.postRender(()=>r(a,l))};class x4 extends Sa{constructor(){super(...arguments),this.removePointerDownListener=vi}onPointerDown(a){this.session=new wp(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ap(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:l,onPan:h,onPanEnd:m}=this.node.getProps();return{onSessionStart:Xm(a),onStart:Xm(l),onMove:h,onEnd:(p,E)=>{delete this.session,m&&Re.postRender(()=>m(p,E))}}}mount(){this.removePointerDownListener=gl(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ic={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zm(r,a){return a.max===a.min?0:r/(a.max-a.min)*100}const ul={correct:(r,a)=>{if(!a.target)return r;if(typeof r=="string")if(Lt.test(r))r=parseFloat(r);else return r;const l=Zm(r,a.target.x),h=Zm(r,a.target.y);return`${l}% ${h}%`}},p4={correct:(r,{treeScale:a,projectionDelta:l})=>{const h=r,m=Ea.parse(r);if(m.length>5)return h;const p=Ea.createTransformer(r),E=typeof m[0]!="number"?1:0,S=l.x.scale*a.x,b=l.y.scale*a.y;m[0+E]/=S,m[1+E]/=b;const C=je(S,b,.5);return typeof m[2+E]=="number"&&(m[2+E]/=C),typeof m[3+E]=="number"&&(m[3+E]/=C),p(m)}};class y4 extends W.Component{componentDidMount(){const{visualElement:a,layoutGroup:l,switchLayoutGroup:h,layoutId:m}=this.props,{projection:p}=a;Lw(A4),p&&(l.group&&l.group.add(p),h&&h.register&&m&&h.register(p),p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),ic.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:l,visualElement:h,drag:m,isPresent:p}=this.props,E=h.projection;return E&&(E.isPresent=p,m||a.layoutDependency!==l||l===void 0||a.isPresent!==p?E.willUpdate():this.safeToRemove(),a.isPresent!==p&&(p?E.promote():E.relegate()||Re.postRender(()=>{const S=E.getStack();(!S||!S.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),b0.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:l,switchLayoutGroup:h}=this.props,{projection:m}=a;m&&(m.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(m),h&&h.deregister&&h.deregister(m))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function Cp(r){const[a,l]=KA(),h=W.useContext(ax);return Z.jsx(y4,{...r,layoutGroup:h,switchLayoutGroup:W.useContext(wx),isPresent:a,safeToRemove:l})}const A4={borderRadius:{...ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ul,borderTopRightRadius:ul,borderBottomLeftRadius:ul,borderBottomRightRadius:ul,boxShadow:p4};function w4(r,a,l){const h=Vn(r)?r:wl(r);return h.start(X0("",h,a,l)),h.animation}function E4(r){return r instanceof SVGElement&&r.tagName!=="svg"}const C4=(r,a)=>r.depth-a.depth;class S4{constructor(){this.children=[],this.isDirty=!1}add(a){x0(this.children,a),this.isDirty=!0}remove(a){p0(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(C4),this.isDirty=!1,this.children.forEach(a)}}function b4(r,a){const l=sr.now(),h=({timestamp:m})=>{const p=m-l;p>=a&&(wa(h),r(p-a))};return Re.read(h,!0),()=>wa(h)}const Sp=["TopLeft","TopRight","BottomLeft","BottomRight"],T4=Sp.length,qm=r=>typeof r=="string"?parseFloat(r):r,Wm=r=>typeof r=="number"||Lt.test(r);function v4(r,a,l,h,m,p){m?(r.opacity=je(0,l.opacity??1,N4(h)),r.opacityExit=je(a.opacity??1,0,M4(h))):p&&(r.opacity=je(a.opacity??1,l.opacity??1,h));for(let E=0;E<T4;E++){const S=`border${Sp[E]}Radius`;let b=Qm(a,S),C=Qm(l,S);if(b===void 0&&C===void 0)continue;b||(b=0),C||(C=0),b===0||C===0||Wm(b)===Wm(C)?(r[S]=Math.max(je(qm(b),qm(C),h),0),(or.test(C)||or.test(b))&&(r[S]+="%")):r[S]=C}(a.rotate||l.rotate)&&(r.rotate=je(a.rotate||0,l.rotate||0,h))}function Qm(r,a){return r[a]!==void 0?r[a]:r.borderRadius}const N4=bp(0,.5,zx),M4=bp(.5,.95,vi);function bp(r,a,l){return h=>h<r?0:h>a?1:l(yl(r,a,h))}function Km(r,a){r.min=a.min,r.max=a.max}function Si(r,a){Km(r.x,a.x),Km(r.y,a.y)}function Jm(r,a){r.translate=a.translate,r.scale=a.scale,r.originPoint=a.originPoint,r.origin=a.origin}function $m(r,a,l,h,m){return r-=a,r=fc(r,1/l,h),m!==void 0&&(r=fc(r,1/m,h)),r}function D4(r,a=0,l=1,h=.5,m,p=r,E=r){if(or.test(a)&&(a=parseFloat(a),a=je(E.min,E.max,a/100)-E.min),typeof a!="number")return;let S=je(p.min,p.max,h);r===p&&(S-=a),r.min=$m(r.min,a,l,S,m),r.max=$m(r.max,a,l,S,m)}function t2(r,a,[l,h,m],p,E){D4(r,a[l],a[h],a[m],a.scale,p,E)}const I4=["x","scaleX","originX"],O4=["y","scaleY","originY"];function e2(r,a,l,h){t2(r.x,a,I4,l?l.x:void 0,h?h.x:void 0),t2(r.y,a,O4,l?l.y:void 0,h?h.y:void 0)}function n2(r){return r.translate===0&&r.scale===1}function Tp(r){return n2(r.x)&&n2(r.y)}function i2(r,a){return r.min===a.min&&r.max===a.max}function R4(r,a){return i2(r.x,a.x)&&i2(r.y,a.y)}function r2(r,a){return Math.round(r.min)===Math.round(a.min)&&Math.round(r.max)===Math.round(a.max)}function vp(r,a){return r2(r.x,a.x)&&r2(r.y,a.y)}function a2(r){return Gn(r.x)/Gn(r.y)}function s2(r,a){return r.translate===a.translate&&r.scale===a.scale&&r.originPoint===a.originPoint}class _4{constructor(){this.members=[]}add(a){x0(this.members,a),a.scheduleRender()}remove(a){if(p0(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(a){const l=this.members.findIndex(m=>a===m);if(l===0)return!1;let h;for(let m=l;m>=0;m--){const p=this.members[m];if(p.isPresent!==!1){h=p;break}}return h?(this.promote(h),!0):!1}promote(a,l){const h=this.lead;if(a!==h&&(this.prevLead=h,this.lead=a,a.show(),h)){h.instance&&h.scheduleRender(),a.scheduleRender(),a.resumeFrom=h,l&&(a.resumeFrom.preserveOpacity=!0),h.snapshot&&(a.snapshot=h.snapshot,a.snapshot.latestValues=h.animationValues||h.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:m}=a.options;m===!1&&h.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:l,resumingFrom:h}=a;l.onExitComplete&&l.onExitComplete(),h&&h.options.onExitComplete&&h.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B4(r,a,l){let h="";const m=r.x.translate/a.x,p=r.y.translate/a.y,E=(l==null?void 0:l.z)||0;if((m||p||E)&&(h=`translate3d(${m}px, ${p}px, ${E}px) `),(a.x!==1||a.y!==1)&&(h+=`scale(${1/a.x}, ${1/a.y}) `),l){const{transformPerspective:C,rotate:v,rotateX:I,rotateY:L,skewX:U,skewY:z}=l;C&&(h=`perspective(${C}px) ${h}`),v&&(h+=`rotate(${v}deg) `),I&&(h+=`rotateX(${I}deg) `),L&&(h+=`rotateY(${L}deg) `),U&&(h+=`skewX(${U}deg) `),z&&(h+=`skewY(${z}deg) `)}const S=r.x.scale*a.x,b=r.y.scale*a.y;return(S!==1||b!==1)&&(h+=`scale(${S}, ${b})`),h||"none"}const _h=["","X","Y","Z"],L4={visibility:"hidden"},o2=1e3;let P4=0;function Bh(r,a,l,h){const{latestValues:m}=a;m[r]&&(l[r]=m[r],a.setStaticValue(r,0),h&&(h[r]=0))}function Np(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:a}=r.options;if(!a)return;const l=Bx(a);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:m,layoutId:p}=r.options;window.MotionCancelOptimisedAnimation(l,"transform",Re,!(m||p))}const{parent:h}=r;h&&!h.hasCheckedOptimisedAppear&&Np(h)}function Mp({attachResizeListener:r,defaultParent:a,measureScroll:l,checkIsScrollRoot:h,resetTransform:m}){return class{constructor(E={},S=a==null?void 0:a()){this.id=P4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(F4),this.nodes.forEach(G4),this.nodes.forEach(Y4),this.nodes.forEach(V4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=E,this.root=S?S.root||S:this,this.path=S?[...S.path,S]:[],this.parent=S,this.depth=S?S.depth+1:0;for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new S4)}addEventListener(E,S){return this.eventHandlers.has(E)||this.eventHandlers.set(E,new A0),this.eventHandlers.get(E).add(S)}notifyListeners(E,...S){const b=this.eventHandlers.get(E);b&&b.notify(...S)}hasListeners(E){return this.eventHandlers.has(E)}mount(E,S=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E4(E),this.instance=E;const{layoutId:b,layout:C,visualElement:v}=this.options;if(v&&!v.current&&v.mount(E),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),S&&(C||b)&&(this.isLayoutDirty=!0),r){let I;const L=()=>this.root.updateBlockedByResize=!1;r(E,()=>{this.root.updateBlockedByResize=!0,I&&I(),I=b4(L,250),ic.hasAnimatedSinceResize&&(ic.hasAnimatedSinceResize=!1,this.nodes.forEach(u2))})}b&&this.root.registerSharedNode(b,this),this.options.animate!==!1&&v&&(b||C)&&this.addEventListener("didUpdate",({delta:I,hasLayoutChanged:L,hasRelativeLayoutChanged:U,layout:z})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const X=this.options.transition||v.getDefaultTransition()||Q4,{onLayoutAnimationStart:H,onLayoutAnimationComplete:j}=v.getProps(),nt=!this.targetLayout||!vp(this.targetLayout,z),Y=!L&&U;if(this.options.layoutRoot||this.resumeFrom||Y||L&&(nt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(I,Y);const xt={...C0(X,"layout"),onPlay:H,onComplete:j};(v.shouldReduceMotion||this.options.layoutRoot)&&(xt.delay=0,xt.type=!1),this.startAnimation(xt)}else L||u2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=z})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const E=this.getStack();E&&E.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(X4),this.animationId++)}getTransformTemplate(){const{visualElement:E}=this.options;return E&&E.getProps().transformTemplate}willUpdate(E=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Np(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const I=this.path[v];I.shouldResetTransform=!0,I.updateScroll("snapshot"),I.options.layoutRoot&&I.willUpdate(!1)}const{layoutId:S,layout:b}=this.options;if(S===void 0&&!b)return;const C=this.getTransformTemplate();this.prevTransformTemplateValue=C?C(this.latestValues,""):void 0,this.updateSnapshot(),E&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(l2);return}this.isUpdating||this.nodes.forEach(j4),this.isUpdating=!1,this.nodes.forEach(H4),this.nodes.forEach(U4),this.nodes.forEach(k4),this.clearAllSnapshots();const S=sr.now();On.delta=Pr(0,1e3/60,S-On.timestamp),On.timestamp=S,On.isProcessing=!0,Th.update.process(On),Th.preRender.process(On),Th.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z4),this.sharedNodes.forEach(Z4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let b=0;b<this.path.length;b++)this.path[b].updateScroll();const E=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:S}=this.options;S&&S.notify("LayoutMeasure",this.layout.layoutBox,E?E.layoutBox:void 0)}updateScroll(E="measure"){let S=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===E&&(S=!1),S){const b=h(this.instance);this.scroll={animationId:this.root.animationId,phase:E,isRoot:b,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!m)return;const E=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,S=this.projectionDelta&&!Tp(this.projectionDelta),b=this.getTransformTemplate(),C=b?b(this.latestValues,""):void 0,v=C!==this.prevTransformTemplateValue;E&&(S||Ja(this.latestValues)||v)&&(m(this.instance,C),this.shouldResetTransform=!1,this.scheduleRender())}measure(E=!0){const S=this.measurePageBox();let b=this.removeElementScroll(S);return E&&(b=this.removeTransform(b)),K4(b),{animationId:this.root.animationId,measuredBox:S,layoutBox:b,latestValues:{},source:this.id}}measurePageBox(){var C;const{visualElement:E}=this.options;if(!E)return rn();const S=E.measureViewportBox();if(!(((C=this.scroll)==null?void 0:C.wasRoot)||this.path.some(J4))){const{scroll:v}=this.root;v&&(Qs(S.x,v.offset.x),Qs(S.y,v.offset.y))}return S}removeElementScroll(E){var b;const S=rn();if(Si(S,E),(b=this.scroll)!=null&&b.wasRoot)return S;for(let C=0;C<this.path.length;C++){const v=this.path[C],{scroll:I,options:L}=v;v!==this.root&&I&&L.layoutScroll&&(I.wasRoot&&Si(S,E),Qs(S.x,I.offset.x),Qs(S.y,I.offset.y))}return S}applyTransform(E,S=!1){const b=rn();Si(b,E);for(let C=0;C<this.path.length;C++){const v=this.path[C];!S&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ks(b,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ja(v.latestValues)&&Ks(b,v.latestValues)}return Ja(this.latestValues)&&Ks(b,this.latestValues),b}removeTransform(E){const S=rn();Si(S,E);for(let b=0;b<this.path.length;b++){const C=this.path[b];if(!C.instance||!Ja(C.latestValues))continue;n0(C.latestValues)&&C.updateSnapshot();const v=rn(),I=C.measurePageBox();Si(v,I),e2(S,C.latestValues,C.snapshot?C.snapshot.layoutBox:void 0,v)}return Ja(this.latestValues)&&e2(S,this.latestValues),S}setTargetDelta(E){this.targetDelta=E,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(E){this.options={...this.options,...E,crossfade:E.crossfade!==void 0?E.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(E=!1){var L;const S=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=S.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=S.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=S.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==S;if(!(E||b&&this.isSharedProjectionDirty||this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:I}=this.options;if(!(!this.layout||!(v||I))){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const U=this.getClosestProjectingParent();U&&U.layout&&this.animationProgress!==1?(this.relativeParent=U,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),xl(this.relativeTargetOrigin,this.layout.layoutBox,U.layout.layoutBox),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Si(this.target,this.layout.layoutBox),pp(this.target,this.targetDelta)):Si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const U=this.getClosestProjectingParent();U&&!!U.resumingFrom==!!this.resumingFrom&&!U.options.layoutScroll&&U.target&&this.animationProgress!==1?(this.relativeParent=U,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),xl(this.relativeTargetOrigin,this.target,U.target),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||n0(this.parent.latestValues)||xp(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var z;const E=this.getLead(),S=!!this.resumingFrom||this!==E;let b=!0;if((this.isProjectionDirty||(z=this.parent)!=null&&z.isProjectionDirty)&&(b=!1),S&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===On.timestamp&&(b=!1),b)return;const{layout:C,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(C||v))return;Si(this.layoutCorrected,this.layout.layoutBox);const I=this.treeScale.x,L=this.treeScale.y;e4(this.layoutCorrected,this.treeScale,this.path,S),E.layout&&!E.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(E.target=E.layout.layoutBox,E.targetWithTransforms=rn());const{target:U}=E;if(!U){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jm(this.prevProjectionDelta.x,this.projectionDelta.x),Jm(this.prevProjectionDelta.y,this.projectionDelta.y)),ml(this.projectionDelta,this.layoutCorrected,U,this.latestValues),(this.treeScale.x!==I||this.treeScale.y!==L||!s2(this.projectionDelta.x,this.prevProjectionDelta.x)||!s2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",U))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(E=!0){var S;if((S=this.options.visualElement)==null||S.scheduleRender(),E){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ws(),this.projectionDelta=Ws(),this.projectionDeltaWithTransform=Ws()}setAnimationOrigin(E,S=!1){const b=this.snapshot,C=b?b.latestValues:{},v={...this.latestValues},I=Ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!S;const L=rn(),U=b?b.source:void 0,z=this.layout?this.layout.source:void 0,X=U!==z,H=this.getStack(),j=!H||H.members.length<=1,nt=!!(X&&!j&&this.options.crossfade===!0&&!this.path.some(W4));this.animationProgress=0;let Y;this.mixTargetDelta=xt=>{const At=xt/1e3;c2(I.x,E.x,At),c2(I.y,E.y,At),this.setTargetDelta(I),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xl(L,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q4(this.relativeTarget,this.relativeTargetOrigin,L,At),Y&&R4(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=rn()),Si(Y,this.relativeTarget)),X&&(this.animationValues=v,v4(v,C,this.latestValues,At,nt,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=At},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(E){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{ic.hasAnimatedSinceResize=!0,this.currentAnimation=w4(0,o2,{...E,onUpdate:S=>{this.mixTargetDelta(S),E.onUpdate&&E.onUpdate(S)},onStop:()=>{},onComplete:()=>{E.onComplete&&E.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const E=this.getStack();E&&E.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const E=this.getLead();let{targetWithTransforms:S,target:b,layout:C,latestValues:v}=E;if(!(!S||!b||!C)){if(this!==E&&this.layout&&C&&Dp(this.options.animationType,this.layout.layoutBox,C.layoutBox)){b=this.target||rn();const I=Gn(this.layout.layoutBox.x);b.x.min=E.target.x.min,b.x.max=b.x.min+I;const L=Gn(this.layout.layoutBox.y);b.y.min=E.target.y.min,b.y.max=b.y.min+L}Si(S,b),Ks(S,v),ml(this.projectionDeltaWithTransform,this.layoutCorrected,S,v)}}registerSharedNode(E,S){this.sharedNodes.has(E)||this.sharedNodes.set(E,new _4),this.sharedNodes.get(E).add(S);const C=S.options.initialPromotionConfig;S.promote({transition:C?C.transition:void 0,preserveFollowOpacity:C&&C.shouldPreserveFollowOpacity?C.shouldPreserveFollowOpacity(S):void 0})}isLead(){const E=this.getStack();return E?E.lead===this:!0}getLead(){var S;const{layoutId:E}=this.options;return E?((S=this.getStack())==null?void 0:S.lead)||this:this}getPrevLead(){var S;const{layoutId:E}=this.options;return E?(S=this.getStack())==null?void 0:S.prevLead:void 0}getStack(){const{layoutId:E}=this.options;if(E)return this.root.sharedNodes.get(E)}promote({needsReset:E,transition:S,preserveFollowOpacity:b}={}){const C=this.getStack();C&&C.promote(this,b),E&&(this.projectionDelta=void 0,this.needsReset=!0),S&&this.setOptions({transition:S})}relegate(){const E=this.getStack();return E?E.relegate(this):!1}resetSkewAndRotation(){const{visualElement:E}=this.options;if(!E)return;let S=!1;const{latestValues:b}=E;if((b.z||b.rotate||b.rotateX||b.rotateY||b.rotateZ||b.skewX||b.skewY)&&(S=!0),!S)return;const C={};b.z&&Bh("z",E,C,this.animationValues);for(let v=0;v<_h.length;v++)Bh(`rotate${_h[v]}`,E,C,this.animationValues),Bh(`skew${_h[v]}`,E,C,this.animationValues);E.render();for(const v in C)E.setStaticValue(v,C[v]),this.animationValues&&(this.animationValues[v]=C[v]);E.scheduleRender()}getProjectionStyles(E){if(!this.instance||this.isSVG)return;if(!this.isVisible)return L4;const S={visibility:""},b=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,S.opacity="",S.pointerEvents=nc(E==null?void 0:E.pointerEvents)||"",S.transform=b?b(this.latestValues,""):"none",S;const C=this.getLead();if(!this.projectionDelta||!this.layout||!C.target){const U={};return this.options.layoutId&&(U.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,U.pointerEvents=nc(E==null?void 0:E.pointerEvents)||""),this.hasProjected&&!Ja(this.latestValues)&&(U.transform=b?b({},""):"none",this.hasProjected=!1),U}const v=C.animationValues||C.latestValues;this.applyTransformsToTarget(),S.transform=B4(this.projectionDeltaWithTransform,this.treeScale,v),b&&(S.transform=b(v,S.transform));const{x:I,y:L}=this.projectionDelta;S.transformOrigin=`${I.origin*100}% ${L.origin*100}% 0`,C.animationValues?S.opacity=C===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:S.opacity=C===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const U in Cl){if(v[U]===void 0)continue;const{correct:z,applyTo:X,isCSSVariable:H}=Cl[U],j=S.transform==="none"?v[U]:z(v[U],C);if(X){const nt=X.length;for(let Y=0;Y<nt;Y++)S[X[Y]]=j}else H?this.options.visualElement.renderState.vars[U]=j:S[U]=j}return this.options.layoutId&&(S.pointerEvents=C===this?nc(E==null?void 0:E.pointerEvents)||"":"none"),S}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(E=>{var S;return(S=E.currentAnimation)==null?void 0:S.stop()}),this.root.nodes.forEach(l2),this.root.sharedNodes.clear()}}}function U4(r){r.updateLayout()}function k4(r){var l;const a=((l=r.resumeFrom)==null?void 0:l.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&a&&r.hasListeners("didUpdate")){const{layoutBox:h,measuredBox:m}=r.layout,{animationType:p}=r.options,E=a.source!==r.layout.source;p==="size"?Ti(I=>{const L=E?a.measuredBox[I]:a.layoutBox[I],U=Gn(L);L.min=h[I].min,L.max=L.min+U}):Dp(p,a.layoutBox,h)&&Ti(I=>{const L=E?a.measuredBox[I]:a.layoutBox[I],U=Gn(h[I]);L.max=L.min+U,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[I].max=r.relativeTarget[I].min+U)});const S=Ws();ml(S,h,a.layoutBox);const b=Ws();E?ml(b,r.applyTransform(m,!0),a.measuredBox):ml(b,h,a.layoutBox);const C=!Tp(S);let v=!1;if(!r.resumeFrom){const I=r.getClosestProjectingParent();if(I&&!I.resumeFrom){const{snapshot:L,layout:U}=I;if(L&&U){const z=rn();xl(z,a.layoutBox,L.layoutBox);const X=rn();xl(X,h,U.layoutBox),vp(z,X)||(v=!0),I.options.layoutRoot&&(r.relativeTarget=X,r.relativeTargetOrigin=z,r.relativeParent=I)}}}r.notifyListeners("didUpdate",{layout:h,snapshot:a,delta:b,layoutDelta:S,hasLayoutChanged:C,hasRelativeLayoutChanged:v})}else if(r.isLead()){const{onExitComplete:h}=r.options;h&&h()}r.options.transition=void 0}function F4(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function V4(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function z4(r){r.clearSnapshot()}function l2(r){r.clearMeasurements()}function j4(r){r.isLayoutDirty=!1}function H4(r){const{visualElement:a}=r.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),r.resetTransform()}function u2(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function G4(r){r.resolveTargetDelta()}function Y4(r){r.calcProjection()}function X4(r){r.resetSkewAndRotation()}function Z4(r){r.removeLeadSnapshot()}function c2(r,a,l){r.translate=je(a.translate,0,l),r.scale=je(a.scale,1,l),r.origin=a.origin,r.originPoint=a.originPoint}function f2(r,a,l,h){r.min=je(a.min,l.min,h),r.max=je(a.max,l.max,h)}function q4(r,a,l,h){f2(r.x,a.x,l.x,h),f2(r.y,a.y,l.y,h)}function W4(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const Q4={duration:.45,ease:[.4,0,.1,1]},h2=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),d2=h2("applewebkit/")&&!h2("chrome/")?Math.round:vi;function g2(r){r.min=d2(r.min),r.max=d2(r.max)}function K4(r){g2(r.x),g2(r.y)}function Dp(r,a,l){return r==="position"||r==="preserve-aspect"&&!$C(a2(a),a2(l),.2)}function J4(r){var a;return r!==r.root&&((a=r.scroll)==null?void 0:a.wasRoot)}const $4=Mp({attachResizeListener:(r,a)=>vl(r,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lh={current:void 0},Ip=Mp({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Lh.current){const r=new $4({});r.mount(window),r.setOptions({layoutScroll:!0}),Lh.current=r}return Lh.current},resetTransform:(r,a)=>{r.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),tS={pan:{Feature:x4},drag:{Feature:m4,ProjectionNode:Ip,MeasureLayout:Cp}};function m2(r,a,l){const{props:h}=r;r.animationState&&h.whileHover&&r.animationState.setActive("whileHover",l==="Start");const m="onHover"+l,p=h[m];p&&Re.postRender(()=>p(a,Ll(a)))}class eS extends Sa{mount(){const{current:a}=this.node;a&&(this.unmount=cw(a,(l,h)=>(m2(this.node,h,"Start"),m=>m2(this.node,m,"End"))))}unmount(){}}class nS extends Sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bl(vl(this.node.current,"focus",()=>this.onFocus()),vl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x2(r,a,l){const{props:h}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&h.whileTap&&r.animationState.setActive("whileTap",l==="Start");const m="onTap"+(l==="End"?"":l),p=h[m];p&&Re.postRender(()=>p(a,Ll(a)))}class iS extends Sa{mount(){const{current:a}=this.node;a&&(this.unmount=gw(a,(l,h)=>(x2(this.node,h,"Start"),(m,{success:p})=>x2(this.node,m,p?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const a0=new WeakMap,Ph=new WeakMap,rS=r=>{const a=a0.get(r.target);a&&a(r)},aS=r=>{r.forEach(rS)};function sS({root:r,...a}){const l=r||document;Ph.has(l)||Ph.set(l,{});const h=Ph.get(l),m=JSON.stringify(a);return h[m]||(h[m]=new IntersectionObserver(aS,{root:r,...a})),h[m]}function oS(r,a,l){const h=sS(a);return a0.set(r,l),h.observe(r),()=>{a0.delete(r),h.unobserve(r)}}const lS={some:0,all:1};class uS extends Sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:l,margin:h,amount:m="some",once:p}=a,E={root:l?l.current:void 0,rootMargin:h,threshold:typeof m=="number"?m:lS[m]},S=b=>{const{isIntersecting:C}=b;if(this.isInView===C||(this.isInView=C,p&&!C&&this.hasEnteredView))return;C&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",C);const{onViewportEnter:v,onViewportLeave:I}=this.node.getProps(),L=C?v:I;L&&L(b)};return oS(this.node.current,E,S)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:l}=this.node;["amount","margin","root"].some(cS(a,l))&&this.startObserver()}unmount(){}}function cS({viewport:r={}},{viewport:a={}}={}){return l=>r[l]!==a[l]}const fS={inView:{Feature:uS},tap:{Feature:iS},focus:{Feature:nS},hover:{Feature:eS}},hS={layout:{ProjectionNode:Ip,MeasureLayout:Cp}},s0={current:null},Op={current:!1};function dS(){if(Op.current=!0,!!g0)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),a=()=>s0.current=r.matches;r.addListener(a),a()}else s0.current=!1}const gS=[...np,Fn,Ea],mS=r=>gS.find(ep(r)),xS=new WeakMap;function pS(r,a,l){for(const h in a){const m=a[h],p=l[h];if(Vn(m))r.addValue(h,m);else if(Vn(p))r.addValue(h,wl(m,{owner:r}));else if(p!==m)if(r.hasValue(h)){const E=r.getValue(h);E.liveStyle===!0?E.jump(m):E.hasAnimated||E.set(m)}else{const E=r.getStaticValue(h);r.addValue(h,wl(E!==void 0?E:m,{owner:r}))}}for(const h in l)a[h]===void 0&&r.removeValue(h);return a}const p2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yS{scrapeMotionValuesFromProps(a,l,h){return{}}constructor({parent:a,props:l,presenceContext:h,reducedMotionConfig:m,blockInitialAnimation:p,visualState:E},S={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=H0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const U=sr.now();this.renderScheduledAt<U&&(this.renderScheduledAt=U,Re.render(this.render,!1,!0))};const{latestValues:b,renderState:C,onUpdate:v}=E;this.onUpdate=v,this.latestValues=b,this.baseTarget={...b},this.initialValues=l.initial?{...b}:{},this.renderState=C,this.parent=a,this.props=l,this.presenceContext=h,this.depth=a?a.depth+1:0,this.reducedMotionConfig=m,this.options=S,this.blockInitialAnimation=!!p,this.isControllingVariants=wc(l),this.isVariantNode=yx(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:I,...L}=this.scrapeMotionValuesFromProps(l,{},this);for(const U in L){const z=L[U];b[U]!==void 0&&Vn(z)&&z.set(b[U],!1)}}mount(a){this.current=a,xS.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,h)=>this.bindToMotionValue(h,l)),Op.current||dS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:s0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const l=this.features[a];l&&(l.unmount(),l.isMounted=!1)}this.current=null}bindToMotionValue(a,l){this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();const h=is.has(a);h&&this.onBindTransform&&this.onBindTransform();const m=l.on("change",S=>{this.latestValues[a]=S,this.props.onUpdate&&Re.preRender(this.notifyUpdate),h&&this.projection&&(this.projection.isTransformDirty=!0)}),p=l.on("renderRequest",this.scheduleRender);let E;window.MotionCheckAppearSync&&(E=window.MotionCheckAppearSync(this,a,l)),this.valueSubscriptions.set(a,()=>{m(),p(),E&&E(),l.owner&&l.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}updateFeatures(){let a="animation";for(a in to){const l=to[a];if(!l)continue;const{isEnabled:h,Feature:m}=l;if(!this.features[a]&&m&&h(this.props)&&(this.features[a]=new m(this)),this.features[a]){const p=this.features[a];p.isMounted?p.update():(p.mount(),p.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,l){this.latestValues[a]=l}update(a,l){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let h=0;h<p2.length;h++){const m=p2[h];this.propEventSubscriptions[m]&&(this.propEventSubscriptions[m](),delete this.propEventSubscriptions[m]);const p="on"+m,E=a[p];E&&(this.propEventSubscriptions[m]=this.on(m,E))}this.prevMotionValues=pS(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(a),()=>l.variantChildren.delete(a)}addValue(a,l){const h=this.values.get(a);l!==h&&(h&&this.removeValue(a),this.bindToMotionValue(a,l),this.values.set(a,l),this.latestValues[a]=l.get())}removeValue(a){this.values.delete(a);const l=this.valueSubscriptions.get(a);l&&(l(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,l){if(this.props.values&&this.props.values[a])return this.props.values[a];let h=this.values.get(a);return h===void 0&&l!==void 0&&(h=wl(l===null?void 0:l,{owner:this}),this.addValue(a,h)),h}readValue(a,l){let h=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options);return h!=null&&(typeof h=="string"&&($x(h)||Hx(h))?h=parseFloat(h):!mS(h)&&Ea.test(l)&&(h=Qx(a,l)),this.setBaseTarget(a,Vn(h)?h.get():h)),Vn(h)?h.get():h}setBaseTarget(a,l){this.baseTarget[a]=l}getBaseTarget(a){var p;const{initial:l}=this.props;let h;if(typeof l=="string"||typeof l=="object"){const E=U0(this.props,l,(p=this.presenceContext)==null?void 0:p.custom);E&&(h=E[a])}if(l&&h!==void 0)return h;const m=this.getBaseTargetFromProps(this.props,a);return m!==void 0&&!Vn(m)?m:this.initialValues[a]!==void 0&&h===void 0?void 0:this.baseTarget[a]}on(a,l){return this.events[a]||(this.events[a]=new A0),this.events[a].add(l)}notify(a,...l){this.events[a]&&this.events[a].notify(...l)}}class Rp extends yS{constructor(){super(...arguments),this.KeyframeResolver=ip}sortInstanceNodePosition(a,l){return a.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(a,l){return a.style?a.style[l]:void 0}removeValueFromRenderState(a,{vars:l,style:h}){delete l[a],delete h[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;Vn(a)&&(this.childSubscription=a.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function AS(r){return window.getComputedStyle(r)}class wS extends Rp{constructor(){super(...arguments),this.type="html",this.renderInstance=Dx}readValueFromInstance(a,l){if(is.has(l))return RE(a,l);{const h=AS(a),m=(D0(l)?h.getPropertyValue(l):h[l])||0;return typeof m=="string"?m.trim():m}}measureInstanceViewportBox(a,{transformPagePoint:l}){return yp(a,l)}build(a,l,h){R0(a,l,h.transformTemplate)}scrapeMotionValuesFromProps(a,l,h){return k0(a,l,h)}}class ES extends Rp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Mx(this.current,this.renderState)}}getBaseTargetFromProps(a,l){return a[l]}readValueFromInstance(a,l){if(is.has(l)){const h=Wx(l);return h&&h.default||0}return l=Ix.has(l)?l:M0(l),a.getAttribute(l)}scrapeMotionValuesFromProps(a,l,h){return Rx(a,l,h)}onBindTransform(){this.current&&!this.renderState.dimensions&&Re.postRender(this.updateDimensions)}build(a,l,h){L0(a,l,this.isSVGTag,h.transformTemplate)}renderInstance(a,l,h,m){Ox(a,l,h,m)}mount(a){this.isSVGTag=P0(a.tagName),super.mount(a)}}const CS=(r,a)=>B0(r)?new ES(a):new wS(a,{allowProjection:r!==W.Fragment}),SS=aE({...YC,...fS,...tS,...hS},CS),Ui=Ew(SS);var _p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y2=_r.createContext&&_r.createContext(_p),bS=["attr","size","title"];function TS(r,a){if(r==null)return{};var l=vS(r,a),h,m;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);for(m=0;m<p.length;m++)h=p[m],!(a.indexOf(h)>=0)&&Object.prototype.propertyIsEnumerable.call(r,h)&&(l[h]=r[h])}return l}function vS(r,a){if(r==null)return{};var l={};for(var h in r)if(Object.prototype.hasOwnProperty.call(r,h)){if(a.indexOf(h)>=0)continue;l[h]=r[h]}return l}function hc(){return hc=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(r[h]=l[h])}return r},hc.apply(this,arguments)}function A2(r,a){var l=Object.keys(r);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(r);a&&(h=h.filter(function(m){return Object.getOwnPropertyDescriptor(r,m).enumerable})),l.push.apply(l,h)}return l}function dc(r){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?A2(Object(l),!0).forEach(function(h){NS(r,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):A2(Object(l)).forEach(function(h){Object.defineProperty(r,h,Object.getOwnPropertyDescriptor(l,h))})}return r}function NS(r,a,l){return a=MS(a),a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}function MS(r){var a=DS(r,"string");return typeof a=="symbol"?a:a+""}function DS(r,a){if(typeof r!="object"||!r)return r;var l=r[Symbol.toPrimitive];if(l!==void 0){var h=l.call(r,a);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function Bp(r){return r&&r.map((a,l)=>_r.createElement(a.tag,dc({key:l},a.attr),Bp(a.child)))}function Z0(r){return a=>_r.createElement(IS,hc({attr:dc({},r.attr)},a),Bp(r.child))}function IS(r){var a=l=>{var{attr:h,size:m,title:p}=r,E=TS(r,bS),S=m||l.size||"1em",b;return l.className&&(b=l.className),r.className&&(b=(b?b+" ":"")+r.className),_r.createElement("svg",hc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,h,E,{className:b,style:dc(dc({color:r.color||l.color},l.style),r.style),height:S,width:S,xmlns:"http://www.w3.org/2000/svg"}),p&&_r.createElement("title",null,p),r.children)};return y2!==void 0?_r.createElement(y2.Consumer,null,l=>a(l)):a(_p)}function OS(r){return Z0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(r)}function RS(r){return Z0({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M519.442 288.651c-41.519 0-59.5 31.593-82.058 31.593C377.409 320.244 432 144 432 144s-196.288 80-196.288-3.297c0-35.827 36.288-46.25 36.288-85.985C272 19.216 243.885 0 210.539 0c-34.654 0-66.366 18.891-66.366 56.346 0 41.364 31.711 59.277 31.711 81.75C175.885 207.719 0 166.758 0 166.758v333.237s178.635 41.047 178.635-28.662c0-22.473-40-40.107-40-81.471 0-37.456 29.25-56.346 63.577-56.346 33.673 0 61.788 19.216 61.788 54.717 0 39.735-36.288 50.158-36.288 85.985 0 60.803 129.675 25.73 181.23 25.73 0 0-34.725-120.101 25.827-120.101 35.962 0 46.423 36.152 86.308 36.152C556.712 416 576 387.99 576 354.443c0-34.199-18.962-65.792-56.558-65.792z"},child:[]}]})(r)}function _S(r){return Z0({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(r)}const BS=()=>Z.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-green-100 via-white to-green-200",children:[Z.jsx(Ol,{}),Z.jsx("main",{className:"flex-1 flex items-center justify-center text-center p-6",children:Z.jsxs(Ui.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"glass p-10 rounded-2xl shadow-xl max-w-3xl w-full",children:[Z.jsx("h2",{className:"text-4xl font-bold text-green-800 mb-4",children:"Join the EcoQuest "}),Z.jsx("p",{className:"text-lg text-gray-700 mb-8 italic",children:'"Power the future by solving the past  let the adventure begin!"'}),Z.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Z.jsx("a",{href:"/register",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-md transition transform hover:scale-105 hover:rotate-3",children:" Register Team"}),Z.jsx("a",{href:"/register",className:"border border-green-600 text-green-600 hover:bg-green-100 px-6 py-3 rounded-xl font-semibold shadow-md transition transform hover:scale-105 hover:rotate-3",children:" Start Adventure"})]})]})}),Z.jsxs("section",{className:"bg-white px-6 py-12",children:[Z.jsx("h3",{className:"text-3xl font-bold text-center text-green-700 mb-10",children:"How to Play"}),Z.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[Z.jsxs(Ui.div,{whileHover:{scale:1.05,rotate:-5},className:"p-6 rounded-xl shadow-md bg-green-50 hover:scale-105 transition duration-300",children:[Z.jsx(_S,{className:"text-3xl text-green-600 mb-2"}),Z.jsx("h4",{className:"text-xl font-semibold text-green-800 mb-1",children:"Scan QR Codes"}),Z.jsx("p",{className:"text-gray-600",children:"Find QR codes hidden in the campus and scan to unlock challenges."})]}),Z.jsxs(Ui.div,{whileHover:{scale:1.05,rotate:5},className:"p-6 rounded-xl shadow-md bg-green-50 hover:scale-105 transition duration-300",children:[Z.jsx(RS,{className:"text-3xl text-green-600 mb-2"}),Z.jsx("h4",{className:"text-xl font-semibold text-green-800 mb-1",children:"Solve Challenges"}),Z.jsx("p",{className:"text-gray-600",children:"Answer 2 fun questions at each stage to move forward."})]}),Z.jsxs(Ui.div,{whileHover:{scale:1.05,rotate:-5},className:"p-6 rounded-xl shadow-md bg-green-50 hover:scale-105 transition duration-300",children:[Z.jsx(OS,{className:"text-3xl text-green-600 mb-2"}),Z.jsx("h4",{className:"text-xl font-semibold text-green-800 mb-1",children:"Finish Fast"}),Z.jsx("p",{className:"text-gray-600",children:"The fastest team to finish all stages wins. Time is ticking!"})]})]})]}),Z.jsx(ro,{})]}),LS={apiKey:"AIzaSyClC9pC-qp0bv2yqKizlRVOYsbjn8prhYE",authDomain:"ecoquest-app.firebaseapp.com",projectId:"ecoquest-app",storageBucket:"ecoquest-app.firebasestorage.app",messagingSenderId:"994488550246",appId:"1:994488550246:web:a72ff1b222c34c23343ea7",measurementId:"G-V7MX80TXJ7"},PS=h3(LS),Js=d3(PS),US="/assets/treasure-bg-CBW1x3mk.jpg",kS="/assets/scroll-Dquyk9nl.png",FS=()=>{const[r,a]=W.useState(""),[l,h]=W.useState(""),[m,p]=W.useState(""),E=Dl(),S=async b=>{if(b.preventDefault(),!r||!l||!m)return alert("Fill all fields!");try{await g3(l0(Js,"teams"),{teamName:r,player1:l,player2:m,score:0,stage:1,timestamp:Date.now()}),E("/scan")}catch(C){console.error("Error adding team:",C),alert("Something went wrong!")}};return Z.jsxs("div",{className:"min-h-screen flex flex-col justify-between bg-cover bg-center",style:{backgroundImage:`url(${US})`},children:[Z.jsx(Ui.div,{initial:{opacity:0},animate:{opacity:.4},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"fixed inset-0 pointer-events-none z-0",children:Z.jsx("div",{className:"w-full h-full bg-[radial-gradient(white,transparent)] animate-pulse"})}),Z.jsx("div",{className:"flex-grow flex items-center justify-center px-4 pt-16 pb-10 relative z-10",children:Z.jsx(Ui.div,{initial:{opacity:0,scale:.8,y:80},animate:{opacity:1,scale:1,y:0},transition:{duration:1.2,ease:"easeOut"},className:"relative w-full max-w-md",children:Z.jsxs(Ui.div,{initial:{y:-10},animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:4,ease:"easeInOut"},className:"bg-no-repeat bg-contain bg-center p-8 pt-12 pb-10 shadow-2xl text-center",style:{backgroundImage:`url(${kS})`,backgroundSize:"100% 100%"},children:[Z.jsx("h2",{className:"text-3xl font-bold text-yellow-900 mb-6 font-adventure drop-shadow-lg",children:"Register Your Crew "}),Z.jsxs("form",{onSubmit:S,className:"space-y-5",children:[[{value:r,set:a,placeholder:"Team Name"},{value:l,set:h,placeholder:"Player 1 Name"},{value:m,set:p,placeholder:"Player 2 Name"}].map(({value:b,set:C,placeholder:v},I)=>Z.jsx(Ui.input,{type:"text",placeholder:v,value:b,onChange:L=>C(L.target.value),whileFocus:{scale:1.02,boxShadow:"0 0 10px #facc15"},className:"w-full px-4 py-2 border rounded bg-yellow-50 focus:outline-none focus:ring-2 focus:ring-yellow-600"},I)),Z.jsx(Ui.button,{whileTap:{scale:.95},whileHover:{scale:1.05},type:"submit",className:"w-full bg-yellow-700 text-white py-2 rounded-md font-semibold hover:bg-yellow-800 transition",children:"Begin The Quest "})]})]})})}),Z.jsx(ro,{})]})};var Ct;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ct||(Ct={}));var w2=new Map([[Ct.QR_CODE,"QR_CODE"],[Ct.AZTEC,"AZTEC"],[Ct.CODABAR,"CODABAR"],[Ct.CODE_39,"CODE_39"],[Ct.CODE_93,"CODE_93"],[Ct.CODE_128,"CODE_128"],[Ct.DATA_MATRIX,"DATA_MATRIX"],[Ct.MAXICODE,"MAXICODE"],[Ct.ITF,"ITF"],[Ct.EAN_13,"EAN_13"],[Ct.EAN_8,"EAN_8"],[Ct.PDF_417,"PDF_417"],[Ct.RSS_14,"RSS_14"],[Ct.RSS_EXPANDED,"RSS_EXPANDED"],[Ct.UPC_A,"UPC_A"],[Ct.UPC_E,"UPC_E"],[Ct.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),E2;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(E2||(E2={}));function VS(r){return Object.values(Ct).includes(r)}var Ca;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ca||(Ca={}));var Pi=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[Ca.SCAN_TYPE_CAMERA,Ca.SCAN_TYPE_FILE],r}(),Lp=function(){function r(a,l){this.format=a,this.formatName=l}return r.prototype.toString=function(){return this.formatName},r.create=function(a){if(!w2.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new r(a,w2.get(a))},r}(),C2=function(){function r(){}return r.createFromText=function(a){var l={text:a};return{decodedText:a,result:l}},r.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},r}(),o0;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(o0||(o0={}));var Pp=function(){function r(){}return r.createFrom=function(a){return{errorMessage:a,type:o0.UNKWOWN_ERROR}},r}(),Up=function(){function r(a){this.verbose=a}return r.prototype.log=function(a){this.verbose&&console.log(a)},r.prototype.warn=function(a){this.verbose&&console.warn(a)},r.prototype.logError=function(a,l){(this.verbose||l===!0)&&console.error(a)},r.prototype.logErrors=function(a){if(a.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},r}();function ir(r){return typeof r>"u"||r===null}function zS(r,a,l){return r>l?l:r<a?a:r}var $s=function(){function r(){}return r.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},r.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),Ae=function(){function r(){}return r.scanningStatus=function(){return"Scanning"},r.idleStatus=function(){return"Idle"},r.errorStatus=function(){return"Error"},r.permissionStatus=function(){return"Permission"},r.noCameraFoundErrorStatus=function(){return"No Cameras"},r.lastMatch=function(a){return"Last Match: ".concat(a)},r.codeScannerTitle=function(){return"Code Scanner"},r.cameraPermissionTitle=function(){return"Request Camera Permissions"},r.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},r.noCameraFound=function(){return"No camera found"},r.scanButtonStopScanningText=function(){return"Stop Scanning"},r.scanButtonStartScanningText=function(){return"Start Scanning"},r.torchOnButton=function(){return"Switch On Torch"},r.torchOffButton=function(){return"Switch Off Torch"},r.torchOnFailedMessage=function(){return"Failed to turn on torch"},r.torchOffFailedMessage=function(){return"Failed to turn off torch"},r.scanButtonScanningStarting=function(){return"Launching Camera..."},r.textIfCameraScanSelected=function(){return"Scan an Image File"},r.textIfFileScanSelected=function(){return"Scan using camera directly"},r.selectCamera=function(){return"Select Camera"},r.fileSelectionChooseImage=function(){return"Choose Image"},r.fileSelectionChooseAnother=function(){return"Choose Another"},r.fileSelectionNoImageSelected=function(){return"No image choosen"},r.anonymousCameraPrefix=function(){return"Anonymous Camera"},r.dragAndDropMessage=function(){return"Or drop an image to scan"},r.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},r.zoom=function(){return"zoom"},r.loadingImage=function(){return"Loading image..."},r.cameraScanAltText=function(){return"Camera based scan"},r.fileScanAltText=function(){return"Fule based scan"},r}(),S2=function(){function r(){}return r.poweredBy=function(){return"Powered by "},r.reportIssues=function(){return"Report issues"},r}(),kp=function(){function r(){}return r.isMediaStreamConstraintsValid=function(a,l){if(typeof a!="object"){var h=typeof a;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(m),E=Object.keys(a),S=0,b=E;S<b.length;S++){var C=b[S];if(p.has(C))return l.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},r}(),hl={exports:{}},jS=hl.exports,b2;function HS(){return b2||(b2=1,function(r,a){(function(l,h){h(a)})(jS,function(l){function h(M){return M==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,e){M.__proto__=e}||function(M,e){for(var i in e)e.hasOwnProperty(i)&&(M[i]=e[i])};function p(M,e){m(M,e);function i(){this.constructor=M}M.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}function E(M,e){var i=Object.setPrototypeOf;i?i(M,e):M.__proto__=e}function S(M,e){e===void 0&&(e=M.constructor);var i=Error.captureStackTrace;i&&i(M,e)}var b=function(M){p(e,M);function e(i){var s=this.constructor,u=M.call(this,i)||this;return Object.defineProperty(u,"name",{value:s.name,enumerable:!1}),E(u,s.prototype),S(u),u}return e}(Error);class C extends b{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}C.kind="Exception";class v extends C{}v.kind="ArgumentException";class I extends C{}I.kind="IllegalArgumentException";class L{constructor(e){if(this.binarizer=e,e===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,i){return this.binarizer.getBlackRow(e,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,i,s,u){const c=this.binarizer.getLuminanceSource().crop(e,i,s,u);return new L(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new L(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new L(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class U extends C{static getChecksumInstance(){return new U}}U.kind="ChecksumException";class z{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class X{static arraycopy(e,i,s,u,c){for(;c--;)s[u++]=e[i++]}static currentTimeMillis(){return Date.now()}}class H extends C{}H.kind="IndexOutOfBoundsException";class j extends H{constructor(e=void 0,i=void 0){super(i),this.index=e,this.message=i}}j.kind="ArrayIndexOutOfBoundsException";class nt{static fill(e,i){for(let s=0,u=e.length;s<u;s++)e[s]=i}static fillWithin(e,i,s,u){nt.rangeCheck(e.length,i,s);for(let c=i;c<s;c++)e[c]=u}static rangeCheck(e,i,s){if(i>s)throw new I("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new j(i);if(s>e)throw new j(s)}static asList(...e){return e}static create(e,i,s){return Array.from({length:e}).map(c=>Array.from({length:i}).fill(s))}static createInt32Array(e,i,s){return Array.from({length:e}).map(c=>Int32Array.from({length:i}).fill(s))}static equals(e,i){if(!e||!i||!e.length||!i.length||e.length!==i.length)return!1;for(let s=0,u=e.length;s<u;s++)if(e[s]!==i[s])return!1;return!0}static hashCode(e){if(e===null)return 0;let i=1;for(const s of e)i=31*i+s;return i}static fillUint8Array(e,i){for(let s=0;s!==e.length;s++)e[s]=i}static copyOf(e,i){return e.slice(0,i)}static copyOfUint8Array(e,i){if(e.length<=i){const s=new Uint8Array(i);return s.set(e),s}return e.slice(0,i)}static copyOfRange(e,i,s){const u=s-i,c=new Int32Array(u);return X.arraycopy(e,i,c,0,u),c}static binarySearch(e,i,s){s===void 0&&(s=nt.numberComparator);let u=0,c=e.length-1;for(;u<=c;){const d=c+u>>1,g=s(i,e[d]);if(g>0)u=d+1;else if(g<0)c=d-1;else return d}return-u-1}static numberComparator(e,i){return e-i}}class Y{static numberOfTrailingZeros(e){let i;if(e===0)return 32;let s=31;return i=e<<16,i!==0&&(s-=16,e=i),i=e<<8,i!==0&&(s-=8,e=i),i=e<<4,i!==0&&(s-=4,e=i),i=e<<2,i!==0&&(s-=2,e=i),s-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let i=1;return e>>>16||(i+=16,e<<=16),e>>>24||(i+=8,e<<=8),e>>>28||(i+=4,e<<=4),e>>>30||(i+=2,e<<=2),i-=e>>>31,i}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,i){return Math.trunc(e/i)}static parseInt(e,i=void 0){return parseInt(e,i)}}Y.MIN_VALUE_32_BITS=-2147483648,Y.MAX_VALUE=Number.MAX_SAFE_INTEGER;class xt{constructor(e,i){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,i==null?this.bits=xt.makeArray(e):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const i=xt.makeArray(e);X.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const i=this.size;if(e>=i)return i;const s=this.bits;let u=Math.floor(e/32),c=s[u];c&=~((1<<(e&31))-1);const d=s.length;for(;c===0;){if(++u===d)return i;c=s[u]}const g=u*32+Y.numberOfTrailingZeros(c);return g>i?i:g}getNextUnset(e){const i=this.size;if(e>=i)return i;const s=this.bits;let u=Math.floor(e/32),c=~s[u];c&=~((1<<(e&31))-1);const d=s.length;for(;c===0;){if(++u===d)return i;c=~s[u]}const g=u*32+Y.numberOfTrailingZeros(c);return g>i?i:g}setBulk(e,i){this.bits[Math.floor(e/32)]=i}setRange(e,i){if(i<e||e<0||i>this.size)throw new I;if(i===e)return;i--;const s=Math.floor(e/32),u=Math.floor(i/32),c=this.bits;for(let d=s;d<=u;d++){const g=d>s?0:e&31,w=(2<<(d<u?31:i&31))-(1<<g);c[d]|=w}}clear(){const e=this.bits.length,i=this.bits;for(let s=0;s<e;s++)i[s]=0}isRange(e,i,s){if(i<e||e<0||i>this.size)throw new I;if(i===e)return!0;i--;const u=Math.floor(e/32),c=Math.floor(i/32),d=this.bits;for(let g=u;g<=c;g++){const y=g>u?0:e&31,T=(2<<(g<c?31:i&31))-(1<<y)&4294967295;if((d[g]&T)!==(s?T:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,i){if(i<0||i>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((e>>s-1&1)===1)}appendBitArray(e){const i=e.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(e.get(s))}xor(e){if(this.size!==e.size)throw new I("Sizes don't match");const i=this.bits;for(let s=0,u=i.length;s<u;s++)i[s]^=e.bits[s]}toBytes(e,i,s,u){for(let c=0;c<u;c++){let d=0;for(let g=0;g<8;g++)this.get(e)&&(d|=1<<7-g),e++;i[s+c]=d}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,u=this.bits;for(let c=0;c<s;c++){let d=u[c];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,e[i-c]=d}if(this.size!==s*32){const c=s*32-this.size;let d=e[0]>>>c;for(let g=1;g<s;g++){const y=e[g];d|=y<<32-c,e[g-1]=d,d=y>>>c}e[s-1]=d}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof xt))return!1;const i=e;return this.size===i.size&&nt.equals(this.bits,i.bits)}hashCode(){return 31*this.size+nt.hashCode(this.bits)}toString(){let e="";for(let i=0,s=this.size;i<s;i++)(i&7)===0&&(e+=" "),e+=this.get(i)?"X":".";return e}clone(){return new xt(this.size,this.bits.slice())}}var At;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(At||(At={}));var wt=At;class ut extends C{static getFormatInstance(){return new ut}}ut.kind="FormatException";var pt;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(pt||(pt={}));class lt{constructor(e,i,s,...u){this.valueIdentifier=e,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=u,lt.VALUE_IDENTIFIER_TO_ECI.set(e,this),lt.NAME_TO_ECI.set(s,this);const c=this.values;for(let d=0,g=c.length;d!==g;d++){const y=c[d];lt.VALUES_TO_ECI.set(y,this)}for(const d of u)lt.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new ut("incorect value");const i=lt.VALUES_TO_ECI.get(e);if(i===void 0)throw new ut("incorect value");return i}static getCharacterSetECIByName(e){const i=lt.NAME_TO_ECI.get(e);if(i===void 0)throw new ut("incorect value");return i}equals(e){if(!(e instanceof lt))return!1;const i=e;return this.getName()===i.getName()}}lt.VALUE_IDENTIFIER_TO_ECI=new Map,lt.VALUES_TO_ECI=new Map,lt.NAME_TO_ECI=new Map,lt.Cp437=new lt(pt.Cp437,Int32Array.from([0,2]),"Cp437"),lt.ISO8859_1=new lt(pt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),lt.ISO8859_2=new lt(pt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),lt.ISO8859_3=new lt(pt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),lt.ISO8859_4=new lt(pt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),lt.ISO8859_5=new lt(pt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),lt.ISO8859_6=new lt(pt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),lt.ISO8859_7=new lt(pt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),lt.ISO8859_8=new lt(pt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),lt.ISO8859_9=new lt(pt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),lt.ISO8859_10=new lt(pt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),lt.ISO8859_11=new lt(pt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),lt.ISO8859_13=new lt(pt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),lt.ISO8859_14=new lt(pt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),lt.ISO8859_15=new lt(pt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),lt.ISO8859_16=new lt(pt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),lt.SJIS=new lt(pt.SJIS,20,"SJIS","Shift_JIS"),lt.Cp1250=new lt(pt.Cp1250,21,"Cp1250","windows-1250"),lt.Cp1251=new lt(pt.Cp1251,22,"Cp1251","windows-1251"),lt.Cp1252=new lt(pt.Cp1252,23,"Cp1252","windows-1252"),lt.Cp1256=new lt(pt.Cp1256,24,"Cp1256","windows-1256"),lt.UnicodeBigUnmarked=new lt(pt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),lt.UTF8=new lt(pt.UTF8,26,"UTF8","UTF-8"),lt.ASCII=new lt(pt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),lt.Big5=new lt(pt.Big5,28,"Big5"),lt.GB18030=new lt(pt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),lt.EUC_KR=new lt(pt.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends C{}ae.kind="UnsupportedOperationException";class ue{static decode(e,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(e,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(e,s):new TextDecoder(s).decode(e)}static shouldDecodeOnFallback(e){return!ue.isBrowser()&&e==="ISO-8859-1"}static encode(e,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(e,s):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof lt?e:lt.getCharacterSetECIByName(e)}static decodeFallback(e,i){const s=this.encodingCharacterSet(i);if(ue.isDecodeFallbackSupported(s)){let u="";for(let c=0,d=e.length;c<d;c++){let g=e[c].toString(16);g.length<2&&(g="0"+g),u+="%"+g}return decodeURIComponent(u)}if(s.equals(lt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ae(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(lt.UTF8)||e.equals(lt.ISO8859_1)||e.equals(lt.ASCII)}static encodeFallback(e){const s=btoa(unescape(encodeURIComponent(e))).split(""),u=[];for(let c=0;c<s.length;c++)u.push(s[c].charCodeAt(0));return new Uint8Array(u)}}class Tt{static castAsNonUtf8Char(e,i=null){const s=i?i.getName():this.ISO88591;return ue.decode(new Uint8Array([e]),s)}static guessEncoding(e,i){if(i!=null&&i.get(wt.CHARACTER_SET)!==void 0)return i.get(wt.CHARACTER_SET).toString();const s=e.length;let u=!0,c=!0,d=!0,g=0,y=0,w=0,T=0,D=0,O=0,B=0,k=0,F=0,q=0,tt=0;const gt=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let mt=0;mt<s&&(u||c||d);mt++){const dt=e[mt]&255;d&&(g>0?(dt&128)===0?d=!1:g--:(dt&128)!==0&&((dt&64)===0?d=!1:(g++,(dt&32)===0?y++:(g++,(dt&16)===0?w++:(g++,(dt&8)===0?T++:d=!1))))),u&&(dt>127&&dt<160?u=!1:dt>159&&(dt<192||dt===215||dt===247)&&tt++),c&&(D>0?dt<64||dt===127||dt>252?c=!1:D--:dt===128||dt===160||dt>239?c=!1:dt>160&&dt<224?(O++,k=0,B++,B>F&&(F=B)):dt>127?(D++,B=0,k++,k>q&&(q=k)):(B=0,k=0))}return d&&g>0&&(d=!1),c&&D>0&&(c=!1),d&&(gt||y+w+T>0)?Tt.UTF8:c&&(Tt.ASSUME_SHIFT_JIS||F>=3||q>=3)?Tt.SHIFT_JIS:u&&c?F===2&&O===2||tt*10>=s?Tt.SHIFT_JIS:Tt.ISO88591:u?Tt.ISO88591:c?Tt.SHIFT_JIS:d?Tt.UTF8:Tt.PLATFORM_DEFAULT_ENCODING}static format(e,...i){let s=-1;function u(d,g,y,w,T,D){if(d==="%%")return"%";if(i[++s]===void 0)return;d=w?parseInt(w.substr(1)):void 0;let O=T?parseInt(T.substr(1)):void 0,B;switch(D){case"s":B=i[s];break;case"c":B=i[s][0];break;case"f":B=parseFloat(i[s]).toFixed(d);break;case"p":B=parseFloat(i[s]).toPrecision(d);break;case"e":B=parseFloat(i[s]).toExponential(d);break;case"x":B=parseInt(i[s]).toString(O||16);break;case"d":B=parseFloat(parseInt(i[s],O||10).toPrecision(d)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(O);let k=parseInt(y),F=y&&y[0]+""=="0"?"0":" ";for(;B.length<k;)B=g!==void 0?B+F:F+B;return B}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,u)}static getBytes(e,i){return ue.encode(e,i)}static getCharCode(e,i=0){return e.charCodeAt(i)}static getCharAt(e){return String.fromCharCode(e)}}Tt.SHIFT_JIS=lt.SJIS.getName(),Tt.GB2312="GB2312",Tt.ISO88591=lt.ISO8859_1.getName(),Tt.EUC_JP="EUC_JP",Tt.UTF8=lt.UTF8.getName(),Tt.PLATFORM_DEFAULT_ENCODING=Tt.UTF8,Tt.ASSUME_SHIFT_JIS=!1;class $t{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Tt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,i,s){for(let u=i;i<i+s;u++)this.append(e[u]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+1)}substring(e,i){return this.value.substring(e,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+i.length)}}class ve{constructor(e,i,s,u){if(this.width=e,this.height=i,this.rowSize=s,this.bits=u,i==null&&(i=e),this.height=i,e<1||i<1)throw new I("Both dimensions must be greater than 0");s==null&&(s=Math.floor((e+31)/32)),this.rowSize=s,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const i=e.length,s=e[0].length,u=new ve(s,i);for(let c=0;c<i;c++){const d=e[c];for(let g=0;g<s;g++)d[g]&&u.set(g,c)}return u}static parseFromString(e,i,s){if(e===null)throw new I("stringRepresentation cannot be null");const u=new Array(e.length);let c=0,d=0,g=-1,y=0,w=0;for(;w<e.length;)if(e.charAt(w)===`
`||e.charAt(w)==="\r"){if(c>d){if(g===-1)g=c-d;else if(c-d!==g)throw new I("row lengths do not match");d=c,y++}w++}else if(e.substring(w,w+i.length)===i)w+=i.length,u[c]=!0,c++;else if(e.substring(w,w+s.length)===s)w+=s.length,u[c]=!1,c++;else throw new I("illegal character encountered: "+e.substring(w));if(c>d){if(g===-1)g=c-d;else if(c-d!==g)throw new I("row lengths do not match");y++}const T=new ve(g,y);for(let D=0;D<c;D++)u[D]&&T.set(Math.floor(D%g),Math.floor(D/g));return T}get(e,i){const s=i*this.rowSize+Math.floor(e/32);return(this.bits[s]>>>(e&31)&1)!==0}set(e,i){const s=i*this.rowSize+Math.floor(e/32);this.bits[s]|=1<<(e&31)&4294967295}unset(e,i){const s=i*this.rowSize+Math.floor(e/32);this.bits[s]&=~(1<<(e&31)&4294967295)}flip(e,i){const s=i*this.rowSize+Math.floor(e/32);this.bits[s]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new I("input matrix dimensions do not match");const i=new xt(Math.floor(this.width/32)+1),s=this.rowSize,u=this.bits;for(let c=0,d=this.height;c<d;c++){const g=c*s,y=e.getRow(c,i).getBitArray();for(let w=0;w<s;w++)u[g+w]^=y[w]}}clear(){const e=this.bits,i=e.length;for(let s=0;s<i;s++)e[s]=0}setRegion(e,i,s,u){if(i<0||e<0)throw new I("Left and top must be nonnegative");if(u<1||s<1)throw new I("Height and width must be at least 1");const c=e+s,d=i+u;if(d>this.height||c>this.width)throw new I("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let w=i;w<d;w++){const T=w*g;for(let D=e;D<c;D++)y[T+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(e,i){i==null||i.getSize()<this.width?i=new xt(this.width):i.clear();const s=this.rowSize,u=this.bits,c=e*s;for(let d=0;d<s;d++)i.setBulk(d*32,u[c+d]);return i}setRow(e,i){X.arraycopy(i.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),i=this.getHeight();let s=new xt(e),u=new xt(e);for(let c=0,d=Math.floor((i+1)/2);c<d;c++)s=this.getRow(c,s),u=this.getRow(i-1-c,u),s.reverse(),u.reverse(),this.setRow(c,u),this.setRow(i-1-c,s)}getEnclosingRectangle(){const e=this.width,i=this.height,s=this.rowSize,u=this.bits;let c=e,d=i,g=-1,y=-1;for(let w=0;w<i;w++)for(let T=0;T<s;T++){const D=u[w*s+T];if(D!==0){if(w<d&&(d=w),w>y&&(y=w),T*32<c){let O=0;for(;(D<<31-O&4294967295)===0;)O++;T*32+O<c&&(c=T*32+O)}if(T*32+31>g){let O=31;for(;!(D>>>O);)O--;T*32+O>g&&(g=T*32+O)}}}return g<c||y<d?null:Int32Array.from([c,d,g-c+1,y-d+1])}getTopLeftOnBit(){const e=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const u=s/e;let c=s%e*32;const d=i[s];let g=0;for(;(d<<31-g&4294967295)===0;)g++;return c+=g,Int32Array.from([c,u])}getBottomRightOnBit(){const e=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const u=Math.floor(s/e);let c=Math.floor(s%e)*32;const d=i[s];let g=31;for(;!(d>>>g);)g--;return c+=g,Int32Array.from([c,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ve))return!1;const i=e;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&nt.equals(this.bits,i.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+nt.hashCode(this.bits),e}toString(e="X ",i="  ",s=`
`){return this.buildToString(e,i,s)}buildToString(e,i,s){let u=new $t;for(let c=0,d=this.height;c<d;c++){for(let g=0,y=this.width;g<y;g++)u.append(this.get(g,c)?e:i);u.append(s)}return u.toString()}clone(){return new ve(this.width,this.height,this.rowSize,this.bits.slice())}}class rt extends C{static getNotFoundInstance(){return new rt}}rt.kind="NotFoundException";class at extends z{constructor(e){super(e),this.luminances=at.EMPTY,this.buckets=new Int32Array(at.LUMINANCE_BUCKETS)}getBlackRow(e,i){const s=this.getLuminanceSource(),u=s.getWidth();i==null||i.getSize()<u?i=new xt(u):i.clear(),this.initArrays(u);const c=s.getRow(e,this.luminances),d=this.buckets;for(let y=0;y<u;y++)d[(c[y]&255)>>at.LUMINANCE_SHIFT]++;const g=at.estimateBlackPoint(d);if(u<3)for(let y=0;y<u;y++)(c[y]&255)<g&&i.set(y);else{let y=c[0]&255,w=c[1]&255;for(let T=1;T<u-1;T++){const D=c[T+1]&255;(w*4-y-D)/2<g&&i.set(T),y=w,w=D}}return i}getBlackMatrix(){const e=this.getLuminanceSource(),i=e.getWidth(),s=e.getHeight(),u=new ve(i,s);this.initArrays(i);const c=this.buckets;for(let y=1;y<5;y++){const w=Math.floor(s*y/5),T=e.getRow(w,this.luminances),D=Math.floor(i*4/5);for(let O=Math.floor(i/5);O<D;O++){const B=T[O]&255;c[B>>at.LUMINANCE_SHIFT]++}}const d=at.estimateBlackPoint(c),g=e.getMatrix();for(let y=0;y<s;y++){const w=y*i;for(let T=0;T<i;T++)(g[w+T]&255)<d&&u.set(T,y)}return u}createBinarizer(e){return new at(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const i=this.buckets;for(let s=0;s<at.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(e){const i=e.length;let s=0,u=0,c=0;for(let T=0;T<i;T++)e[T]>c&&(u=T,c=e[T]),e[T]>s&&(s=e[T]);let d=0,g=0;for(let T=0;T<i;T++){const D=T-u,O=e[T]*D*D;O>g&&(d=T,g=O)}if(u>d){const T=u;u=d,d=T}if(d-u<=i/16)throw new rt;let y=d-1,w=-1;for(let T=d-1;T>u;T--){const D=T-u,O=D*D*(d-T)*(s-e[T]);O>w&&(y=T,w=O)}return y<<at.LUMINANCE_SHIFT}}at.LUMINANCE_BITS=5,at.LUMINANCE_SHIFT=8-at.LUMINANCE_BITS,at.LUMINANCE_BUCKETS=1<<at.LUMINANCE_BITS,at.EMPTY=Uint8ClampedArray.from([0]);class st extends at{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),i=e.getWidth(),s=e.getHeight();if(i>=st.MINIMUM_DIMENSION&&s>=st.MINIMUM_DIMENSION){const u=e.getMatrix();let c=i>>st.BLOCK_SIZE_POWER;(i&st.BLOCK_SIZE_MASK)!==0&&c++;let d=s>>st.BLOCK_SIZE_POWER;(s&st.BLOCK_SIZE_MASK)!==0&&d++;const g=st.calculateBlackPoints(u,c,d,i,s),y=new ve(i,s);st.calculateThresholdForBlock(u,c,d,i,s,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new st(e)}static calculateThresholdForBlock(e,i,s,u,c,d,g){const y=c-st.BLOCK_SIZE,w=u-st.BLOCK_SIZE;for(let T=0;T<s;T++){let D=T<<st.BLOCK_SIZE_POWER;D>y&&(D=y);const O=st.cap(T,2,s-3);for(let B=0;B<i;B++){let k=B<<st.BLOCK_SIZE_POWER;k>w&&(k=w);const F=st.cap(B,2,i-3);let q=0;for(let gt=-2;gt<=2;gt++){const mt=d[O+gt];q+=mt[F-2]+mt[F-1]+mt[F]+mt[F+1]+mt[F+2]}const tt=q/25;st.thresholdBlock(e,k,D,tt,u,g)}}}static cap(e,i,s){return e<i?i:e>s?s:e}static thresholdBlock(e,i,s,u,c,d){for(let g=0,y=s*c+i;g<st.BLOCK_SIZE;g++,y+=c)for(let w=0;w<st.BLOCK_SIZE;w++)(e[y+w]&255)<=u&&d.set(i+w,s+g)}static calculateBlackPoints(e,i,s,u,c){const d=c-st.BLOCK_SIZE,g=u-st.BLOCK_SIZE,y=new Array(s);for(let w=0;w<s;w++){y[w]=new Int32Array(i);let T=w<<st.BLOCK_SIZE_POWER;T>d&&(T=d);for(let D=0;D<i;D++){let O=D<<st.BLOCK_SIZE_POWER;O>g&&(O=g);let B=0,k=255,F=0;for(let tt=0,gt=T*u+O;tt<st.BLOCK_SIZE;tt++,gt+=u){for(let mt=0;mt<st.BLOCK_SIZE;mt++){const dt=e[gt+mt]&255;B+=dt,dt<k&&(k=dt),dt>F&&(F=dt)}if(F-k>st.MIN_DYNAMIC_RANGE)for(tt++,gt+=u;tt<st.BLOCK_SIZE;tt++,gt+=u)for(let mt=0;mt<st.BLOCK_SIZE;mt++)B+=e[gt+mt]&255}let q=B>>st.BLOCK_SIZE_POWER*2;if(F-k<=st.MIN_DYNAMIC_RANGE&&(q=k/2,w>0&&D>0)){const tt=(y[w-1][D]+2*y[w][D-1]+y[w-1][D-1])/4;k<tt&&(q=tt)}y[w][D]=q}}return y}}st.BLOCK_SIZE_POWER=3,st.BLOCK_SIZE=1<<st.BLOCK_SIZE_POWER,st.BLOCK_SIZE_MASK=st.BLOCK_SIZE-1,st.MINIMUM_DIMENSION=st.BLOCK_SIZE*5,st.MIN_DYNAMIC_RANGE=24;class vt{constructor(e,i){this.width=e,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,i,s,u){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let i=new $t;for(let s=0;s<this.height;s++){const u=this.getRow(s,e);for(let c=0;c<this.width;c++){const d=u[c]&255;let g;d<64?g="#":d<128?g="+":d<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class Gt extends vt{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,i){const s=this.delegate.getRow(e,i),u=this.getWidth();for(let c=0;c<u;c++)s[c]=255-(s[c]&255);return s}getMatrix(){const e=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let u=0;u<i;u++)s[u]=255-(e[u]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(e,i,s,u){return new Gt(this.delegate.crop(e,i,s,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Gt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Gt(this.delegate.rotateCounterClockwise45())}}class Yt extends vt{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Yt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const i=e.getContext("2d").getImageData(0,0,e.width,e.height);return Yt.toGrayscaleBuffer(i.data,e.width,e.height)}static toGrayscaleBuffer(e,i,s){const u=new Uint8ClampedArray(i*s);for(let c=0,d=0,g=e.length;c<g;c+=4,d++){let y;if(e[c+3]===0)y=255;else{const T=e[c],D=e[c+1],O=e[c+2];y=306*T+601*D+117*O+512>>10}u[d]=y}return u}getRow(e,i){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const s=this.getWidth(),u=e*s;return i===null?i=this.buffer.slice(u,u+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(u,u+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,i,s,u){return super.crop(e,i,s,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const i=this.getTempCanvasElement(),s=i.getContext("2d"),u=e*Yt.DEGREE_TO_RADIANS,c=this.canvas.width,d=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(u))*c+Math.abs(Math.sin(u))*d),y=Math.ceil(Math.abs(Math.sin(u))*c+Math.abs(Math.cos(u))*d);return i.width=g,i.height=y,s.translate(g/2,y/2),s.rotate(u),s.drawImage(this.canvas,c/-2,d/-2),this.buffer=Yt.makeBufferFromCanvasImageData(i),this}invert(){return new Gt(this)}}Yt.DEGREE_TO_RADIANS=Math.PI/180;class yn{constructor(e,i,s){this.deviceId=e,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var zt=(globalThis||Zu||self||window||void 0)&&(globalThis||Zu||self||window||void 0).__awaiter||function(M,e,i,s){function u(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function g(T){try{w(s.next(T))}catch(D){d(D)}}function y(T){try{w(s.throw(T))}catch(D){d(D)}}function w(T){T.done?c(T.value):u(T.value).then(g,y)}w((s=s.apply(M,e||[])).next())})};class Qt{constructor(e,i=500,s){this.reader=e,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return zt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of e){const u=s.kind==="video"?"videoinput":s.kind;if(u!=="videoinput")continue;const c=s.deviceId||s.id,d=s.label||`Video device ${i.length+1}`,g=s.groupId,y={deviceId:c,label:d,kind:u,groupId:g};i.push(y)}return i})}getVideoInputDevices(){return zt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new yn(i.deviceId,i.label))})}findDeviceById(e){return zt(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===e):null})}decodeFromInputVideoDevice(e,i){return zt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,i)})}decodeOnceFromVideoDevice(e,i){return zt(this,void 0,void 0,function*(){this.reset();let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const u={video:s};return yield this.decodeOnceFromConstraints(u,i)})}decodeOnceFromConstraints(e,i){return zt(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(e,i){return zt(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(e,i,s){return zt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,i,s)})}decodeFromVideoDevice(e,i,s){return zt(this,void 0,void 0,function*(){let u;e?u={deviceId:{exact:e}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeFromConstraints(c,i,s)})}decodeFromConstraints(e,i,s){return zt(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(u,i,s)})}decodeFromStream(e,i,s){return zt(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(e,i);return yield this.decodeContinuously(u,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,i){return zt(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,e),this.videoElement=s,this.stream=e,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(e){return new Promise((i,s)=>this.playVideoOnLoad(e,()=>i()))}playVideoOnLoad(e,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",i),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return zt(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,i){const s=document.getElementById(e);if(!s)throw new v(`element with id '${e}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new v(`element with id '${e}' must be an ${i} element`);return s}decodeFromImage(e,i){if(!e&&!i)throw new v("either imageElement with a src set or an url must be provided");return i&&!e?this.decodeFromImageUrl(i):this.decodeFromImageElement(e)}decodeFromVideo(e,i){if(!e&&!i)throw new v("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,i,s){if(e===void 0&&i===void 0)throw new v("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(e,s)}decodeFromImageElement(e){if(!e)throw new v("An image element must be provided.");this.reset();const i=this.prepareImageElement(e);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(e){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(e,i){const s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(e){if(!e)throw new v("A video element must be provided.");this.reset();const i=this.prepareVideoElement(e);return this.videoElement=i,i}decodeFromImageUrl(e){if(!e)throw new v("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=e,s}decodeFromVideoUrl(e){if(!e)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=e,s}decodeFromVideoUrlContinuously(e,i){if(!e)throw new v("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(s,i);return s.src=e,u}_decodeOnLoadImage(e){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(i,s),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return zt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,i){return zt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,i)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let i;return typeof e>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(i=e),i}prepareVideoElement(e){let i;return!e&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(i=e),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(e,i=!0,s=!0){this._stopAsyncDecode=!1;const u=(c,d)=>{if(this._stopAsyncDecode){d(new rt("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(e);c(g)}catch(g){const y=i&&g instanceof rt,T=(g instanceof U||g instanceof ut)&&s;if(y||T)return setTimeout(u,this._timeBetweenDecodingAttempts,c,d);d(g)}};return new Promise((c,d)=>u(c,d))}decodeContinuously(e,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(e);i(u,null),setTimeout(s,this.timeBetweenScansMillis)}catch(u){i(null,u);const c=u instanceof U||u instanceof ut,d=u instanceof rt;(c||d)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(e){const i=this.createBinaryBitmap(e);return this.decodeBitmap(i)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,i,s){i||(i={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(e,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const i=this.getCaptureCanvas(e),s=new Yt(i),u=new st(s);return new L(u)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const i=this.createCaptureCanvas(e);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,u;return typeof e<"u"&&(e instanceof HTMLVideoElement?(s=e.videoWidth,u=e.videoHeight):e instanceof HTMLImageElement&&(s=e.naturalWidth||e.width,u=e.naturalHeight||e.height)),i.style.width=s+"px",i.style.height=u+"px",i.width=s,i.height=u,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,i){try{e.srcObject=i}catch{e.src=URL.createObjectURL(i)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ie{constructor(e,i,s=i==null?0:8*i.length,u,c,d=X.currentTimeMillis()){this.text=e,this.rawBytes=i,this.numBits=s,this.resultPoints=u,this.format=c,this.timestamp=d,this.text=e,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=u,this.format=c,this.resultMetadata=null,d==null?this.timestamp=X.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,i)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const i=this.resultPoints;if(i===null)this.resultPoints=e;else if(e!==null&&e.length>0){const s=new Array(i.length+e.length);X.arraycopy(i,0,s,0,i.length),X.arraycopy(e,0,s,i.length,e.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Yn;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Yn||(Yn={}));var Nt=Yn,kr;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(kr||(kr={}));var Fe=kr;class hi{constructor(e,i,s,u,c=-1,d=-1){this.rawBytes=e,this.text=i,this.byteSegments=s,this.ecLevel=u,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=d,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class cr{exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}static addOrSubtract(e,i){return e^i}}class un{constructor(e,i){if(i.length===0)throw new I;this.field=e;const s=i.length;if(s>1&&i[0]===0){let u=1;for(;u<s&&i[u]===0;)u++;u===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-u),X.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(e===1){s=0;for(let d=0,g=i.length;d!==g;d++){const y=i[d];s=cr.addOrSubtract(s,y)}return s}s=i[0];const u=i.length,c=this.field;for(let d=1;d<u;d++)s=cr.addOrSubtract(c.multiply(e,s),i[d]);return s}addOrSubtract(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,s=e.coefficients;if(i.length>s.length){const d=i;i=s,s=d}let u=new Int32Array(s.length);const c=s.length-i.length;X.arraycopy(s,0,u,0,c);for(let d=c;d<s.length;d++)u[d]=cr.addOrSubtract(i[d-c],s[d]);return new un(this.field,u)}multiply(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,u=e.coefficients,c=u.length,d=new Int32Array(s+c-1),g=this.field;for(let y=0;y<s;y++){const w=i[y];for(let T=0;T<c;T++)d[y+T]=cr.addOrSubtract(d[y+T],g.multiply(w,u[T]))}return new un(g,d)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const i=this.coefficients.length,s=this.field,u=new Int32Array(i),c=this.coefficients;for(let d=0;d<i;d++)u[d]=s.multiply(c[d],e);return new un(s,u)}multiplyByMonomial(e,i){if(e<0)throw new I;if(i===0)return this.field.getZero();const s=this.coefficients,u=s.length,c=new Int32Array(u+e),d=this.field;for(let g=0;g<u;g++)c[g]=d.multiply(s[g],i);return new un(d,c)}divide(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new I("Divide by 0");const i=this.field;let s=i.getZero(),u=this;const c=e.getCoefficient(e.getDegree()),d=i.inverse(c);for(;u.getDegree()>=e.getDegree()&&!u.isZero();){const g=u.getDegree()-e.getDegree(),y=i.multiply(u.getCoefficient(u.getDegree()),d),w=e.multiplyByMonomial(g,y),T=i.buildMonomial(g,y);s=s.addOrSubtract(T),u=u.addOrSubtract(w)}return[s,u]}toString(){let e="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(e+=" - ",s=-s):e.length>0&&(e+=" + "),i===0||s!==1){const u=this.field.log(s);u===0?e+="1":u===1?e+="a":(e+="a^",e+=u)}i!==0&&(i===1?e+="x":(e+="x^",e+=i))}}return e}}class Fr extends C{}Fr.kind="ArithmeticException";class te extends cr{constructor(e,i,s){super(),this.primitive=e,this.size=i,this.generatorBase=s;const u=new Int32Array(i);let c=1;for(let g=0;g<i;g++)u[g]=c,c*=2,c>=i&&(c^=e,c&=i-1);this.expTable=u;const d=new Int32Array(i);for(let g=0;g<i-1;g++)d[u[g]]=g;this.logTable=d,this.zero=new un(this,Int32Array.from([0])),this.one=new un(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new I;if(i===0)return this.zero;const s=new Int32Array(e+1);return s[0]=i,new un(this,s)}inverse(e){if(e===0)throw new Fr;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Y.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}te.AZTEC_DATA_12=new te(4201,4096,1),te.AZTEC_DATA_10=new te(1033,1024,1),te.AZTEC_DATA_6=new te(67,64,1),te.AZTEC_PARAM=new te(19,16,1),te.QR_CODE_FIELD_256=new te(285,256,0),te.DATA_MATRIX_FIELD_256=new te(301,256,1),te.AZTEC_DATA_8=te.DATA_MATRIX_FIELD_256,te.MAXICODE_FIELD_64=te.AZTEC_DATA_6;class ki extends C{}ki.kind="ReedSolomonException";class di extends C{}di.kind="IllegalStateException";class ba{constructor(e){this.field=e}decode(e,i){const s=this.field,u=new un(s,e),c=new Int32Array(i);let d=!0;for(let B=0;B<i;B++){const k=u.evaluateAt(s.exp(B+s.getGeneratorBase()));c[c.length-1-B]=k,k!==0&&(d=!1)}if(d)return;const g=new un(s,c),y=this.runEuclideanAlgorithm(s.buildMonomial(i,1),g,i),w=y[0],T=y[1],D=this.findErrorLocations(w),O=this.findErrorMagnitudes(T,D);for(let B=0;B<D.length;B++){const k=e.length-1-s.log(D[B]);if(k<0)throw new ki("Bad error location");e[k]=te.addOrSubtract(e[k],O[B])}}runEuclideanAlgorithm(e,i,s){if(e.getDegree()<i.getDegree()){const B=e;e=i,i=B}const u=this.field;let c=e,d=i,g=u.getZero(),y=u.getOne();for(;d.getDegree()>=(s/2|0);){let B=c,k=g;if(c=d,g=y,c.isZero())throw new ki("r_{i-1} was zero");d=B;let F=u.getZero();const q=c.getCoefficient(c.getDegree()),tt=u.inverse(q);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){const gt=d.getDegree()-c.getDegree(),mt=u.multiply(d.getCoefficient(d.getDegree()),tt);F=F.addOrSubtract(u.buildMonomial(gt,mt)),d=d.addOrSubtract(c.multiplyByMonomial(gt,mt))}if(y=F.multiply(g).addOrSubtract(k),d.getDegree()>=c.getDegree())throw new di("Division algorithm failed to reduce polynomial?")}const w=y.getCoefficient(0);if(w===0)throw new ki("sigmaTilde(0) was zero");const T=u.inverse(w),D=y.multiplyScalar(T),O=d.multiplyScalar(T);return[D,O]}findErrorLocations(e){const i=e.getDegree();if(i===1)return Int32Array.from([e.getCoefficient(1)]);const s=new Int32Array(i);let u=0;const c=this.field;for(let d=1;d<c.getSize()&&u<i;d++)e.evaluateAt(d)===0&&(s[u]=c.inverse(d),u++);if(u!==i)throw new ki("Error locator degree does not match number of roots");return s}findErrorMagnitudes(e,i){const s=i.length,u=new Int32Array(s),c=this.field;for(let d=0;d<s;d++){const g=c.inverse(i[d]);let y=1;for(let w=0;w<s;w++)if(d!==w){const T=c.multiply(i[w],g),D=(T&1)===0?T|1:T&-2;y=c.multiply(y,D)}u[d]=c.multiply(e.evaluateAt(g),c.inverse(y)),c.getGeneratorBase()!==0&&(u[d]=c.multiply(u[d],g))}return u}}var we;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(we||(we={}));class Ee{decode(e){this.ddata=e;let i=e.getBits(),s=this.extractBits(i),u=this.correctBits(s),c=Ee.convertBoolArrayToByteArray(u),d=Ee.getEncodedData(u),g=new hi(c,d,null,null);return g.setNumBits(u.length),g}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let i=e.length,s=we.UPPER,u=we.UPPER,c="",d=0;for(;d<i;)if(u===we.BINARY){if(i-d<5)break;let g=Ee.readCode(e,d,5);if(d+=5,g===0){if(i-d<11)break;g=Ee.readCode(e,d,11)+31,d+=11}for(let y=0;y<g;y++){if(i-d<8){d=i;break}const w=Ee.readCode(e,d,8);c+=Tt.castAsNonUtf8Char(w),d+=8}u=s}else{let g=u===we.DIGIT?4:5;if(i-d<g)break;let y=Ee.readCode(e,d,g);d+=g;let w=Ee.getCharacter(u,y);w.startsWith("CTRL_")?(s=u,u=Ee.getTable(w.charAt(5)),w.charAt(6)==="L"&&(s=u)):(c+=w,u=s)}return c}static getTable(e){switch(e){case"L":return we.LOWER;case"P":return we.PUNCT;case"M":return we.MIXED;case"D":return we.DIGIT;case"B":return we.BINARY;case"U":default:return we.UPPER}}static getCharacter(e,i){switch(e){case we.UPPER:return Ee.UPPER_TABLE[i];case we.LOWER:return Ee.LOWER_TABLE[i];case we.MIXED:return Ee.MIXED_TABLE[i];case we.PUNCT:return Ee.PUNCT_TABLE[i];case we.DIGIT:return Ee.DIGIT_TABLE[i];default:throw new di("Bad table")}}correctBits(e){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=te.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=te.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=te.AZTEC_DATA_10):(s=12,i=te.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),c=e.length/s;if(c<u)throw new ut;let d=e.length%s,g=new Int32Array(c);for(let O=0;O<c;O++,d+=s)g[O]=Ee.readCode(e,d,s);try{new ba(i).decode(g,c-u)}catch(O){throw new ut(O)}let y=(1<<s)-1,w=0;for(let O=0;O<u;O++){let B=g[O];if(B===0||B===y)throw new ut;(B===1||B===y-1)&&w++}let T=new Array(u*s-w),D=0;for(let O=0;O<u;O++){let B=g[O];if(B===1||B===y-1)T.fill(B>1,D,D+s-1),D+=s-1;else for(let k=s-1;k>=0;--k)T[D++]=(B&1<<k)!==0}return T}extractBits(e){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),u=(i?11:14)+s*4,c=new Int32Array(u),d=new Array(this.totalBitsInLayer(s,i));if(i)for(let g=0;g<c.length;g++)c[g]=g;else{let g=u+1+2*Y.truncDivision(Y.truncDivision(u,2)-1,15),y=u/2,w=Y.truncDivision(g,2);for(let T=0;T<y;T++){let D=T+Y.truncDivision(T,15);c[y-T-1]=w-D-1,c[y+T]=w+D+1}}for(let g=0,y=0;g<s;g++){let w=(s-g)*4+(i?9:12),T=g*2,D=u-1-T;for(let O=0;O<w;O++){let B=O*2;for(let k=0;k<2;k++)d[y+B+k]=e.get(c[T+k],c[T+O]),d[y+2*w+B+k]=e.get(c[T+O],c[D-k]),d[y+4*w+B+k]=e.get(c[D-k],c[D-O]),d[y+6*w+B+k]=e.get(c[D-O],c[T+k])}y+=w*8}return d}static readCode(e,i,s){let u=0;for(let c=i;c<i+s;c++)u<<=1,e[c]&&(u|=1);return u}static readByte(e,i){let s=e.length-i;return s>=8?Ee.readCode(e,i,8):Ee.readCode(e,i,s)<<8-s}static convertBoolArrayToByteArray(e){let i=new Uint8Array((e.length+7)/8);for(let s=0;s<i.length;s++)i[s]=Ee.readByte(e,8*s);return i}totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}Ee.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ee.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ee.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ee.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ee.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Kt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,i,s,u){const c=e-s,d=i-u;return Math.sqrt(c*c+d*d)}static sum(e){let i=0;for(let s=0,u=e.length;s!==u;s++){const c=e[s];i+=c}return i}}class Ta{static floatToIntBits(e){return e}}Ta.MAX_VALUE=Number.MAX_SAFE_INTEGER;class St{constructor(e,i){this.x=e,this.y=i}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof St){const i=e;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ta.floatToIntBits(this.x)+Ta.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const i=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),u=this.distance(e[0],e[2]);let c,d,g;if(s>=i&&s>=u?(d=e[0],c=e[1],g=e[2]):u>=s&&u>=i?(d=e[1],c=e[0],g=e[2]):(d=e[2],c=e[0],g=e[1]),this.crossProductZ(c,d,g)<0){const y=c;c=g,g=y}e[0]=c,e[1]=d,e[2]=g}static distance(e,i){return Kt.distance(e.x,e.y,i.x,i.y)}static crossProductZ(e,i,s){const u=i.x,c=i.y;return(s.x-u)*(e.y-c)-(s.y-c)*(e.x-u)}}class rs{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class oo extends rs{constructor(e,i,s,u,c){super(e,i),this.compact=s,this.nbDatablocks=u,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ni{constructor(e,i,s,u){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),i==null&&(i=Ni.INIT_SIZE),s==null&&(s=e.getWidth()/2|0),u==null&&(u=e.getHeight()/2|0);const c=i/2|0;if(this.leftInit=s-c,this.rightInit=s+c,this.upInit=u-c,this.downInit=u+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new rt}detect(){let e=this.leftInit,i=this.rightInit,s=this.upInit,u=this.downInit,c=!1,d=!0,g=!1,y=!1,w=!1,T=!1,D=!1;const O=this.width,B=this.height;for(;d;){d=!1;let k=!0;for(;(k||!y)&&i<O;)k=this.containsBlackPoint(s,u,i,!1),k?(i++,d=!0,y=!0):y||i++;if(i>=O){c=!0;break}let F=!0;for(;(F||!w)&&u<B;)F=this.containsBlackPoint(e,i,u,!0),F?(u++,d=!0,w=!0):w||u++;if(u>=B){c=!0;break}let q=!0;for(;(q||!T)&&e>=0;)q=this.containsBlackPoint(s,u,e,!1),q?(e--,d=!0,T=!0):T||e--;if(e<0){c=!0;break}let tt=!0;for(;(tt||!D)&&s>=0;)tt=this.containsBlackPoint(e,i,s,!0),tt?(s--,d=!0,D=!0):D||s--;if(s<0){c=!0;break}d&&(g=!0)}if(!c&&g){const k=i-e;let F=null;for(let mt=1;F===null&&mt<k;mt++)F=this.getBlackPointOnSegment(e,u-mt,e+mt,u);if(F==null)throw new rt;let q=null;for(let mt=1;q===null&&mt<k;mt++)q=this.getBlackPointOnSegment(e,s+mt,e+mt,s);if(q==null)throw new rt;let tt=null;for(let mt=1;tt===null&&mt<k;mt++)tt=this.getBlackPointOnSegment(i,s+mt,i-mt,s);if(tt==null)throw new rt;let gt=null;for(let mt=1;gt===null&&mt<k;mt++)gt=this.getBlackPointOnSegment(i,u-mt,i-mt,u);if(gt==null)throw new rt;return this.centerEdges(gt,F,tt,q)}else throw new rt}getBlackPointOnSegment(e,i,s,u){const c=Kt.round(Kt.distance(e,i,s,u)),d=(s-e)/c,g=(u-i)/c,y=this.image;for(let w=0;w<c;w++){const T=Kt.round(e+w*d),D=Kt.round(i+w*g);if(y.get(T,D))return new St(T,D)}return null}centerEdges(e,i,s,u){const c=e.getX(),d=e.getY(),g=i.getX(),y=i.getY(),w=s.getX(),T=s.getY(),D=u.getX(),O=u.getY(),B=Ni.CORR;return c<this.width/2?[new St(D-B,O+B),new St(g+B,y+B),new St(w-B,T-B),new St(c+B,d-B)]:[new St(D+B,O+B),new St(g+B,y-B),new St(w-B,T+B),new St(c-B,d-B)]}containsBlackPoint(e,i,s,u){const c=this.image;if(u){for(let d=e;d<=i;d++)if(c.get(d,s))return!0}else for(let d=e;d<=i;d++)if(c.get(s,d))return!0;return!1}}Ni.INIT_SIZE=10,Ni.CORR=1;class lo{static checkAndNudgePoints(e,i){const s=e.getWidth(),u=e.getHeight();let c=!0;for(let d=0;d<i.length&&c;d+=2){const g=Math.floor(i[d]),y=Math.floor(i[d+1]);if(g<-1||g>s||y<-1||y>u)throw new rt;c=!1,g===-1?(i[d]=0,c=!0):g===s&&(i[d]=s-1,c=!0),y===-1?(i[d+1]=0,c=!0):y===u&&(i[d+1]=u-1,c=!0)}c=!0;for(let d=i.length-2;d>=0&&c;d-=2){const g=Math.floor(i[d]),y=Math.floor(i[d+1]);if(g<-1||g>s||y<-1||y>u)throw new rt;c=!1,g===-1?(i[d]=0,c=!0):g===s&&(i[d]=s-1,c=!0),y===-1?(i[d+1]=0,c=!0):y===u&&(i[d+1]=u-1,c=!0)}}}class Tn{constructor(e,i,s,u,c,d,g,y,w){this.a11=e,this.a21=i,this.a31=s,this.a12=u,this.a22=c,this.a32=d,this.a13=g,this.a23=y,this.a33=w}static quadrilateralToQuadrilateral(e,i,s,u,c,d,g,y,w,T,D,O,B,k,F,q){const tt=Tn.quadrilateralToSquare(e,i,s,u,c,d,g,y);return Tn.squareToQuadrilateral(w,T,D,O,B,k,F,q).times(tt)}transformPoints(e){const i=e.length,s=this.a11,u=this.a12,c=this.a13,d=this.a21,g=this.a22,y=this.a23,w=this.a31,T=this.a32,D=this.a33;for(let O=0;O<i;O+=2){const B=e[O],k=e[O+1],F=c*B+y*k+D;e[O]=(s*B+d*k+w)/F,e[O+1]=(u*B+g*k+T)/F}}transformPointsWithValues(e,i){const s=this.a11,u=this.a12,c=this.a13,d=this.a21,g=this.a22,y=this.a23,w=this.a31,T=this.a32,D=this.a33,O=e.length;for(let B=0;B<O;B++){const k=e[B],F=i[B],q=c*k+y*F+D;e[B]=(s*k+d*F+w)/q,i[B]=(u*k+g*F+T)/q}}static squareToQuadrilateral(e,i,s,u,c,d,g,y){const w=e-s+c-g,T=i-u+d-y;if(w===0&&T===0)return new Tn(s-e,c-s,e,u-i,d-u,i,0,0,1);{const D=s-c,O=g-c,B=u-d,k=y-d,F=D*k-O*B,q=(w*k-O*T)/F,tt=(D*T-w*B)/F;return new Tn(s-e+q*s,g-e+tt*g,e,u-i+q*u,y-i+tt*y,i,q,tt,1)}}static quadrilateralToSquare(e,i,s,u,c,d,g,y){return Tn.squareToQuadrilateral(e,i,s,u,c,d,g,y).buildAdjoint()}buildAdjoint(){return new Tn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Tn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Rn extends lo{sampleGrid(e,i,s,u,c,d,g,y,w,T,D,O,B,k,F,q,tt,gt,mt){const dt=Tn.quadrilateralToQuadrilateral(u,c,d,g,y,w,T,D,O,B,k,F,q,tt,gt,mt);return this.sampleGridWithTransform(e,i,s,dt)}sampleGridWithTransform(e,i,s,u){if(i<=0||s<=0)throw new rt;const c=new ve(i,s),d=new Float32Array(2*i);for(let g=0;g<s;g++){const y=d.length,w=g+.5;for(let T=0;T<y;T+=2)d[T]=T/2+.5,d[T+1]=w;u.transformPoints(d),lo.checkAndNudgePoints(e,d);try{for(let T=0;T<y;T+=2)e.get(Math.floor(d[T]),Math.floor(d[T+1]))&&c.set(T/2,g)}catch{throw new rt}}return c}}class vn{static setGridSampler(e){vn.gridSampler=e}static getInstance(){return vn.gridSampler}}vn.gridSampler=new Rn;class de{constructor(e,i){this.x=e,this.y=i}toResultPoint(){return new St(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Pl{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(e){let d=s[0];s[0]=s[2],s[2]=d}this.extractParameters(s);let u=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),c=this.getMatrixCornerPoints(s);return new oo(u,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new rt;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(e[0],e[1],i),this.sampleLine(e[1],e[2],i),this.sampleLine(e[2],e[3],i),this.sampleLine(e[3],e[0],i)]);this.shift=this.getRotation(s,i);let u=0;for(let d=0;d<4;d++){let g=s[(this.shift+d)%4];this.compact?(u<<=7,u+=g>>1&127):(u<<=10,u+=(g>>2&992)+(g>>1&31))}let c=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(e,i){let s=0;e.forEach((u,c,d)=>{let g=(u>>i-2<<1)+(u&1);s=(s<<3)+g}),s=((s&1)<<11)+(s>>1);for(let u=0;u<4;u++)if(Y.bitCount(s^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new rt}getCorrectedParameterData(e,i){let s,u;i?(s=7,u=2):(s=10,u=4);let c=s-u,d=new Int32Array(s);for(let y=s-1;y>=0;--y)d[y]=e&15,e>>=4;try{new ba(te.AZTEC_PARAM).decode(d,c)}catch{throw new rt}let g=0;for(let y=0;y<u;y++)g=(g<<4)+d[y];return g}getBullsEyeCorners(e){let i=e,s=e,u=e,c=e,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(i,d,1,-1),O=this.getFirstDifferent(s,d,1,1),B=this.getFirstDifferent(u,d,-1,1),k=this.getFirstDifferent(c,d,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(k,D)*this.nbCenterLayers/(this.distancePoint(c,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(D,O,B,k))break}i=D,s=O,u=B,c=k,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new rt;this.compact=this.nbCenterLayers===5;let g=new St(i.getX()+.5,i.getY()-.5),y=new St(s.getX()+.5,s.getY()+.5),w=new St(u.getX()-.5,u.getY()+.5),T=new St(c.getX()-.5,c.getY()-.5);return this.expandSquare([g,y,w,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,i,s,u;try{let g=new Ni(this.image).detect();e=g[0],i=g[1],s=g[2],u=g[3]}catch{let y=this.image.getWidth()/2,w=this.image.getHeight()/2;e=this.getFirstDifferent(new de(y+7,w-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new de(y+7,w+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new de(y-7,w+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new de(y-7,w-7),!1,-1,-1).toResultPoint()}let c=Kt.round((e.getX()+u.getX()+i.getX()+s.getX())/4),d=Kt.round((e.getY()+u.getY()+i.getY()+s.getY())/4);try{let g=new Ni(this.image,15,c,d).detect();e=g[0],i=g[1],s=g[2],u=g[3]}catch{e=this.getFirstDifferent(new de(c+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new de(c+7,d+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new de(c-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new de(c-7,d-7),!1,-1,-1).toResultPoint()}return c=Kt.round((e.getX()+u.getX()+i.getX()+s.getX())/4),d=Kt.round((e.getY()+u.getY()+i.getY()+s.getY())/4),new de(c,d)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,i,s,u,c){let d=vn.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,w=g/2+this.nbCenterLayers;return d.sampleGrid(e,g,g,y,y,w,y,w,w,y,w,i.getX(),i.getY(),s.getX(),s.getY(),u.getX(),u.getY(),c.getX(),c.getY())}sampleLine(e,i,s){let u=0,c=this.distanceResultPoint(e,i),d=c/s,g=e.getX(),y=e.getY(),w=d*(i.getX()-e.getX())/c,T=d*(i.getY()-e.getY())/c;for(let D=0;D<s;D++)this.image.get(Kt.round(g+D*w),Kt.round(y+D*T))&&(u|=1<<s-D-1);return u}isWhiteOrBlackRectangle(e,i,s,u){let c=3;e=new de(e.getX()-c,e.getY()+c),i=new de(i.getX()-c,i.getY()-c),s=new de(s.getX()+c,s.getY()-c),u=new de(u.getX()+c,u.getY()+c);let d=this.getColor(u,e);if(d===0)return!1;let g=this.getColor(e,i);return g!==d||(g=this.getColor(i,s),g!==d)?!1:(g=this.getColor(s,u),g===d)}getColor(e,i){let s=this.distancePoint(e,i),u=(i.getX()-e.getX())/s,c=(i.getY()-e.getY())/s,d=0,g=e.getX(),y=e.getY(),w=this.image.get(e.getX(),e.getY()),T=Math.ceil(s);for(let O=0;O<T;O++)g+=u,y+=c,this.image.get(Kt.round(g),Kt.round(y))!==w&&d++;let D=d/s;return D>.1&&D<.9?0:D<=.1===w?1:-1}getFirstDifferent(e,i,s,u){let c=e.getX()+s,d=e.getY()+u;for(;this.isValid(c,d)&&this.image.get(c,d)===i;)c+=s,d+=u;for(c-=s,d-=u;this.isValid(c,d)&&this.image.get(c,d)===i;)c+=s;for(c-=s;this.isValid(c,d)&&this.image.get(c,d)===i;)d+=u;return d-=u,new de(c,d)}expandSquare(e,i,s){let u=s/(2*i),c=e[0].getX()-e[2].getX(),d=e[0].getY()-e[2].getY(),g=(e[0].getX()+e[2].getX())/2,y=(e[0].getY()+e[2].getY())/2,w=new St(g+u*c,y+u*d),T=new St(g-u*c,y-u*d);c=e[1].getX()-e[3].getX(),d=e[1].getY()-e[3].getY(),g=(e[1].getX()+e[3].getX())/2,y=(e[1].getY()+e[3].getY())/2;let D=new St(g+u*c,y+u*d),O=new St(g-u*c,y-u*d);return[w,D,T,O]}isValid(e,i){return e>=0&&e<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(e){let i=Kt.round(e.getX()),s=Kt.round(e.getY());return this.isValid(i,s)}distancePoint(e,i){return Kt.distance(e.getX(),e.getY(),i.getX(),i.getY())}distanceResultPoint(e,i){return Kt.distance(e.getX(),e.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Y.truncDivision(this.nbLayers-4,8)+1)+15}}class as{decode(e,i=null){let s=null,u=new Pl(e.getBlackMatrix()),c=null,d=null;try{let T=u.detectMirror(!1);c=T.getPoints(),this.reportFoundResultPoints(i,c),d=new Ee().decode(T)}catch(T){s=T}if(d==null)try{let T=u.detectMirror(!0);c=T.getPoints(),this.reportFoundResultPoints(i,c),d=new Ee().decode(T)}catch(T){throw s??T}let g=new ie(d.getText(),d.getRawBytes(),d.getNumBits(),c,Nt.AZTEC,X.currentTimeMillis()),y=d.getByteSegments();y!=null&&g.putMetadata(Fe.BYTE_SEGMENTS,y);let w=d.getECLevel();return w!=null&&g.putMetadata(Fe.ERROR_CORRECTION_LEVEL,w),g}reportFoundResultPoints(e,i){if(e!=null){let s=e.get(wt.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((u,c,d)=>{s.foundPossibleResultPoint(u)})}}reset(){}}class Cc extends Qt{constructor(e=500){super(new as,e)}}class _e{decode(e,i){try{return this.doDecode(e,i)}catch{if(i&&i.get(wt.TRY_HARDER)===!0&&e.isRotateSupported()){const c=e.rotateCounterClockwise(),d=this.doDecode(c,i),g=d.getResultMetadata();let y=270;g!==null&&g.get(Fe.ORIENTATION)===!0&&(y=y+g.get(Fe.ORIENTATION)%360),d.putMetadata(Fe.ORIENTATION,y);const w=d.getResultPoints();if(w!==null){const T=c.getHeight();for(let D=0;D<w.length;D++)w[D]=new St(T-w[D].getY()-1,w[D].getX())}return d}else throw new rt}}reset(){}doDecode(e,i){const s=e.getWidth(),u=e.getHeight();let c=new xt(s);const d=i&&i.get(wt.TRY_HARDER)===!0,g=Math.max(1,u>>(d?8:5));let y;d?y=u:y=15;const w=Math.trunc(u/2);for(let T=0;T<y;T++){const D=Math.trunc((T+1)/2),O=(T&1)===0,B=w+g*(O?D:-D);if(B<0||B>=u)break;try{c=e.getBlackRow(B,c)}catch{continue}for(let k=0;k<2;k++){if(k===1&&(c.reverse(),i&&i.get(wt.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((q,tt)=>F.set(tt,q)),F.delete(wt.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(B,c,i);if(k===1){F.putMetadata(Fe.ORIENTATION,180);const q=F.getResultPoints();q!==null&&(q[0]=new St(s-q[0].getX()-1,q[0].getY()),q[1]=new St(s-q[1].getX()-1,q[1].getY()))}return F}catch{}}}throw new rt}static recordPattern(e,i,s){const u=s.length;for(let w=0;w<u;w++)s[w]=0;const c=e.getSize();if(i>=c)throw new rt;let d=!e.get(i),g=0,y=i;for(;y<c;){if(e.get(y)!==d)s[g]++;else{if(++g===u)break;s[g]=1,d=!d}y++}if(!(g===u||g===u-1&&y===c))throw new rt}static recordPatternInReverse(e,i,s){let u=s.length,c=e.get(i);for(;i>0&&u>=0;)e.get(--i)!==c&&(u--,c=!c);if(u>=0)throw new rt;_e.recordPattern(e,i+1,s)}static patternMatchVariance(e,i,s){const u=e.length;let c=0,d=0;for(let w=0;w<u;w++)c+=e[w],d+=i[w];if(c<d)return Number.POSITIVE_INFINITY;const g=c/d;s*=g;let y=0;for(let w=0;w<u;w++){const T=e[w],D=i[w]*g,O=T>D?T-D:D-T;if(O>s)return Number.POSITIVE_INFINITY;y+=O}return y/c}}class yt extends _e{static findStartPattern(e){const i=e.getSize(),s=e.getNextSet(0);let u=0,c=Int32Array.from([0,0,0,0,0,0]),d=s,g=!1;const y=6;for(let w=s;w<i;w++)if(e.get(w)!==g)c[u]++;else{if(u===y-1){let T=yt.MAX_AVG_VARIANCE,D=-1;for(let O=yt.CODE_START_A;O<=yt.CODE_START_C;O++){const B=_e.patternMatchVariance(c,yt.CODE_PATTERNS[O],yt.MAX_INDIVIDUAL_VARIANCE);B<T&&(T=B,D=O)}if(D>=0&&e.isRange(Math.max(0,d-(w-d)/2),d,!1))return Int32Array.from([d,w,D]);d+=c[0]+c[1],c=c.slice(2,c.length-1),c[u-1]=0,c[u]=0,u--}else u++;c[u]=1,g=!g}throw new rt}static decodeCode(e,i,s){_e.recordPattern(e,s,i);let u=yt.MAX_AVG_VARIANCE,c=-1;for(let d=0;d<yt.CODE_PATTERNS.length;d++){const g=yt.CODE_PATTERNS[d],y=this.patternMatchVariance(i,g,yt.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,c=d)}if(c>=0)return c;throw new rt}decodeRow(e,i,s){const u=s&&s.get(wt.ASSUME_GS1)===!0,c=yt.findStartPattern(i),d=c[2];let g=0;const y=new Uint8Array(20);y[g++]=d;let w;switch(d){case yt.CODE_START_A:w=yt.CODE_CODE_A;break;case yt.CODE_START_B:w=yt.CODE_CODE_B;break;case yt.CODE_START_C:w=yt.CODE_CODE_C;break;default:throw new ut}let T=!1,D=!1,O="",B=c[0],k=c[1];const F=Int32Array.from([0,0,0,0,0,0]);let q=0,tt=0,gt=d,mt=0,dt=!0,Ft=!1,Ut=!1;for(;!T;){const Ki=D;switch(D=!1,q=tt,tt=yt.decodeCode(i,F,k),y[g++]=tt,tt!==yt.CODE_STOP&&(dt=!0),tt!==yt.CODE_STOP&&(mt++,gt+=mt*tt),B=k,k+=F.reduce((ni,Zl)=>ni+Zl,0),tt){case yt.CODE_START_A:case yt.CODE_START_B:case yt.CODE_START_C:throw new ut}switch(w){case yt.CODE_CODE_A:if(tt<64)Ut===Ft?O+=String.fromCharCode(32+tt):O+=String.fromCharCode(32+tt+128),Ut=!1;else if(tt<96)Ut===Ft?O+=String.fromCharCode(tt-64):O+=String.fromCharCode(tt+64),Ut=!1;else switch(tt!==yt.CODE_STOP&&(dt=!1),tt){case yt.CODE_FNC_1:u&&(O.length===0?O+="]C1":O+="");break;case yt.CODE_FNC_2:case yt.CODE_FNC_3:break;case yt.CODE_FNC_4_A:!Ft&&Ut?(Ft=!0,Ut=!1):Ft&&Ut?(Ft=!1,Ut=!1):Ut=!0;break;case yt.CODE_SHIFT:D=!0,w=yt.CODE_CODE_B;break;case yt.CODE_CODE_B:w=yt.CODE_CODE_B;break;case yt.CODE_CODE_C:w=yt.CODE_CODE_C;break;case yt.CODE_STOP:T=!0;break}break;case yt.CODE_CODE_B:if(tt<96)Ut===Ft?O+=String.fromCharCode(32+tt):O+=String.fromCharCode(32+tt+128),Ut=!1;else switch(tt!==yt.CODE_STOP&&(dt=!1),tt){case yt.CODE_FNC_1:u&&(O.length===0?O+="]C1":O+="");break;case yt.CODE_FNC_2:case yt.CODE_FNC_3:break;case yt.CODE_FNC_4_B:!Ft&&Ut?(Ft=!0,Ut=!1):Ft&&Ut?(Ft=!1,Ut=!1):Ut=!0;break;case yt.CODE_SHIFT:D=!0,w=yt.CODE_CODE_A;break;case yt.CODE_CODE_A:w=yt.CODE_CODE_A;break;case yt.CODE_CODE_C:w=yt.CODE_CODE_C;break;case yt.CODE_STOP:T=!0;break}break;case yt.CODE_CODE_C:if(tt<100)tt<10&&(O+="0"),O+=tt;else switch(tt!==yt.CODE_STOP&&(dt=!1),tt){case yt.CODE_FNC_1:u&&(O.length===0?O+="]C1":O+="");break;case yt.CODE_CODE_A:w=yt.CODE_CODE_A;break;case yt.CODE_CODE_B:w=yt.CODE_CODE_B;break;case yt.CODE_STOP:T=!0;break}break}Ki&&(w=w===yt.CODE_CODE_A?yt.CODE_CODE_B:yt.CODE_CODE_A)}const Nn=k-B;if(k=i.getNextUnset(k),!i.isRange(k,Math.min(i.getSize(),k+(k-B)/2),!1))throw new rt;if(gt-=mt*q,gt%103!==q)throw new U;const Wn=O.length;if(Wn===0)throw new rt;Wn>0&&dt&&(w===yt.CODE_CODE_C?O=O.substring(0,Wn-2):O=O.substring(0,Wn-1));const Pn=(c[1]+c[0])/2,xe=B+Nn/2,mn=y.length,Un=new Uint8Array(mn);for(let Ki=0;Ki<mn;Ki++)Un[Ki]=y[Ki];const pr=[new St(Pn,e),new St(xe,e)];return new ie(O,Un,0,pr,Nt.CODE_128,new Date().getTime())}}yt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],yt.MAX_AVG_VARIANCE=.25,yt.MAX_INDIVIDUAL_VARIANCE=.7,yt.CODE_SHIFT=98,yt.CODE_CODE_C=99,yt.CODE_CODE_B=100,yt.CODE_CODE_A=101,yt.CODE_FNC_1=102,yt.CODE_FNC_2=97,yt.CODE_FNC_3=96,yt.CODE_FNC_4_A=101,yt.CODE_FNC_4_B=100,yt.CODE_START_A=103,yt.CODE_START_B=104,yt.CODE_START_C=105,yt.CODE_STOP=106;class Ne extends _e{constructor(e=!1,i=!1){super(),this.usingCheckDigit=e,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,i,s){let u=this.counters;u.fill(0),this.decodeRowResult="";let c=Ne.findAsteriskPattern(i,u),d=i.getNextSet(c[1]),g=i.getSize(),y,w;do{Ne.recordPattern(i,d,u);let F=Ne.toNarrowWidePattern(u);if(F<0)throw new rt;y=Ne.patternToChar(F),this.decodeRowResult+=y,w=d;for(let q of u)d+=q;d=i.getNextSet(d)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let F of u)T+=F;let D=d-w-T;if(d!==g&&D*2<T)throw new rt;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,q=0;for(let tt=0;tt<F;tt++)q+=Ne.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(tt));if(this.decodeRowResult.charAt(F)!==Ne.ALPHABET_STRING.charAt(q%43))throw new U;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new rt;let O;this.extendedMode?O=Ne.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let B=(c[1]+c[0])/2,k=w+T/2;return new ie(O,null,0,[new St(B,e),new St(k,e)],Nt.CODE_39,new Date().getTime())}static findAsteriskPattern(e,i){let s=e.getSize(),u=e.getNextSet(0),c=0,d=u,g=!1,y=i.length;for(let w=u;w<s;w++)if(e.get(w)!==g)i[c]++;else{if(c===y-1){if(this.toNarrowWidePattern(i)===Ne.ASTERISK_ENCODING&&e.isRange(Math.max(0,d-Math.floor((w-d)/2)),d,!1))return[d,w];d+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,g=!g}throw new rt}static toNarrowWidePattern(e){let i=e.length,s=0,u;do{let c=2147483647;for(let y of e)y<c&&y>s&&(c=y);s=c,u=0;let d=0,g=0;for(let y=0;y<i;y++){let w=e[y];w>s&&(g|=1<<i-1-y,u++,d+=w)}if(u===3){for(let y=0;y<i&&u>0;y++){let w=e[y];if(w>s&&(u--,w*2>=d))return-1}return g}}while(u>3);return-1}static patternToChar(e){for(let i=0;i<Ne.CHARACTER_ENCODINGS.length;i++)if(Ne.CHARACTER_ENCODINGS[i]===e)return Ne.ALPHABET_STRING.charAt(i);if(e===Ne.ASTERISK_ENCODING)return"*";throw new rt}static decodeExtended(e){let i=e.length,s="";for(let u=0;u<i;u++){let c=e.charAt(u);if(c==="+"||c==="$"||c==="%"||c==="/"){let d=e.charAt(u+1),g="\0";switch(c){case"+":if(d>="A"&&d<="Z")g=String.fromCharCode(d.charCodeAt(0)+32);else throw new ut;break;case"$":if(d>="A"&&d<="Z")g=String.fromCharCode(d.charCodeAt(0)-64);else throw new ut;break;case"%":if(d>="A"&&d<="E")g=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")g=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")g=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")g=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")g="\0";else if(d==="V")g="@";else if(d==="W")g="`";else if(d==="X"||d==="Y"||d==="Z")g="";else throw new ut;break;case"/":if(d>="A"&&d<="O")g=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")g=":";else throw new ut;break}s+=g,u++}else s+=c}return s}}Ne.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ne.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ne.ASTERISK_ENCODING=148;class se extends _e{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,i,s){let u=this.decodeStart(i),c=this.decodeEnd(i),d=new $t;se.decodeMiddle(i,u[1],c[0],d);let g=d.toString(),y=null;s!=null&&(y=s.get(wt.ALLOWED_LENGTHS)),y==null&&(y=se.DEFAULT_ALLOWED_LENGTHS);let w=g.length,T=!1,D=0;for(let k of y){if(w===k){T=!0;break}k>D&&(D=k)}if(!T&&w>D&&(T=!0),!T)throw new ut;const O=[new St(u[1],e),new St(c[0],e)];return new ie(g,null,0,O,Nt.ITF,new Date().getTime())}static decodeMiddle(e,i,s,u){let c=new Int32Array(10),d=new Int32Array(5),g=new Int32Array(5);for(c.fill(0),d.fill(0),g.fill(0);i<s;){_e.recordPattern(e,i,c);for(let w=0;w<5;w++){let T=2*w;d[w]=c[T],g[w]=c[T+1]}let y=se.decodeDigit(d);u.append(y.toString()),y=this.decodeDigit(g),u.append(y.toString()),c.forEach(function(w){i+=w})}}decodeStart(e){let i=se.skipWhiteSpace(e),s=se.findGuardPattern(e,i,se.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(e,s[0]),s}validateQuietZone(e,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let u=i-1;s>0&&u>=0&&!e.get(u);u--)s--;if(s!==0)throw new rt}static skipWhiteSpace(e){const i=e.getSize(),s=e.getNextSet(0);if(s===i)throw new rt;return s}decodeEnd(e){e.reverse();try{let i=se.skipWhiteSpace(e),s;try{s=se.findGuardPattern(e,i,se.END_PATTERN_REVERSED[0])}catch(c){c instanceof rt&&(s=se.findGuardPattern(e,i,se.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,s[0]);let u=s[0];return s[0]=e.getSize()-s[1],s[1]=e.getSize()-u,s}finally{e.reverse()}}static findGuardPattern(e,i,s){let u=s.length,c=new Int32Array(u),d=e.getSize(),g=!1,y=0,w=i;c.fill(0);for(let T=i;T<d;T++)if(e.get(T)!==g)c[y]++;else{if(y===u-1){if(_e.patternMatchVariance(c,s,se.MAX_INDIVIDUAL_VARIANCE)<se.MAX_AVG_VARIANCE)return[w,T];w+=c[0]+c[1],X.arraycopy(c,2,c,0,y-1),c[y-1]=0,c[y]=0,y--}else y++;c[y]=1,g=!g}throw new rt}static decodeDigit(e){let i=se.MAX_AVG_VARIANCE,s=-1,u=se.PATTERNS.length;for(let c=0;c<u;c++){let d=se.PATTERNS[c],g=_e.patternMatchVariance(e,d,se.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,s=c):g===i&&(s=-1)}if(s>=0)return s%10;throw new rt}}se.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],se.MAX_AVG_VARIANCE=.38,se.MAX_INDIVIDUAL_VARIANCE=.5,se.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],se.START_PATTERN=Int32Array.from([1,1,1,1]),se.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ce extends _e{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let i=!1,s,u=0,c=Int32Array.from([0,0,0]);for(;!i;){c=Int32Array.from([0,0,0]),s=Ce.findGuardPattern(e,u,!1,this.START_END_PATTERN,c);let d=s[0];u=s[1];let g=d-(u-d);g>=0&&(i=e.isRange(g,d,!1))}return s}static checkChecksum(e){return Ce.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let s=parseInt(e.charAt(i-1),10);return Ce.getStandardUPCEANChecksum(e.substring(0,i-1))===s}static getStandardUPCEANChecksum(e){let i=e.length,s=0;for(let u=i-1;u>=0;u-=2){let c=e.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new ut;s+=c}s*=3;for(let u=i-2;u>=0;u-=2){let c=e.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new ut;s+=c}return(1e3-s)%10}static decodeEnd(e,i){return Ce.findGuardPattern(e,i,!1,Ce.START_END_PATTERN,new Int32Array(Ce.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,i,s,u){return this.findGuardPattern(e,i,s,u,new Int32Array(u.length))}static findGuardPattern(e,i,s,u,c){let d=e.getSize();i=s?e.getNextUnset(i):e.getNextSet(i);let g=0,y=i,w=u.length,T=s;for(let D=i;D<d;D++)if(e.get(D)!==T)c[g]++;else{if(g===w-1){if(_e.patternMatchVariance(c,u,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE)return Int32Array.from([y,D]);y+=c[0]+c[1];let O=c.slice(2,c.length-1);for(let B=0;B<g-1;B++)c[B]=O[B];c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,T=!T}throw new rt}static decodeDigit(e,i,s,u){this.recordPattern(e,s,i);let c=this.MAX_AVG_VARIANCE,d=-1,g=u.length;for(let y=0;y<g;y++){let w=u[y],T=_e.patternMatchVariance(i,w,Ce.MAX_INDIVIDUAL_VARIANCE);T<c&&(c=T,d=y)}if(d>=0)return d;throw new rt}}Ce.MAX_AVG_VARIANCE=.48,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.START_END_PATTERN=Int32Array.from([1,1,1]),Ce.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ce.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ce.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class va{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,s){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(i,s,u),d=u.toString(),g=va.parseExtensionString(d),y=[new St((s[0]+s[1])/2,e),new St(c,e)],w=new ie(d,null,0,y,Nt.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&w.putAllMetadata(g),w}decodeMiddle(e,i,s){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=e.getSize(),d=i[1],g=0;for(let w=0;w<5&&d<c;w++){let T=Ce.decodeDigit(e,u,d,Ce.L_AND_G_PATTERNS);s+=String.fromCharCode(48+T%10);for(let D of u)d+=D;T>=10&&(g|=1<<4-w),w!==4&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(s.length!==5)throw new rt;let y=this.determineCheckDigit(g);if(va.extensionChecksum(s.toString())!==y)throw new rt;return d}static extensionChecksum(e){let i=e.length,s=0;for(let u=i-2;u>=0;u-=2)s+=e.charAt(u).charCodeAt(0)-48;s*=3;for(let u=i-1;u>=0;u-=2)s+=e.charAt(u).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(e){for(let i=0;i<10;i++)if(e===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new rt}static parseExtensionString(e){if(e.length!==5)return null;let i=va.parseExtension5String(e);return i==null?null:new Map([[Fe.SUGGESTED_PRICE,i]])}static parseExtension5String(e){let i;switch(e.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(e.substring(1)),u=(s/100).toString(),c=s%100,d=c<10?"0"+c:c.toString();return i+u+"."+d}}class ss{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,s){let u=this.decodeRowStringBuffer,c=this.decodeMiddle(i,s,u),d=u.toString(),g=ss.parseExtensionString(d),y=[new St((s[0]+s[1])/2,e),new St(c,e)],w=new ie(d,null,0,y,Nt.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&w.putAllMetadata(g),w}decodeMiddle(e,i,s){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=e.getSize(),d=i[1],g=0;for(let y=0;y<2&&d<c;y++){let w=Ce.decodeDigit(e,u,d,Ce.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let T of u)d+=T;w>=10&&(g|=1<<1-y),y!==1&&(d=e.getNextSet(d),d=e.getNextUnset(d))}if(s.length!==2)throw new rt;if(parseInt(s.toString())%4!==g)throw new rt;return d}static parseExtensionString(e){return e.length!==2?null:new Map([[Fe.ISSUE_NUMBER,parseInt(e)]])}}class uo{static decodeRow(e,i,s){let u=Ce.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new va().decodeRow(e,i,u)}catch{return new ss().decodeRow(e,i,u)}}}uo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ee extends Ce{constructor(){super(),this.decodeRowStringBuffer="",ee.L_AND_G_PATTERNS=ee.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let i=ee.L_PATTERNS[e-10],s=new Int32Array(i.length);for(let u=0;u<i.length;u++)s[u]=i[i.length-u-1];ee.L_AND_G_PATTERNS[e]=s}}decodeRow(e,i,s){let u=ee.findStartGuardPattern(i),c=s==null?null:s.get(wt.NEED_RESULT_POINT_CALLBACK);if(c!=null){const dt=new St((u[0]+u[1])/2,e);c.foundPossibleResultPoint(dt)}let d=this.decodeMiddle(i,u,this.decodeRowStringBuffer),g=d.rowOffset,y=d.resultString;if(c!=null){const dt=new St(g,e);c.foundPossibleResultPoint(dt)}let w=this.decodeEnd(i,g);if(c!=null){const dt=new St((w[0]+w[1])/2,e);c.foundPossibleResultPoint(dt)}let T=w[1],D=T+(T-w[0]);if(D>=i.getSize()||!i.isRange(T,D,!1))throw new rt;let O=y.toString();if(O.length<8)throw new ut;if(!ee.checkChecksum(O))throw new U;let B=(u[1]+u[0])/2,k=(w[1]+w[0])/2,F=this.getBarcodeFormat(),q=[new St(B,e),new St(k,e)],tt=new ie(O,null,0,q,F,new Date().getTime()),gt=0;try{let dt=uo.decodeRow(e,i,w[1]);tt.putMetadata(Fe.UPC_EAN_EXTENSION,dt.getText()),tt.putAllMetadata(dt.getResultMetadata()),tt.addResultPoints(dt.getResultPoints()),gt=dt.getText().length}catch{}let mt=s==null?null:s.get(wt.ALLOWED_EAN_EXTENSIONS);if(mt!=null){let dt=!1;for(let Ft in mt)if(gt.toString()===Ft){dt=!0;break}if(!dt)throw new rt}return tt}decodeEnd(e,i){return ee.findGuardPattern(e,i,!1,ee.START_END_PATTERN,new Int32Array(ee.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ee.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let s=parseInt(e.charAt(i-1),10);return ee.getStandardUPCEANChecksum(e.substring(0,i-1))===s}static getStandardUPCEANChecksum(e){let i=e.length,s=0;for(let u=i-1;u>=0;u-=2){let c=e.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new ut;s+=c}s*=3;for(let u=i-2;u>=0;u-=2){let c=e.charAt(u).charCodeAt(0)-48;if(c<0||c>9)throw new ut;s+=c}return(1e3-s)%10}}class $n extends ee{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,s){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=e.getSize(),d=i[1],g=0;for(let w=0;w<6&&d<c;w++){let T=ee.decodeDigit(e,u,d,ee.L_AND_G_PATTERNS);s+=String.fromCharCode(48+T%10);for(let D of u)d+=D;T>=10&&(g|=1<<5-w)}s=$n.determineFirstDigit(s,g),d=ee.findGuardPattern(e,d,!0,ee.MIDDLE_PATTERN,new Int32Array(ee.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&d<c;w++){let T=ee.decodeDigit(e,u,d,ee.L_PATTERNS);s+=String.fromCharCode(48+T);for(let D of u)d+=D}return{rowOffset:d,resultString:s}}getBarcodeFormat(){return Nt.EAN_13}static determineFirstDigit(e,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return e=String.fromCharCode(48+s)+e,e;throw new rt}}$n.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ul extends ee{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,s){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=e.getSize(),d=i[1];for(let y=0;y<4&&d<c;y++){let w=ee.decodeDigit(e,u,d,ee.L_PATTERNS);s+=String.fromCharCode(48+w);for(let T of u)d+=T}d=ee.findGuardPattern(e,d,!0,ee.MIDDLE_PATTERN,new Int32Array(ee.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&d<c;y++){let w=ee.decodeDigit(e,u,d,ee.L_PATTERNS);s+=String.fromCharCode(48+w);for(let T of u)d+=T}return{rowOffset:d,resultString:s}}getBarcodeFormat(){return Nt.EAN_8}}class co extends ee{constructor(){super(...arguments),this.ean13Reader=new $n}getBarcodeFormat(){return Nt.UPC_A}decode(e,i){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,i,s))}decodeMiddle(e,i,s){return this.ean13Reader.decodeMiddle(e,i,s)}maybeReturnResult(e){let i=e.getText();if(i.charAt(0)==="0"){let s=new ie(i.substring(1),null,null,e.getResultPoints(),Nt.UPC_A);return e.getResultMetadata()!=null&&s.putAllMetadata(e.getResultMetadata()),s}else throw new rt}reset(){this.ean13Reader.reset()}}class Xn extends ee{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,i,s){const u=this.decodeMiddleCounters.map(w=>w);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const c=e.getSize();let d=i[1],g=0;for(let w=0;w<6&&d<c;w++){const T=Xn.decodeDigit(e,u,d,Xn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+T%10);for(let D of u)d+=D;T>=10&&(g|=1<<5-w)}let y=Xn.determineNumSysAndCheckDigit(s,g);return{rowOffset:d,resultString:y}}decodeEnd(e,i){return Xn.findGuardPatternWithoutCounters(e,i,!0,Xn.MIDDLE_END_PATTERN)}checkChecksum(e){return ee.checkChecksum(Xn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,i){for(let s=0;s<=1;s++)for(let u=0;u<10;u++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][u]){let c=String.fromCharCode(48+s),d=String.fromCharCode(48+u);return c+e+d}throw rt.getNotFoundInstance()}getBarcodeFormat(){return Nt.UPC_E}static convertUPCEtoUPCA(e){const i=e.slice(1,7).split("").map(c=>c.charCodeAt(0)),s=new $t;s.append(e.charAt(0));let u=i[5];switch(u){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(u),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(u);break}return e.length>=8&&s.append(e.charAt(7)),s.toString()}}Xn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Na extends _e{constructor(e){super();let i=e==null?null:e.get(wt.POSSIBLE_FORMATS),s=[];h(i)?(s.push(new $n),s.push(new co),s.push(new Ul),s.push(new Xn)):(i.indexOf(Nt.EAN_13)>-1&&s.push(new $n),i.indexOf(Nt.UPC_A)>-1&&s.push(new co),i.indexOf(Nt.EAN_8)>-1&&s.push(new Ul),i.indexOf(Nt.UPC_E)>-1&&s.push(new Xn)),this.readers=s}decodeRow(e,i,s){for(let u of this.readers)try{const c=u.decodeRow(e,i,s),d=c.getBarcodeFormat()===Nt.EAN_13&&c.getText().charAt(0)==="0",g=s==null?null:s.get(wt.POSSIBLE_FORMATS),y=g==null||g.includes(Nt.UPC_A);if(d&&y){const w=c.getRawBytes(),T=new ie(c.getText().substring(1),w,w?w.length:null,c.getResultPoints(),Nt.UPC_A);return T.putAllMetadata(c.getResultMetadata()),T}return c}catch{}throw new rt}reset(){for(let e of this.readers)e.reset()}}class an extends _e{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,i){for(let s=0;s<i.length;s++)if(_e.patternMatchVariance(e,i[s],an.MAX_INDIVIDUAL_VARIANCE)<an.MAX_AVG_VARIANCE)return s;throw new rt}static count(e){return Kt.sum(new Int32Array(e))}static increment(e,i){let s=0,u=i[0];for(let c=1;c<e.length;c++)i[c]>u&&(u=i[c],s=c);e[s]++}static decrement(e,i){let s=0,u=i[0];for(let c=1;c<e.length;c++)i[c]<u&&(u=i[c],s=c);e[s]--}static isFinderPattern(e){let i=e[0]+e[1],s=i+e[2]+e[3],u=i/s;if(u>=an.MIN_FINDER_PATTERN_RATIO&&u<=an.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let g of e)g>d&&(d=g),g<c&&(c=g);return d<10*c}return!1}}an.MAX_AVG_VARIANCE=.2,an.MAX_INDIVIDUAL_VARIANCE=.45,an.MIN_FINDER_PATTERN_RATIO=9.5/12,an.MAX_FINDER_PATTERN_RATIO=12.5/14;class fr{constructor(e,i){this.value=e,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof fr))return!1;const i=e;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class os{constructor(e,i,s,u,c){this.value=e,this.startEnd=i,this.value=e,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new St(s,c)),this.resultPoints.push(new St(u,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof os))return!1;const i=e;return this.value===i.value}hashCode(){return this.value}}class cn{constructor(){}static getRSSvalue(e,i,s){let u=0;for(let y of e)u+=y;let c=0,d=0,g=e.length;for(let y=0;y<g-1;y++){let w;for(w=1,d|=1<<y;w<e[y];w++,d&=~(1<<y)){let T=cn.combins(u-w-1,g-y-2);if(s&&d===0&&u-w-(g-y-1)>=g-y-1&&(T-=cn.combins(u-w-(g-y),g-y-2)),g-y-1>1){let D=0;for(let O=u-w-(g-y-2);O>i;O--)D+=cn.combins(u-w-O-1,g-y-3);T-=D*(g-1-y)}else u-w>i&&T--;c+=T}u-=w}return c}static combins(e,i){let s,u;e-i>i?(u=i,s=e-i):(u=e-i,s=i);let c=1,d=1;for(let g=e;g>s;g--)c*=g,d<=u&&(c/=d,d++);for(;d<=u;)c/=d,d++;return c}}class An{static buildBitArray(e){let i=e.length*2-1;e[e.length-1].getRightChar()==null&&(i-=1);let s=12*i,u=new xt(s),c=0,g=e[0].getRightChar().getValue();for(let y=11;y>=0;--y)(g&1<<y)!=0&&u.set(c),c++;for(let y=1;y<e.length;++y){let w=e[y],T=w.getLeftChar().getValue();for(let D=11;D>=0;--D)(T&1<<D)!=0&&u.set(c),c++;if(w.getRightChar()!=null){let D=w.getRightChar().getValue();for(let O=11;O>=0;--O)(D&1<<O)!=0&&u.set(c),c++}}return u}}class Ge{constructor(e,i){i?this.decodedInformation=null:(this.finished=e,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fi{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class wn extends Fi{constructor(e,i){super(e),this.value=i}getValue(){return this.value}isFNC1(){return this.value===wn.FNC1}}wn.FNC1="$";class hr extends Fi{constructor(e,i,s){super(e),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Zn extends Fi{constructor(e,i,s){if(super(e),i<0||i>10||s<0||s>10)throw new ut;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Zn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Zn.FNC1}isAnyFNC1(){return this.firstDigit===Zn.FNC1||this.secondDigit===Zn.FNC1}}Zn.FNC1=10;class Et{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new rt;let i=e.substring(0,2);for(let c of Et.TWO_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Et.VARIABLE_LENGTH?Et.processVariableAI(2,c[2],e):Et.processFixedAI(2,c[1],e);if(e.length<3)throw new rt;let s=e.substring(0,3);for(let c of Et.THREE_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===Et.VARIABLE_LENGTH?Et.processVariableAI(3,c[2],e):Et.processFixedAI(3,c[1],e);for(let c of Et.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===s)return c[1]===Et.VARIABLE_LENGTH?Et.processVariableAI(4,c[2],e):Et.processFixedAI(4,c[1],e);if(e.length<4)throw new rt;let u=e.substring(0,4);for(let c of Et.FOUR_DIGIT_DATA_LENGTH)if(c[0]===u)return c[1]===Et.VARIABLE_LENGTH?Et.processVariableAI(4,c[2],e):Et.processFixedAI(4,c[1],e);throw new rt}static processFixedAI(e,i,s){if(s.length<e)throw new rt;let u=s.substring(0,e);if(s.length<e+i)throw new rt;let c=s.substring(e,e+i),d=s.substring(e+i),g="("+u+")"+c,y=Et.parseFieldsInGeneralPurpose(d);return y==null?g:g+y}static processVariableAI(e,i,s){let u=s.substring(0,e),c;s.length<e+i?c=s.length:c=e+i;let d=s.substring(e,c),g=s.substring(c),y="("+u+")"+d,w=Et.parseFieldsInGeneralPurpose(g);return w==null?y:y+w}}Et.VARIABLE_LENGTH=[],Et.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Et.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Et.VARIABLE_LENGTH,20],["22",Et.VARIABLE_LENGTH,29],["30",Et.VARIABLE_LENGTH,8],["37",Et.VARIABLE_LENGTH,8],["90",Et.VARIABLE_LENGTH,30],["91",Et.VARIABLE_LENGTH,30],["92",Et.VARIABLE_LENGTH,30],["93",Et.VARIABLE_LENGTH,30],["94",Et.VARIABLE_LENGTH,30],["95",Et.VARIABLE_LENGTH,30],["96",Et.VARIABLE_LENGTH,30],["97",Et.VARIABLE_LENGTH,3],["98",Et.VARIABLE_LENGTH,30],["99",Et.VARIABLE_LENGTH,30]],Et.THREE_DIGIT_DATA_LENGTH=[["240",Et.VARIABLE_LENGTH,30],["241",Et.VARIABLE_LENGTH,30],["242",Et.VARIABLE_LENGTH,6],["250",Et.VARIABLE_LENGTH,30],["251",Et.VARIABLE_LENGTH,30],["253",Et.VARIABLE_LENGTH,17],["254",Et.VARIABLE_LENGTH,20],["400",Et.VARIABLE_LENGTH,30],["401",Et.VARIABLE_LENGTH,30],["402",17],["403",Et.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Et.VARIABLE_LENGTH,20],["421",Et.VARIABLE_LENGTH,15],["422",3],["423",Et.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Et.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Et.VARIABLE_LENGTH,15],["391",Et.VARIABLE_LENGTH,18],["392",Et.VARIABLE_LENGTH,15],["393",Et.VARIABLE_LENGTH,18],["703",Et.VARIABLE_LENGTH,30]],Et.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Et.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Et.VARIABLE_LENGTH,20],["8003",Et.VARIABLE_LENGTH,30],["8004",Et.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Et.VARIABLE_LENGTH,30],["8008",Et.VARIABLE_LENGTH,12],["8018",18],["8020",Et.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Et.VARIABLE_LENGTH,70],["8200",Et.VARIABLE_LENGTH,70]];class gi{constructor(e){this.buffer=new $t,this.information=e}decodeAllCodes(e,i){let s=i,u=null;do{let c=this.decodeGeneralPurposeField(s,u),d=Et.parseFieldsInGeneralPurpose(c.getNewString());if(d!=null&&e.append(d),c.isRemaining()?u=""+c.getRemainingValue():u=null,s===c.getNewPosition())break;s=c.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let i=e;i<e+3;++i)if(this.information.get(i))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(e,4);return c===0?new Zn(this.information.getSize(),Zn.FNC1,Zn.FNC1):new Zn(this.information.getSize(),c-1,Zn.FNC1)}let i=this.extractNumericValueFromBitArray(e,7),s=(i-8)/11,u=(i-8)%11;return new Zn(e+7,s,u)}extractNumericValueFromBitArray(e,i){return gi.extractNumericValueFromBitArray(this.information,e,i)}static extractNumericValueFromBitArray(e,i,s){let u=0;for(let c=0;c<s;++c)e.get(i+c)&&(u|=1<<s-c-1);return u}decodeGeneralPurposeField(e,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(e);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new hr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new hr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),e=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),e=i.isFinished()):(i=this.parseNumericBlock(),e=i.isFinished()),!(s!==this.current.getPosition())&&!e)break}while(!e);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let i;return e.isSecondDigitFNC1()?i=new hr(this.current.getPosition(),this.buffer.toString()):i=new hr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ge(!0,i)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let i=new hr(this.current.getPosition(),this.buffer.toString());return new Ge(!0,i)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ge(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new hr(this.current.getPosition(),this.buffer.toString());return new Ge(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ge(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new hr(this.current.getPosition(),this.buffer.toString());return new Ge(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ge(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<116)return!0;if(e+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(e,8);return u>=232&&u<253}decodeIsoIec646(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new wn(e+5,wn.FNC1);if(i>=5&&i<15)return new wn(e+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(e,7);if(s>=64&&s<90)return new wn(e+7,""+(s+1));if(s>=90&&s<116)return new wn(e+7,""+(s+7));let u=this.extractNumericValueFromBitArray(e,8),c;switch(u){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new ut}return new wn(e+8,c)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,6);return s>=16&&s<63}decodeAlphanumeric(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new wn(e+5,wn.FNC1);if(i>=5&&i<15)return new wn(e+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(e,6);if(s>=32&&s<58)return new wn(e+6,""+(s+33));let u;switch(s){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new di("Decoding invalid alphanumeric value: "+s)}return new wn(e+6,u)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<5&&i+e<this.information.getSize();++i)if(i===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+i))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let i=e;i<e+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<4&&i+e<this.information.getSize();++i)if(this.information.get(e+i))return!1;return!0}}class Ma{constructor(e){this.information=e,this.generalDecoder=new gi(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ke extends Ma{constructor(e){super(e)}encodeCompressedGtin(e,i){e.append("(01)");let s=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,i,s)}encodeCompressedGtinWithoutAI(e,i,s){for(let u=0;u<4;++u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*u,10);c/100===0&&e.append("0"),c/10===0&&e.append("0"),e.append(c)}Ke.appendCheckDigit(e,s)}static appendCheckDigit(e,i){let s=0;for(let u=0;u<13;u++){let c=e.charAt(u+i).charCodeAt(0)-48;s+=(u&1)===0?3*c:c}s=10-s%10,s===10&&(s=0),e.append(s)}}Ke.GTIN_SIZE=40;class ti extends Ke{constructor(e){super(e)}parseInformation(){let e=new $t;e.append("(01)");let i=e.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(ti.HEADER_SIZE,4);return e.append(s),this.encodeCompressedGtinWithoutAI(e,ti.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(e,ti.HEADER_SIZE+44)}}ti.HEADER_SIZE=4;class Vi extends Ma{constructor(e){super(e)}parseInformation(){let e=new $t;return this.getGeneralDecoder().decodeAllCodes(e,Vi.HEADER_SIZE)}}Vi.HEADER_SIZE=5;class Mi extends Ke{constructor(e){super(e)}encodeCompressedWeight(e,i,s){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(e,u);let c=this.checkWeight(u),d=1e5;for(let g=0;g<5;++g)c/d===0&&e.append("0"),d/=10;e.append(c)}}class ge extends Mi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=ge.HEADER_SIZE+Mi.GTIN_SIZE+ge.WEIGHT_SIZE)throw new rt;let e=new $t;return this.encodeCompressedGtin(e,ge.HEADER_SIZE),this.encodeCompressedWeight(e,ge.HEADER_SIZE+Mi.GTIN_SIZE,ge.WEIGHT_SIZE),e.toString()}}ge.HEADER_SIZE=5,ge.WEIGHT_SIZE=15;class kl extends ge{constructor(e){super(e)}addWeightCode(e,i){e.append("(3103)")}checkWeight(e){return e}}class Fl extends ge{constructor(e){super(e)}addWeightCode(e,i){i<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class En extends Ke{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<En.HEADER_SIZE+Ke.GTIN_SIZE)throw new rt;let e=new $t;this.encodeCompressedGtin(e,En.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+Ke.GTIN_SIZE,En.LAST_DIGIT_SIZE);e.append("(392"),e.append(i),e.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(En.HEADER_SIZE+Ke.GTIN_SIZE+En.LAST_DIGIT_SIZE,null);return e.append(s.getNewString()),e.toString()}}En.HEADER_SIZE=8,En.LAST_DIGIT_SIZE=2;class Ye extends Ke{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ye.HEADER_SIZE+Ke.GTIN_SIZE)throw new rt;let e=new $t;this.encodeCompressedGtin(e,Ye.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ye.HEADER_SIZE+Ke.GTIN_SIZE,Ye.LAST_DIGIT_SIZE);e.append("(393"),e.append(i),e.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ye.HEADER_SIZE+Ke.GTIN_SIZE+Ye.LAST_DIGIT_SIZE,Ye.FIRST_THREE_DIGITS_SIZE);s/100==0&&e.append("0"),s/10==0&&e.append("0"),e.append(s);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Ye.HEADER_SIZE+Ke.GTIN_SIZE+Ye.LAST_DIGIT_SIZE+Ye.FIRST_THREE_DIGITS_SIZE,null);return e.append(u.getNewString()),e.toString()}}Ye.HEADER_SIZE=8,Ye.LAST_DIGIT_SIZE=2,Ye.FIRST_THREE_DIGITS_SIZE=10;class Ie extends Mi{constructor(e,i,s){super(e),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Ie.HEADER_SIZE+Ie.GTIN_SIZE+Ie.WEIGHT_SIZE+Ie.DATE_SIZE)throw new rt;let e=new $t;return this.encodeCompressedGtin(e,Ie.HEADER_SIZE),this.encodeCompressedWeight(e,Ie.HEADER_SIZE+Ie.GTIN_SIZE,Ie.WEIGHT_SIZE),this.encodeCompressedDate(e,Ie.HEADER_SIZE+Ie.GTIN_SIZE+Ie.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Ie.DATE_SIZE);if(s==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let u=s%32;s/=32;let c=s%12+1;s/=12;let d=s;d/10==0&&e.append("0"),e.append(d),c/10==0&&e.append("0"),e.append(c),u/10==0&&e.append("0"),e.append(u)}addWeightCode(e,i){e.append("("),e.append(this.firstAIdigits),e.append(i/1e5),e.append(")")}checkWeight(e){return e%1e5}}Ie.HEADER_SIZE=8,Ie.WEIGHT_SIZE=20,Ie.DATE_SIZE=16;function fo(M){try{if(M.get(1))return new ti(M);if(!M.get(2))return new Vi(M);switch(gi.extractNumericValueFromBitArray(M,1,4)){case 4:return new kl(M);case 5:return new Fl(M)}switch(gi.extractNumericValueFromBitArray(M,1,5)){case 12:return new En(M);case 13:return new Ye(M)}switch(gi.extractNumericValueFromBitArray(M,1,7)){case 56:return new Ie(M,"310","11");case 57:return new Ie(M,"320","11");case 58:return new Ie(M,"310","13");case 59:return new Ie(M,"320","13");case 60:return new Ie(M,"310","15");case 61:return new Ie(M,"320","15");case 62:return new Ie(M,"310","17");case 63:return new Ie(M,"320","17")}}catch(e){throw console.log(e),new di("unknown decoder: "+M)}}class Di{constructor(e,i,s,u){this.leftchar=e,this.rightchar=i,this.finderpattern=s,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,i){return e instanceof Di?Di.equalsOrNull(e.leftchar,i.leftchar)&&Di.equalsOrNull(e.rightchar,i.rightchar)&&Di.equalsOrNull(e.finderpattern,i.finderpattern):!1}static equalsOrNull(e,i){return e===null?i===null:Di.equals(e,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ho{constructor(e,i,s){this.pairs=e,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,i){return e instanceof ho?this.checkEqualitity(e,i)&&e.wasReversed===i.wasReversed:!1}checkEqualitity(e,i){if(!e||!i)return;let s;return e.forEach((u,c)=>{i.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(s=!0)})}),s}}class ht extends an{constructor(e){super(...arguments),this.pairs=new Array(ht.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,i,s){this.pairs.length=0,this.startFromEven=!1;try{return ht.constructResult(this.decodeRow2pairs(e,i))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,ht.constructResult(this.decodeRow2pairs(e,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,e))}catch(c){if(c instanceof rt){if(!this.pairs.length)throw new rt;s=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(e,!1),u){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new rt}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return e&&(this.rows=this.rows.reverse()),i}checkRows(e,i){for(let s=i;s<this.rows.length;s++){let u=this.rows[s];this.pairs.length=0;for(let d of e)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!ht.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(e);c.push(u);try{return this.checkRows(c,s+1)}catch(d){this.verbose&&console.log(d)}}throw new rt}static isValidSequence(e){for(let i of ht.FINDER_PATTERN_SEQUENCES){if(e.length>i.length)continue;let s=!0;for(let u=0;u<e.length;u++)if(e[u].getFinderPattern().getValue()!=i[u]){s=!1;break}if(s)return!0}return!1}storeRow(e,i){let s=0,u=!1,c=!1;for(;s<this.rows.length;){let d=this.rows[s];if(d.getRowNumber()>e){c=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),s++}c||u||ht.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new ho(this.pairs,e,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,i){for(let s of i)if(s.getPairs().length!==e.length){for(let u of s.getPairs())for(let c of e)if(Di.equals(u,c))break}}static isPartialRow(e,i){for(let s of i){let u=!0;for(let c of e){let d=!1;for(let g of s.getPairs())if(c.equals(g)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(e){let i=An.buildBitArray(e),u=fo(i).parseInformation(),c=e[0].getFinderPattern().getResultPoints(),d=e[e.length-1].getFinderPattern().getResultPoints(),g=[c[0],c[1],d[0],d[1]];return new ie(u,null,null,g,Nt.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),i=e.getLeftChar(),s=e.getRightChar();if(s==null)return!1;let u=s.getChecksumPortion(),c=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);u+=y.getLeftChar().getChecksumPortion(),c++;let w=y.getRightChar();w!=null&&(u+=w.getChecksumPortion(),c++)}return u%=211,211*(c-4)+u==i.getValue()}static getNextSecondBar(e,i){let s;return e.get(i)?(s=e.getNextUnset(i),s=e.getNextSet(s)):(s=e.getNextSet(i),s=e.getNextUnset(s)),s}retrieveNextPair(e,i,s){let u=i.length%2==0;this.startFromEven&&(u=!u);let c,d=!0,g=-1;do this.findNextPair(e,i,g),c=this.parseFoundFinderPattern(e,s,u),c==null?g=ht.getNextSecondBar(e,this.startEnd[0]):d=!1;while(d);let y=this.decodeDataCharacter(e,c,u,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new rt;let w;try{w=this.decodeDataCharacter(e,c,u,!1)}catch(T){w=null,this.verbose&&console.log(T)}return new Di(y,w,c,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,i,s){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=e.getSize(),d;s>=0?d=s:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;d<c&&(y=!e.get(d),!!y);)d++;let w=0,T=d;for(let D=d;D<c;D++)if(e.get(D)!=y)u[w]++;else{if(w==3){if(g&&ht.reverseCounters(u),ht.isFinderPattern(u)){this.startEnd[0]=T,this.startEnd[1]=D;return}g&&ht.reverseCounters(u),T+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,w--}else w++;u[w]=1,y=!y}throw new rt}static reverseCounters(e){let i=e.length;for(let s=0;s<i/2;++s){let u=e[s];e[s]=e[i-s-1],e[i-s-1]=u}}parseFoundFinderPattern(e,i,s){let u,c,d;if(s){let w=this.startEnd[0]-1;for(;w>=0&&!e.get(w);)w--;w++,u=this.startEnd[0]-w,c=w,d=this.startEnd[1]}else c=this.startEnd[0],d=e.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let g=this.getDecodeFinderCounters();X.arraycopy(g,0,g,1,g.length-1),g[0]=u;let y;try{y=this.parseFinderValue(g,ht.FINDER_PATTERNS)}catch{return null}return new os(y,[c,d],c,d,i)}decodeDataCharacter(e,i,s,u){let c=this.getDataCharacterCounters();for(let xe=0;xe<c.length;xe++)c[xe]=0;if(u)ht.recordPatternInReverse(e,i.getStartEnd()[0],c);else{ht.recordPattern(e,i.getStartEnd()[1],c);for(let xe=0,mn=c.length-1;xe<mn;xe++,mn--){let Un=c[xe];c[xe]=c[mn],c[mn]=Un}}let d=17,g=Kt.sum(new Int32Array(c))/d,y=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new rt;let w=this.getOddCounts(),T=this.getEvenCounts(),D=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let xe=0;xe<c.length;xe++){let mn=1*c[xe]/g,Un=mn+.5;if(Un<1){if(mn<.3)throw new rt;Un=1}else if(Un>8){if(mn>8.7)throw new rt;Un=8}let pr=xe/2;(xe&1)==0?(w[pr]=Un,D[pr]=mn-Un):(T[pr]=Un,O[pr]=mn-Un)}this.adjustOddEvenCounts(d);let B=4*i.getValue()+(s?0:2)+(u?0:1)-1,k=0,F=0;for(let xe=w.length-1;xe>=0;xe--){if(ht.isNotA1left(i,s,u)){let mn=ht.WEIGHTS[B][2*xe];F+=w[xe]*mn}k+=w[xe]}let q=0;for(let xe=T.length-1;xe>=0;xe--)if(ht.isNotA1left(i,s,u)){let mn=ht.WEIGHTS[B][2*xe+1];q+=T[xe]*mn}let tt=F+q;if((k&1)!=0||k>13||k<4)throw new rt;let gt=(13-k)/2,mt=ht.SYMBOL_WIDEST[gt],dt=9-mt,Ft=cn.getRSSvalue(w,mt,!0),Ut=cn.getRSSvalue(T,dt,!1),Nn=ht.EVEN_TOTAL_SUBSET[gt],Wn=ht.GSUM[gt],Pn=Ft*Nn+Ut+Wn;return new fr(Pn,tt)}static isNotA1left(e,i,s){return!(e.getValue()==0&&i&&s)}adjustOddEvenCounts(e){let i=Kt.sum(new Int32Array(this.getOddCounts())),s=Kt.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);let d=!1,g=!1;s>13?g=!0:s<4&&(d=!0);let y=i+s-e,w=(i&1)==1,T=(s&1)==0;if(y==1)if(w){if(T)throw new rt;c=!0}else{if(!T)throw new rt;g=!0}else if(y==-1)if(w){if(T)throw new rt;u=!0}else{if(!T)throw new rt;d=!0}else if(y==0){if(w){if(!T)throw new rt;i<s?(u=!0,g=!0):(c=!0,d=!0)}else if(T)throw new rt}else throw new rt;if(u){if(c)throw new rt;ht.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&ht.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(g)throw new rt;ht.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ht.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.SYMBOL_WIDEST=[7,5,4,3,1],ht.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ht.GSUM=[0,348,1388,2948,3988],ht.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ht.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ht.FINDER_PAT_A=0,ht.FINDER_PAT_B=1,ht.FINDER_PAT_C=2,ht.FINDER_PAT_D=3,ht.FINDER_PAT_E=4,ht.FINDER_PAT_F=5,ht.FINDER_PATTERN_SEQUENCES=[[ht.FINDER_PAT_A,ht.FINDER_PAT_A],[ht.FINDER_PAT_A,ht.FINDER_PAT_B,ht.FINDER_PAT_B],[ht.FINDER_PAT_A,ht.FINDER_PAT_C,ht.FINDER_PAT_B,ht.FINDER_PAT_D],[ht.FINDER_PAT_A,ht.FINDER_PAT_E,ht.FINDER_PAT_B,ht.FINDER_PAT_D,ht.FINDER_PAT_C],[ht.FINDER_PAT_A,ht.FINDER_PAT_E,ht.FINDER_PAT_B,ht.FINDER_PAT_D,ht.FINDER_PAT_D,ht.FINDER_PAT_F],[ht.FINDER_PAT_A,ht.FINDER_PAT_E,ht.FINDER_PAT_B,ht.FINDER_PAT_D,ht.FINDER_PAT_E,ht.FINDER_PAT_F,ht.FINDER_PAT_F],[ht.FINDER_PAT_A,ht.FINDER_PAT_A,ht.FINDER_PAT_B,ht.FINDER_PAT_B,ht.FINDER_PAT_C,ht.FINDER_PAT_C,ht.FINDER_PAT_D,ht.FINDER_PAT_D],[ht.FINDER_PAT_A,ht.FINDER_PAT_A,ht.FINDER_PAT_B,ht.FINDER_PAT_B,ht.FINDER_PAT_C,ht.FINDER_PAT_C,ht.FINDER_PAT_D,ht.FINDER_PAT_E,ht.FINDER_PAT_E],[ht.FINDER_PAT_A,ht.FINDER_PAT_A,ht.FINDER_PAT_B,ht.FINDER_PAT_B,ht.FINDER_PAT_C,ht.FINDER_PAT_C,ht.FINDER_PAT_D,ht.FINDER_PAT_E,ht.FINDER_PAT_F,ht.FINDER_PAT_F],[ht.FINDER_PAT_A,ht.FINDER_PAT_A,ht.FINDER_PAT_B,ht.FINDER_PAT_B,ht.FINDER_PAT_C,ht.FINDER_PAT_D,ht.FINDER_PAT_D,ht.FINDER_PAT_E,ht.FINDER_PAT_E,ht.FINDER_PAT_F,ht.FINDER_PAT_F]],ht.MAX_PAIRS=11;class ls extends fr{constructor(e,i,s){super(e,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class oe extends an{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,i,s){const u=this.decodePair(i,!1,e,s);oe.addOrTally(this.possibleLeftPairs,u),i.reverse();let c=this.decodePair(i,!0,e,s);oe.addOrTally(this.possibleRightPairs,c),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&oe.checkChecksum(d,g))return oe.constructResult(d,g)}throw new rt}static addOrTally(e,i){if(i==null)return;let s=!1;for(let u of e)if(u.getValue()===i.getValue()){u.incrementCount(),s=!0;break}s||e.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,i){let s=4537077*e.getValue()+i.getValue(),u=new String(s).toString(),c=new $t;for(let w=13-u.length;w>0;w--)c.append("0");c.append(u);let d=0;for(let w=0;w<13;w++){let T=c.charAt(w).charCodeAt(0)-48;d+=(w&1)===0?3*T:T}d=10-d%10,d===10&&(d=0),c.append(d.toString());let g=e.getFinderPattern().getResultPoints(),y=i.getFinderPattern().getResultPoints();return new ie(c.toString(),null,0,[g[0],g[1],y[0],y[1]],Nt.RSS_14,new Date().getTime())}static checkChecksum(e,i){let s=(e.getChecksumPortion()+16*i.getChecksumPortion())%79,u=9*e.getFinderPattern().getValue()+i.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,s===u}decodePair(e,i,s,u){try{let c=this.findFinderPattern(e,i),d=this.parseFoundFinderPattern(e,s,i,c),g=u==null?null:u.get(wt.NEED_RESULT_POINT_CALLBACK);if(g!=null){let T=(c[0]+c[1])/2;i&&(T=e.getSize()-1-T),g.foundPossibleResultPoint(new St(T,s))}let y=this.decodeDataCharacter(e,d,!0),w=this.decodeDataCharacter(e,d,!1);return new ls(1597*y.getValue()+w.getValue(),y.getChecksumPortion()+4*w.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(e,i,s){let u=this.getDataCharacterCounters();for(let q=0;q<u.length;q++)u[q]=0;if(s)_e.recordPatternInReverse(e,i.getStartEnd()[0],u);else{_e.recordPattern(e,i.getStartEnd()[1]+1,u);for(let q=0,tt=u.length-1;q<tt;q++,tt--){let gt=u[q];u[q]=u[tt],u[tt]=gt}}let c=s?16:15,d=Kt.sum(new Int32Array(u))/c,g=this.getOddCounts(),y=this.getEvenCounts(),w=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let q=0;q<u.length;q++){let tt=u[q]/d,gt=Math.floor(tt+.5);gt<1?gt=1:gt>8&&(gt=8);let mt=Math.floor(q/2);(q&1)===0?(g[mt]=gt,w[mt]=tt-gt):(y[mt]=gt,T[mt]=tt-gt)}this.adjustOddEvenCounts(s,c);let D=0,O=0;for(let q=g.length-1;q>=0;q--)O*=9,O+=g[q],D+=g[q];let B=0,k=0;for(let q=y.length-1;q>=0;q--)B*=9,B+=y[q],k+=y[q];let F=O+3*B;if(s){if((D&1)!==0||D>12||D<4)throw new rt;let q=(12-D)/2,tt=oe.OUTSIDE_ODD_WIDEST[q],gt=9-tt,mt=cn.getRSSvalue(g,tt,!1),dt=cn.getRSSvalue(y,gt,!0),Ft=oe.OUTSIDE_EVEN_TOTAL_SUBSET[q],Ut=oe.OUTSIDE_GSUM[q];return new fr(mt*Ft+dt+Ut,F)}else{if((k&1)!==0||k>10||k<4)throw new rt;let q=(10-k)/2,tt=oe.INSIDE_ODD_WIDEST[q],gt=9-tt,mt=cn.getRSSvalue(g,tt,!0),dt=cn.getRSSvalue(y,gt,!1),Ft=oe.INSIDE_ODD_TOTAL_SUBSET[q],Ut=oe.INSIDE_GSUM[q];return new fr(dt*Ft+mt+Ut,F)}}findFinderPattern(e,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=e.getSize(),c=!1,d=0;for(;d<u&&(c=!e.get(d),i!==c);)d++;let g=0,y=d;for(let w=d;w<u;w++)if(e.get(w)!==c)s[g]++;else{if(g===3){if(an.isFinderPattern(s))return[y,w];y+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,g--}else g++;s[g]=1,c=!c}throw new rt}parseFoundFinderPattern(e,i,s,u){let c=e.get(u[0]),d=u[0]-1;for(;d>=0&&c!==e.get(d);)d--;d++;const g=u[0]-d,y=this.getDecodeFinderCounters(),w=new Int32Array(y.length);X.arraycopy(y,0,w,1,y.length-1),w[0]=g;const T=this.parseFinderValue(w,oe.FINDER_PATTERNS);let D=d,O=u[1];return s&&(D=e.getSize()-1-D,O=e.getSize()-1-O),new os(T,[d,u[1]],D,O,i)}adjustOddEvenCounts(e,i){let s=Kt.sum(new Int32Array(this.getOddCounts())),u=Kt.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1,g=!1,y=!1;e?(s>12?d=!0:s<4&&(c=!0),u>12?y=!0:u<4&&(g=!0)):(s>11?d=!0:s<5&&(c=!0),u>10?y=!0:u<4&&(g=!0));let w=s+u-i,T=(s&1)===(e?1:0),D=(u&1)===1;if(w===1)if(T){if(D)throw new rt;d=!0}else{if(!D)throw new rt;y=!0}else if(w===-1)if(T){if(D)throw new rt;c=!0}else{if(!D)throw new rt;g=!0}else if(w===0){if(T){if(!D)throw new rt;s<u?(c=!0,y=!0):(d=!0,g=!0)}else if(D)throw new rt}else throw new rt;if(c){if(d)throw new rt;an.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&an.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new rt;an.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&an.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],oe.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],oe.OUTSIDE_GSUM=[0,161,961,2015,2715],oe.INSIDE_GSUM=[0,336,1036,1516],oe.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],oe.INSIDE_ODD_WIDEST=[2,4,6,8],oe.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class zi extends _e{constructor(e,i){super(),this.readers=[],this.verbose=i===!0;const s=e?e.get(wt.POSSIBLE_FORMATS):null,u=e&&e.get(wt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(Nt.EAN_13)||s.includes(Nt.UPC_A)||s.includes(Nt.EAN_8)||s.includes(Nt.UPC_E))&&this.readers.push(new Na(e)),s.includes(Nt.CODE_39)&&this.readers.push(new Ne(u)),s.includes(Nt.CODE_128)&&this.readers.push(new yt),s.includes(Nt.ITF)&&this.readers.push(new se),s.includes(Nt.RSS_14)&&this.readers.push(new oe),s.includes(Nt.RSS_EXPANDED)&&this.readers.push(new ht(this.verbose))):(this.readers.push(new Na(e)),this.readers.push(new Ne),this.readers.push(new Na(e)),this.readers.push(new yt),this.readers.push(new se),this.readers.push(new oe),this.readers.push(new ht(this.verbose)))}decodeRow(e,i,s){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(e,i,s)}catch{}throw new rt}reset(){this.readers.forEach(e=>e.reset())}}class Vl extends Qt{constructor(e=500,i){super(new zi(i),e,i)}}class Zt{constructor(e,i,s){this.ecCodewords=e,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ne{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class jt{constructor(e,i,s,u,c,d){this.versionNumber=e,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=c,this.ecBlocks=d;let g=0;const y=d.getECCodewords(),w=d.getECBlocks();for(let T of w)g+=T.getCount()*(T.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,i){if((e&1)!==0||(i&1)!==0)throw new ut;for(let s of jt.VERSIONS)if(s.symbolSizeRows===e&&s.symbolSizeColumns===i)return s;throw new ut}toString(){return""+this.versionNumber}static buildVersions(){return[new jt(1,10,10,8,8,new Zt(5,new ne(1,3))),new jt(2,12,12,10,10,new Zt(7,new ne(1,5))),new jt(3,14,14,12,12,new Zt(10,new ne(1,8))),new jt(4,16,16,14,14,new Zt(12,new ne(1,12))),new jt(5,18,18,16,16,new Zt(14,new ne(1,18))),new jt(6,20,20,18,18,new Zt(18,new ne(1,22))),new jt(7,22,22,20,20,new Zt(20,new ne(1,30))),new jt(8,24,24,22,22,new Zt(24,new ne(1,36))),new jt(9,26,26,24,24,new Zt(28,new ne(1,44))),new jt(10,32,32,14,14,new Zt(36,new ne(1,62))),new jt(11,36,36,16,16,new Zt(42,new ne(1,86))),new jt(12,40,40,18,18,new Zt(48,new ne(1,114))),new jt(13,44,44,20,20,new Zt(56,new ne(1,144))),new jt(14,48,48,22,22,new Zt(68,new ne(1,174))),new jt(15,52,52,24,24,new Zt(42,new ne(2,102))),new jt(16,64,64,14,14,new Zt(56,new ne(2,140))),new jt(17,72,72,16,16,new Zt(36,new ne(4,92))),new jt(18,80,80,18,18,new Zt(48,new ne(4,114))),new jt(19,88,88,20,20,new Zt(56,new ne(4,144))),new jt(20,96,96,22,22,new Zt(68,new ne(4,174))),new jt(21,104,104,24,24,new Zt(56,new ne(6,136))),new jt(22,120,120,18,18,new Zt(68,new ne(6,175))),new jt(23,132,132,20,20,new Zt(62,new ne(8,163))),new jt(24,144,144,22,22,new Zt(62,new ne(8,156),new ne(2,155))),new jt(25,8,18,6,16,new Zt(7,new ne(1,5))),new jt(26,8,32,6,14,new Zt(11,new ne(1,10))),new jt(27,12,26,10,24,new Zt(14,new ne(1,16))),new jt(28,12,36,10,16,new Zt(18,new ne(1,22))),new jt(29,16,36,14,16,new Zt(24,new ne(1,32))),new jt(30,16,48,14,22,new Zt(28,new ne(1,49)))]}}jt.VERSIONS=jt.buildVersions();class go{constructor(e){const i=e.getHeight();if(i<8||i>144||(i&1)!==0)throw new ut;this.version=go.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ve(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const i=e.getHeight(),s=e.getWidth();return jt.getVersionForDimensions(i,s)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,u=0;const c=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let g=!1,y=!1,w=!1,T=!1;do if(s===c&&u===0&&!g)e[i++]=this.readCorner1(c,d)&255,s-=2,u+=2,g=!0;else if(s===c-2&&u===0&&(d&3)!==0&&!y)e[i++]=this.readCorner2(c,d)&255,s-=2,u+=2,y=!0;else if(s===c+4&&u===2&&(d&7)===0&&!w)e[i++]=this.readCorner3(c,d)&255,s-=2,u+=2,w=!0;else if(s===c-2&&u===0&&(d&7)===4&&!T)e[i++]=this.readCorner4(c,d)&255,s-=2,u+=2,T=!0;else{do s<c&&u>=0&&!this.readMappingMatrix.get(u,s)&&(e[i++]=this.readUtah(s,u,c,d)&255),s-=2,u+=2;while(s>=0&&u<d);s+=1,u+=3;do s>=0&&u<d&&!this.readMappingMatrix.get(u,s)&&(e[i++]=this.readUtah(s,u,c,d)&255),s+=2,u-=2;while(s<c&&u>=0);s+=3,u+=1}while(s<c||u<d);if(i!==this.version.getTotalCodewords())throw new ut;return e}readModule(e,i,s,u){return e<0&&(e+=s,i+=4-(s+4&7)),i<0&&(i+=u,e+=4-(u+4&7)),this.readMappingMatrix.set(i,e),this.mappingBitMatrix.get(i,e)}readUtah(e,i,s,u){let c=0;return this.readModule(e-2,i-2,s,u)&&(c|=1),c<<=1,this.readModule(e-2,i-1,s,u)&&(c|=1),c<<=1,this.readModule(e-1,i-2,s,u)&&(c|=1),c<<=1,this.readModule(e-1,i-1,s,u)&&(c|=1),c<<=1,this.readModule(e-1,i,s,u)&&(c|=1),c<<=1,this.readModule(e,i-2,s,u)&&(c|=1),c<<=1,this.readModule(e,i-1,s,u)&&(c|=1),c<<=1,this.readModule(e,i,s,u)&&(c|=1),c}readCorner1(e,i){let s=0;return this.readModule(e-1,0,e,i)&&(s|=1),s<<=1,this.readModule(e-1,1,e,i)&&(s|=1),s<<=1,this.readModule(e-1,2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-1,e,i)&&(s|=1),s<<=1,this.readModule(1,i-1,e,i)&&(s|=1),s<<=1,this.readModule(2,i-1,e,i)&&(s|=1),s<<=1,this.readModule(3,i-1,e,i)&&(s|=1),s}readCorner2(e,i){let s=0;return this.readModule(e-3,0,e,i)&&(s|=1),s<<=1,this.readModule(e-2,0,e,i)&&(s|=1),s<<=1,this.readModule(e-1,0,e,i)&&(s|=1),s<<=1,this.readModule(0,i-4,e,i)&&(s|=1),s<<=1,this.readModule(0,i-3,e,i)&&(s|=1),s<<=1,this.readModule(0,i-2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-1,e,i)&&(s|=1),s<<=1,this.readModule(1,i-1,e,i)&&(s|=1),s}readCorner3(e,i){let s=0;return this.readModule(e-1,0,e,i)&&(s|=1),s<<=1,this.readModule(e-1,i-1,e,i)&&(s|=1),s<<=1,this.readModule(0,i-3,e,i)&&(s|=1),s<<=1,this.readModule(0,i-2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-1,e,i)&&(s|=1),s<<=1,this.readModule(1,i-3,e,i)&&(s|=1),s<<=1,this.readModule(1,i-2,e,i)&&(s|=1),s<<=1,this.readModule(1,i-1,e,i)&&(s|=1),s}readCorner4(e,i){let s=0;return this.readModule(e-3,0,e,i)&&(s|=1),s<<=1,this.readModule(e-2,0,e,i)&&(s|=1),s<<=1,this.readModule(e-1,0,e,i)&&(s|=1),s<<=1,this.readModule(0,i-2,e,i)&&(s|=1),s<<=1,this.readModule(0,i-1,e,i)&&(s|=1),s<<=1,this.readModule(1,i-1,e,i)&&(s|=1),s<<=1,this.readModule(2,i-1,e,i)&&(s|=1),s<<=1,this.readModule(3,i-1,e,i)&&(s|=1),s}extractDataRegion(e){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(e.getHeight()!==i)throw new I("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),d=i/u|0,g=s/c|0,y=d*u,w=g*c,T=new ve(w,y);for(let D=0;D<d;++D){const O=D*u;for(let B=0;B<g;++B){const k=B*c;for(let F=0;F<u;++F){const q=D*(u+2)+1+F,tt=O+F;for(let gt=0;gt<c;++gt){const mt=B*(c+2)+1+gt;if(e.get(mt,q)){const dt=k+gt;T.set(dt,tt)}}}}}return T}}class us{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i){const s=i.getECBlocks();let u=0;const c=s.getECBlocks();for(let F of c)u+=F.getCount();const d=new Array(u);let g=0;for(let F of c)for(let q=0;q<F.getCount();q++){const tt=F.getDataCodewords(),gt=s.getECCodewords()+tt;d[g++]=new us(tt,new Uint8Array(gt))}const w=d[0].codewords.length-s.getECCodewords(),T=w-1;let D=0;for(let F=0;F<T;F++)for(let q=0;q<g;q++)d[q].codewords[F]=e[D++];const O=i.getVersionNumber()===24,B=O?8:g;for(let F=0;F<B;F++)d[F].codewords[w-1]=e[D++];const k=d[0].codewords.length;for(let F=w;F<k;F++)for(let q=0;q<g;q++){const tt=O?(q+8)%g:q,gt=O&&tt>7?F-1:F;d[tt].codewords[gt]=e[D++]}if(D!==e.length)throw new I;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class _n{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new I(""+e);let i=0,s=this.bitOffset,u=this.byteOffset;const c=this.bytes;if(s>0){const d=8-s,g=e<d?e:d,y=d-g,w=255>>8-g<<y;i=(c[u]&w)>>y,e-=g,s+=g,s===8&&(s=0,u++)}if(e>0){for(;e>=8;)i=i<<8|c[u]&255,u++,e-=8;if(e>0){const d=8-e,g=255>>d<<d;i=i<<e|(c[u]&g)>>d,s+=e}}return this.bitOffset=s,this.byteOffset=u,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Xe;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(Xe||(Xe={}));class ji{static decode(e){const i=new _n(e),s=new $t,u=new $t,c=new Array;let d=Xe.ASCII_ENCODE;do if(d===Xe.ASCII_ENCODE)d=this.decodeAsciiSegment(i,s,u);else{switch(d){case Xe.C40_ENCODE:this.decodeC40Segment(i,s);break;case Xe.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case Xe.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case Xe.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case Xe.BASE256_ENCODE:this.decodeBase256Segment(i,s,c);break;default:throw new ut}d=Xe.ASCII_ENCODE}while(d!==Xe.PAD_ENCODE&&i.available()>0);return u.length()>0&&s.append(u.toString()),new hi(e,s.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(e,i,s){let u=!1;do{let c=e.readBits(8);if(c===0)throw new ut;if(c<=128)return u&&(c+=128),i.append(String.fromCharCode(c-1)),Xe.ASCII_ENCODE;if(c===129)return Xe.PAD_ENCODE;if(c<=229){const d=c-130;d<10&&i.append("0"),i.append(""+d)}else switch(c){case 230:return Xe.C40_ENCODE;case 231:return Xe.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return Xe.ANSIX12_ENCODE;case 239:return Xe.TEXT_ENCODE;case 240:return Xe.EDIFACT_ENCODE;case 241:break;default:if(c!==254||e.available()!==0)throw new ut;break}}while(e.available()>0);return Xe.ASCII_ENCODE}static decodeC40Segment(e,i){let s=!1;const u=[];let c=0;do{if(e.available()===8)return;const d=e.readBits(8);if(d===254)return;this.parseTwoBytes(d,e.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(c){case 0:if(y<3)c=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[y];s?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):i.append(w)}else throw new ut;break;case 1:s?(i.append(String.fromCharCode(y+128)),s=!1):i.append(String.fromCharCode(y)),c=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[y];s?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):i.append(w)}else switch(y){case 27:i.append("");break;case 30:s=!0;break;default:throw new ut}c=0;break;case 3:s?(i.append(String.fromCharCode(y+224)),s=!1):i.append(String.fromCharCode(y+96)),c=0;break;default:throw new ut}}}while(e.available()>0)}static decodeTextSegment(e,i){let s=!1,u=[],c=0;do{if(e.available()===8)return;const d=e.readBits(8);if(d===254)return;this.parseTwoBytes(d,e.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(c){case 0:if(y<3)c=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[y];s?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):i.append(w)}else throw new ut;break;case 1:s?(i.append(String.fromCharCode(y+128)),s=!1):i.append(String.fromCharCode(y)),c=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[y];s?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):i.append(w)}else switch(y){case 27:i.append("");break;case 30:s=!0;break;default:throw new ut}c=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[y];s?(i.append(String.fromCharCode(w.charCodeAt(0)+128)),s=!1):i.append(w),c=0}else throw new ut;break;default:throw new ut}}}while(e.available()>0)}static decodeAnsiX12Segment(e,i){const s=[];do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),s);for(let c=0;c<3;c++){const d=s[c];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new ut;break}}}while(e.available()>0)}static parseTwoBytes(e,i,s){let u=(e<<8)+i-1,c=Math.floor(u/1600);s[0]=c,u-=c*1600,c=Math.floor(u/40),s[1]=c,s[2]=u-c*40}static decodeEdifactSegment(e,i){do{if(e.available()<=16)return;for(let s=0;s<4;s++){let u=e.readBits(6);if(u===31){const c=8-e.getBitOffset();c!==8&&e.readBits(c);return}(u&32)===0&&(u|=64),i.append(String.fromCharCode(u))}}while(e.available()>0)}static decodeBase256Segment(e,i,s){let u=1+e.getByteOffset();const c=this.unrandomize255State(e.readBits(8),u++);let d;if(c===0?d=e.available()/8|0:c<250?d=c:d=250*(c-249)+this.unrandomize255State(e.readBits(8),u++),d<0)throw new ut;const g=new Uint8Array(d);for(let y=0;y<d;y++){if(e.available()<8)throw new ut;g[y]=this.unrandomize255State(e.readBits(8),u++)}s.push(g);try{i.append(ue.decode(g,Tt.ISO88591))}catch(y){throw new di("Platform does not support required encoding: "+y.message)}}static unrandomize255State(e,i){const s=149*i%255+1,u=e-s;return u>=0?u:u+256}}ji.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ji.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ji.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ji.TEXT_SHIFT2_SET_CHARS=ji.C40_SHIFT2_SET_CHARS,ji.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class cs{constructor(){this.rsDecoder=new ba(te.DATA_MATRIX_FIELD_256)}decode(e){const i=new go(e),s=i.getVersion(),u=i.readCodewords(),c=us.getDataBlocks(u,s);let d=0;for(let w of c)d+=w.getNumDataCodewords();const g=new Uint8Array(d),y=c.length;for(let w=0;w<y;w++){const T=c[w],D=T.getCodewords(),O=T.getNumDataCodewords();this.correctErrors(D,O);for(let B=0;B<O;B++)g[B*y+w]=D[B]}return ji.decode(g)}correctErrors(e,i){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-i)}catch{throw new U}for(let u=0;u<i;u++)e[u]=s[u]}}class Pe{constructor(e){this.image=e,this.rectangleDetector=new Ni(this.image)}detect(){const e=this.rectangleDetector.detect();let i=this.detectSolid1(e);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new rt;i=this.shiftToModuleCenter(i);const s=i[0],u=i[1],c=i[2],d=i[3];let g=this.transitionsBetween(s,d)+1,y=this.transitionsBetween(c,d)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let w=Pe.sampleGrid(this.image,s,u,c,d,g,y);return new rs(w,[s,u,c,d])}static shiftPoint(e,i,s){let u=(i.getX()-e.getX())/(s+1),c=(i.getY()-e.getY())/(s+1);return new St(e.getX()+u,e.getY()+c)}static moveAway(e,i,s){let u=e.getX(),c=e.getY();return u<i?u-=1:u+=1,c<s?c-=1:c+=1,new St(u,c)}detectSolid1(e){let i=e[0],s=e[1],u=e[3],c=e[2],d=this.transitionsBetween(i,s),g=this.transitionsBetween(s,u),y=this.transitionsBetween(u,c),w=this.transitionsBetween(c,i),T=d,D=[c,i,s,u];return T>g&&(T=g,D[0]=i,D[1]=s,D[2]=u,D[3]=c),T>y&&(T=y,D[0]=s,D[1]=u,D[2]=c,D[3]=i),T>w&&(D[0]=u,D[1]=c,D[2]=i,D[3]=s),D}detectSolid2(e){let i=e[0],s=e[1],u=e[2],c=e[3],d=this.transitionsBetween(i,c),g=Pe.shiftPoint(s,u,(d+1)*4),y=Pe.shiftPoint(u,s,(d+1)*4),w=this.transitionsBetween(g,i),T=this.transitionsBetween(y,c);return w<T?(e[0]=i,e[1]=s,e[2]=u,e[3]=c):(e[0]=s,e[1]=u,e[2]=c,e[3]=i),e}correctTopRight(e){let i=e[0],s=e[1],u=e[2],c=e[3],d=this.transitionsBetween(i,c),g=this.transitionsBetween(s,c),y=Pe.shiftPoint(i,s,(g+1)*4),w=Pe.shiftPoint(u,s,(d+1)*4);d=this.transitionsBetween(y,c),g=this.transitionsBetween(w,c);let T=new St(c.getX()+(u.getX()-s.getX())/(d+1),c.getY()+(u.getY()-s.getY())/(d+1)),D=new St(c.getX()+(i.getX()-s.getX())/(g+1),c.getY()+(i.getY()-s.getY())/(g+1));if(!this.isValid(T))return this.isValid(D)?D:null;if(!this.isValid(D))return T;let O=this.transitionsBetween(y,T)+this.transitionsBetween(w,T),B=this.transitionsBetween(y,D)+this.transitionsBetween(w,D);return O>B?T:D}shiftToModuleCenter(e){let i=e[0],s=e[1],u=e[2],c=e[3],d=this.transitionsBetween(i,c)+1,g=this.transitionsBetween(u,c)+1,y=Pe.shiftPoint(i,s,g*4),w=Pe.shiftPoint(u,s,d*4);d=this.transitionsBetween(y,c)+1,g=this.transitionsBetween(w,c)+1,(d&1)===1&&(d+=1),(g&1)===1&&(g+=1);let T=(i.getX()+s.getX()+u.getX()+c.getX())/4,D=(i.getY()+s.getY()+u.getY()+c.getY())/4;i=Pe.moveAway(i,T,D),s=Pe.moveAway(s,T,D),u=Pe.moveAway(u,T,D),c=Pe.moveAway(c,T,D);let O,B;return y=Pe.shiftPoint(i,s,g*4),y=Pe.shiftPoint(y,c,d*4),O=Pe.shiftPoint(s,i,g*4),O=Pe.shiftPoint(O,u,d*4),w=Pe.shiftPoint(u,c,g*4),w=Pe.shiftPoint(w,s,d*4),B=Pe.shiftPoint(c,u,g*4),B=Pe.shiftPoint(B,i,d*4),[y,O,w,B]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,i,s,u,c,d,g){return vn.getInstance().sampleGrid(e,d,g,.5,.5,d-.5,.5,d-.5,g-.5,.5,g-.5,i.getX(),i.getY(),c.getX(),c.getY(),u.getX(),u.getY(),s.getX(),s.getY())}transitionsBetween(e,i){let s=Math.trunc(e.getX()),u=Math.trunc(e.getY()),c=Math.trunc(i.getX()),d=Math.trunc(i.getY()),g=Math.abs(d-u)>Math.abs(c-s);if(g){let F=s;s=u,u=F,F=c,c=d,d=F}let y=Math.abs(c-s),w=Math.abs(d-u),T=-y/2,D=u<d?1:-1,O=s<c?1:-1,B=0,k=this.image.get(g?u:s,g?s:u);for(let F=s,q=u;F!==c;F+=O){let tt=this.image.get(g?q:F,g?F:q);if(tt!==k&&(B++,k=tt),T+=w,T>0){if(q===d)break;q+=D,T-=y}}return B}}class ei{constructor(){this.decoder=new cs}decode(e,i=null){let s,u;if(i!=null&&i.has(wt.PURE_BARCODE)){const w=ei.extractPureBits(e.getBlackMatrix());s=this.decoder.decode(w),u=ei.NO_POINTS}else{const w=new Pe(e.getBlackMatrix()).detect();s=this.decoder.decode(w.getBits()),u=w.getPoints()}const c=s.getRawBytes(),d=new ie(s.getText(),c,8*c.length,u,Nt.DATA_MATRIX,X.currentTimeMillis()),g=s.getByteSegments();g!=null&&d.putMetadata(Fe.BYTE_SEGMENTS,g);const y=s.getECLevel();return y!=null&&d.putMetadata(Fe.ERROR_CORRECTION_LEVEL,y),d}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(i==null||s==null)throw new rt;const u=this.moduleSize(i,e);let c=i[1];const d=s[1];let g=i[0];const w=(s[0]-g+1)/u,T=(d-c+1)/u;if(w<=0||T<=0)throw new rt;const D=u/2;c+=D,g+=D;const O=new ve(w,T);for(let B=0;B<T;B++){const k=c+B*u;for(let F=0;F<w;F++)e.get(g+F*u,k)&&O.set(F,B)}return O}static moduleSize(e,i){const s=i.getWidth();let u=e[0];const c=e[1];for(;u<s&&i.get(u,c);)u++;if(u===s)throw new rt;const d=u-e[0];if(d===0)throw new rt;return d}}ei.NO_POINTS=[];class Sc extends Qt{constructor(e=500){super(new ei,e)}}var fn;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(fn||(fn={}));class fe{constructor(e,i,s){this.value=e,this.stringValue=i,this.bits=s,fe.FOR_BITS.set(s,this),fe.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return fe.L;case"M":return fe.M;case"Q":return fe.Q;case"H":return fe.H;default:throw new v(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof fe))return!1;const i=e;return this.value===i.value}static forBits(e){if(e<0||e>=fe.FOR_BITS.size)throw new I;return fe.FOR_BITS.get(e)}}fe.FOR_BITS=new Map,fe.FOR_VALUE=new Map,fe.L=new fe(fn.L,"L",1),fe.M=new fe(fn.M,"M",0),fe.Q=new fe(fn.Q,"Q",3),fe.H=new fe(fn.H,"H",2);class hn{constructor(e){this.errorCorrectionLevel=fe.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,i){return Y.bitCount(e^i)}static decodeFormatInformation(e,i){const s=hn.doDecodeFormatInformation(e,i);return s!==null?s:hn.doDecodeFormatInformation(e^hn.FORMAT_INFO_MASK_QR,i^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,i){let s=Number.MAX_SAFE_INTEGER,u=0;for(const c of hn.FORMAT_INFO_DECODE_LOOKUP){const d=c[0];if(d===e||d===i)return new hn(c[1]);let g=hn.numBitsDiffering(e,d);g<s&&(u=c[1],s=g),e!==i&&(g=hn.numBitsDiffering(i,d),g<s&&(u=c[1],s=g))}return s<=3?new hn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof hn))return!1;const i=e;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Q{constructor(e,...i){this.ecCodewordsPerBlock=e,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const i=this.ecBlocks;for(const s of i)e+=s.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Mt{constructor(e,i,...s){this.versionNumber=e,this.alignmentPatternCenters=i,this.ecBlocks=s;let u=0;const c=s[0].getECCodewordsPerBlock(),d=s[0].getECBlocks();for(const g of d)u+=g.getCount()*(g.getDataCodewords()+c);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new ut;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ut}}static getVersionForNumber(e){if(e<1||e>40)throw new I;return Mt.VERSIONS[e-1]}static decodeVersionInformation(e){let i=Number.MAX_SAFE_INTEGER,s=0;for(let u=0;u<Mt.VERSION_DECODE_INFO.length;u++){const c=Mt.VERSION_DECODE_INFO[u];if(c===e)return Mt.getVersionForNumber(u+7);const d=hn.numBitsDiffering(e,c);d<i&&(s=u+7,i=d)}return i<=3?Mt.getVersionForNumber(s):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),i=new ve(e);i.setRegion(0,0,9,9),i.setRegion(e-8,0,8,9),i.setRegion(0,e-8,9,8);const s=this.alignmentPatternCenters.length;for(let u=0;u<s;u++){const c=this.alignmentPatternCenters[u]-2;for(let d=0;d<s;d++)u===0&&(d===0||d===s-1)||u===s-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,c,5,5)}return i.setRegion(6,9,1,e-17),i.setRegion(9,6,e-17,1),this.versionNumber>6&&(i.setRegion(e-11,0,3,6),i.setRegion(0,e-11,6,3)),i}toString(){return""+this.versionNumber}}Mt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Mt.VERSIONS=[new Mt(1,new Int32Array(0),new Q(7,new _(1,19)),new Q(10,new _(1,16)),new Q(13,new _(1,13)),new Q(17,new _(1,9))),new Mt(2,Int32Array.from([6,18]),new Q(10,new _(1,34)),new Q(16,new _(1,28)),new Q(22,new _(1,22)),new Q(28,new _(1,16))),new Mt(3,Int32Array.from([6,22]),new Q(15,new _(1,55)),new Q(26,new _(1,44)),new Q(18,new _(2,17)),new Q(22,new _(2,13))),new Mt(4,Int32Array.from([6,26]),new Q(20,new _(1,80)),new Q(18,new _(2,32)),new Q(26,new _(2,24)),new Q(16,new _(4,9))),new Mt(5,Int32Array.from([6,30]),new Q(26,new _(1,108)),new Q(24,new _(2,43)),new Q(18,new _(2,15),new _(2,16)),new Q(22,new _(2,11),new _(2,12))),new Mt(6,Int32Array.from([6,34]),new Q(18,new _(2,68)),new Q(16,new _(4,27)),new Q(24,new _(4,19)),new Q(28,new _(4,15))),new Mt(7,Int32Array.from([6,22,38]),new Q(20,new _(2,78)),new Q(18,new _(4,31)),new Q(18,new _(2,14),new _(4,15)),new Q(26,new _(4,13),new _(1,14))),new Mt(8,Int32Array.from([6,24,42]),new Q(24,new _(2,97)),new Q(22,new _(2,38),new _(2,39)),new Q(22,new _(4,18),new _(2,19)),new Q(26,new _(4,14),new _(2,15))),new Mt(9,Int32Array.from([6,26,46]),new Q(30,new _(2,116)),new Q(22,new _(3,36),new _(2,37)),new Q(20,new _(4,16),new _(4,17)),new Q(24,new _(4,12),new _(4,13))),new Mt(10,Int32Array.from([6,28,50]),new Q(18,new _(2,68),new _(2,69)),new Q(26,new _(4,43),new _(1,44)),new Q(24,new _(6,19),new _(2,20)),new Q(28,new _(6,15),new _(2,16))),new Mt(11,Int32Array.from([6,30,54]),new Q(20,new _(4,81)),new Q(30,new _(1,50),new _(4,51)),new Q(28,new _(4,22),new _(4,23)),new Q(24,new _(3,12),new _(8,13))),new Mt(12,Int32Array.from([6,32,58]),new Q(24,new _(2,92),new _(2,93)),new Q(22,new _(6,36),new _(2,37)),new Q(26,new _(4,20),new _(6,21)),new Q(28,new _(7,14),new _(4,15))),new Mt(13,Int32Array.from([6,34,62]),new Q(26,new _(4,107)),new Q(22,new _(8,37),new _(1,38)),new Q(24,new _(8,20),new _(4,21)),new Q(22,new _(12,11),new _(4,12))),new Mt(14,Int32Array.from([6,26,46,66]),new Q(30,new _(3,115),new _(1,116)),new Q(24,new _(4,40),new _(5,41)),new Q(20,new _(11,16),new _(5,17)),new Q(24,new _(11,12),new _(5,13))),new Mt(15,Int32Array.from([6,26,48,70]),new Q(22,new _(5,87),new _(1,88)),new Q(24,new _(5,41),new _(5,42)),new Q(30,new _(5,24),new _(7,25)),new Q(24,new _(11,12),new _(7,13))),new Mt(16,Int32Array.from([6,26,50,74]),new Q(24,new _(5,98),new _(1,99)),new Q(28,new _(7,45),new _(3,46)),new Q(24,new _(15,19),new _(2,20)),new Q(30,new _(3,15),new _(13,16))),new Mt(17,Int32Array.from([6,30,54,78]),new Q(28,new _(1,107),new _(5,108)),new Q(28,new _(10,46),new _(1,47)),new Q(28,new _(1,22),new _(15,23)),new Q(28,new _(2,14),new _(17,15))),new Mt(18,Int32Array.from([6,30,56,82]),new Q(30,new _(5,120),new _(1,121)),new Q(26,new _(9,43),new _(4,44)),new Q(28,new _(17,22),new _(1,23)),new Q(28,new _(2,14),new _(19,15))),new Mt(19,Int32Array.from([6,30,58,86]),new Q(28,new _(3,113),new _(4,114)),new Q(26,new _(3,44),new _(11,45)),new Q(26,new _(17,21),new _(4,22)),new Q(26,new _(9,13),new _(16,14))),new Mt(20,Int32Array.from([6,34,62,90]),new Q(28,new _(3,107),new _(5,108)),new Q(26,new _(3,41),new _(13,42)),new Q(30,new _(15,24),new _(5,25)),new Q(28,new _(15,15),new _(10,16))),new Mt(21,Int32Array.from([6,28,50,72,94]),new Q(28,new _(4,116),new _(4,117)),new Q(26,new _(17,42)),new Q(28,new _(17,22),new _(6,23)),new Q(30,new _(19,16),new _(6,17))),new Mt(22,Int32Array.from([6,26,50,74,98]),new Q(28,new _(2,111),new _(7,112)),new Q(28,new _(17,46)),new Q(30,new _(7,24),new _(16,25)),new Q(24,new _(34,13))),new Mt(23,Int32Array.from([6,30,54,78,102]),new Q(30,new _(4,121),new _(5,122)),new Q(28,new _(4,47),new _(14,48)),new Q(30,new _(11,24),new _(14,25)),new Q(30,new _(16,15),new _(14,16))),new Mt(24,Int32Array.from([6,28,54,80,106]),new Q(30,new _(6,117),new _(4,118)),new Q(28,new _(6,45),new _(14,46)),new Q(30,new _(11,24),new _(16,25)),new Q(30,new _(30,16),new _(2,17))),new Mt(25,Int32Array.from([6,32,58,84,110]),new Q(26,new _(8,106),new _(4,107)),new Q(28,new _(8,47),new _(13,48)),new Q(30,new _(7,24),new _(22,25)),new Q(30,new _(22,15),new _(13,16))),new Mt(26,Int32Array.from([6,30,58,86,114]),new Q(28,new _(10,114),new _(2,115)),new Q(28,new _(19,46),new _(4,47)),new Q(28,new _(28,22),new _(6,23)),new Q(30,new _(33,16),new _(4,17))),new Mt(27,Int32Array.from([6,34,62,90,118]),new Q(30,new _(8,122),new _(4,123)),new Q(28,new _(22,45),new _(3,46)),new Q(30,new _(8,23),new _(26,24)),new Q(30,new _(12,15),new _(28,16))),new Mt(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new _(3,117),new _(10,118)),new Q(28,new _(3,45),new _(23,46)),new Q(30,new _(4,24),new _(31,25)),new Q(30,new _(11,15),new _(31,16))),new Mt(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new _(7,116),new _(7,117)),new Q(28,new _(21,45),new _(7,46)),new Q(30,new _(1,23),new _(37,24)),new Q(30,new _(19,15),new _(26,16))),new Mt(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new _(5,115),new _(10,116)),new Q(28,new _(19,47),new _(10,48)),new Q(30,new _(15,24),new _(25,25)),new Q(30,new _(23,15),new _(25,16))),new Mt(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new _(13,115),new _(3,116)),new Q(28,new _(2,46),new _(29,47)),new Q(30,new _(42,24),new _(1,25)),new Q(30,new _(23,15),new _(28,16))),new Mt(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new _(17,115)),new Q(28,new _(10,46),new _(23,47)),new Q(30,new _(10,24),new _(35,25)),new Q(30,new _(19,15),new _(35,16))),new Mt(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new _(17,115),new _(1,116)),new Q(28,new _(14,46),new _(21,47)),new Q(30,new _(29,24),new _(19,25)),new Q(30,new _(11,15),new _(46,16))),new Mt(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new _(13,115),new _(6,116)),new Q(28,new _(14,46),new _(23,47)),new Q(30,new _(44,24),new _(7,25)),new Q(30,new _(59,16),new _(1,17))),new Mt(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new _(12,121),new _(7,122)),new Q(28,new _(12,47),new _(26,48)),new Q(30,new _(39,24),new _(14,25)),new Q(30,new _(22,15),new _(41,16))),new Mt(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new _(6,121),new _(14,122)),new Q(28,new _(6,47),new _(34,48)),new Q(30,new _(46,24),new _(10,25)),new Q(30,new _(2,15),new _(64,16))),new Mt(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new _(17,122),new _(4,123)),new Q(28,new _(29,46),new _(14,47)),new Q(30,new _(49,24),new _(10,25)),new Q(30,new _(24,15),new _(46,16))),new Mt(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new _(4,122),new _(18,123)),new Q(28,new _(13,46),new _(32,47)),new Q(30,new _(48,24),new _(14,25)),new Q(30,new _(42,15),new _(32,16))),new Mt(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new _(20,117),new _(4,118)),new Q(28,new _(40,47),new _(7,48)),new Q(30,new _(43,24),new _(22,25)),new Q(30,new _(10,15),new _(67,16))),new Mt(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new _(19,118),new _(6,119)),new Q(28,new _(18,47),new _(31,48)),new Q(30,new _(34,24),new _(34,25)),new Q(30,new _(20,15),new _(61,16)))];var Je;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(Je||(Je={}));class dn{constructor(e,i){this.value=e,this.isMasked=i}unmaskBitMatrix(e,i){for(let s=0;s<i;s++)for(let u=0;u<i;u++)this.isMasked(s,u)&&e.flip(u,s)}}dn.values=new Map([[Je.DATA_MASK_000,new dn(Je.DATA_MASK_000,(M,e)=>(M+e&1)===0)],[Je.DATA_MASK_001,new dn(Je.DATA_MASK_001,(M,e)=>(M&1)===0)],[Je.DATA_MASK_010,new dn(Je.DATA_MASK_010,(M,e)=>e%3===0)],[Je.DATA_MASK_011,new dn(Je.DATA_MASK_011,(M,e)=>(M+e)%3===0)],[Je.DATA_MASK_100,new dn(Je.DATA_MASK_100,(M,e)=>(Math.floor(M/2)+Math.floor(e/3)&1)===0)],[Je.DATA_MASK_101,new dn(Je.DATA_MASK_101,(M,e)=>M*e%6===0)],[Je.DATA_MASK_110,new dn(Je.DATA_MASK_110,(M,e)=>M*e%6<3)],[Je.DATA_MASK_111,new dn(Je.DATA_MASK_111,(M,e)=>(M+e+M*e%3&1)===0)]]);class bc{constructor(e){const i=e.getHeight();if(i<21||(i&3)!==1)throw new ut;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let c=0;c<6;c++)e=this.copyBit(c,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let c=5;c>=0;c--)e=this.copyBit(8,c,e);const i=this.bitMatrix.getHeight();let s=0;const u=i-7;for(let c=i-1;c>=u;c--)s=this.copyBit(8,c,s);for(let c=i-8;c<i;c++)s=this.copyBit(c,8,s);if(this.parsedFormatInfo=hn.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ut}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),i=Math.floor((e-17)/4);if(i<=6)return Mt.getVersionForNumber(i);let s=0;const u=e-11;for(let d=5;d>=0;d--)for(let g=e-9;g>=u;g--)s=this.copyBit(g,d,s);let c=Mt.decodeVersionInformation(s);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;s=0;for(let d=5;d>=0;d--)for(let g=e-9;g>=u;g--)s=this.copyBit(d,g,s);if(c=Mt.decodeVersionInformation(s),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new ut}copyBit(e,i,s){return(this.isMirror?this.bitMatrix.get(i,e):this.bitMatrix.get(e,i))?s<<1|1:s<<1}readCodewords(){const e=this.readFormatInformation(),i=this.readVersion(),s=dn.values.get(e.getDataMask()),u=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,u);const c=i.buildFunctionPattern();let d=!0;const g=new Uint8Array(i.getTotalCodewords());let y=0,w=0,T=0;for(let D=u-1;D>0;D-=2){D===6&&D--;for(let O=0;O<u;O++){const B=d?u-1-O:O;for(let k=0;k<2;k++)c.get(D-k,B)||(T++,w<<=1,this.bitMatrix.get(D-k,B)&&(w|=1),T===8&&(g[y++]=w,T=0,w=0))}d=!d}if(y!==i.getTotalCodewords())throw new ut;return g}remask(){if(this.parsedFormatInfo===null)return;const e=dn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,i)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let i=0,s=e.getWidth();i<s;i++)for(let u=i+1,c=e.getHeight();u<c;u++)e.get(i,u)!==e.get(u,i)&&(e.flip(u,i),e.flip(i,u))}}class fs{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i,s){if(e.length!==i.getTotalCodewords())throw new I;const u=i.getECBlocksForLevel(s);let c=0;const d=u.getECBlocks();for(const k of d)c+=k.getCount();const g=new Array(c);let y=0;for(const k of d)for(let F=0;F<k.getCount();F++){const q=k.getDataCodewords(),tt=u.getECCodewordsPerBlock()+q;g[y++]=new fs(q,new Uint8Array(tt))}const w=g[0].codewords.length;let T=g.length-1;for(;T>=0&&g[T].codewords.length!==w;)T--;T++;const D=w-u.getECCodewordsPerBlock();let O=0;for(let k=0;k<D;k++)for(let F=0;F<y;F++)g[F].codewords[k]=e[O++];for(let k=T;k<y;k++)g[k].codewords[D]=e[O++];const B=g[0].codewords.length;for(let k=D;k<B;k++)for(let F=0;F<y;F++){const q=F<T?k:k+1;g[F].codewords[q]=e[O++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var zn;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(zn||(zn={}));class Dt{constructor(e,i,s,u){this.value=e,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=u,Dt.FOR_BITS.set(u,this),Dt.FOR_VALUE.set(e,this)}static forBits(e){const i=Dt.FOR_BITS.get(e);if(i===void 0)throw new I;return i}getCharacterCountBits(e){const i=e.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Dt))return!1;const i=e;return this.value===i.value}toString(){return this.stringValue}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.TERMINATOR=new Dt(zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Dt.NUMERIC=new Dt(zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Dt.ALPHANUMERIC=new Dt(zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Dt.STRUCTURED_APPEND=new Dt(zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Dt.BYTE=new Dt(zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Dt.ECI=new Dt(zn.ECI,"ECI",Int32Array.from([0,0,0]),7),Dt.KANJI=new Dt(zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Dt.FNC1_FIRST_POSITION=new Dt(zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Dt.FNC1_SECOND_POSITION=new Dt(zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Dt.HANZI=new Dt(zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Be{static decode(e,i,s,u){const c=new _n(e);let d=new $t;const g=new Array;let y=-1,w=-1;try{let T=null,D=!1,O;do{if(c.available()<4)O=Dt.TERMINATOR;else{const B=c.readBits(4);O=Dt.forBits(B)}switch(O){case Dt.TERMINATOR:break;case Dt.FNC1_FIRST_POSITION:case Dt.FNC1_SECOND_POSITION:D=!0;break;case Dt.STRUCTURED_APPEND:if(c.available()<16)throw new ut;y=c.readBits(8),w=c.readBits(8);break;case Dt.ECI:const B=Be.parseECIValue(c);if(T=lt.getCharacterSetECIByValue(B),T===null)throw new ut;break;case Dt.HANZI:const k=c.readBits(4),F=c.readBits(O.getCharacterCountBits(i));k===Be.GB2312_SUBSET&&Be.decodeHanziSegment(c,d,F);break;default:const q=c.readBits(O.getCharacterCountBits(i));switch(O){case Dt.NUMERIC:Be.decodeNumericSegment(c,d,q);break;case Dt.ALPHANUMERIC:Be.decodeAlphanumericSegment(c,d,q,D);break;case Dt.BYTE:Be.decodeByteSegment(c,d,q,T,g,u);break;case Dt.KANJI:Be.decodeKanjiSegment(c,d,q);break;default:throw new ut}break}}while(O!==Dt.TERMINATOR)}catch{throw new ut}return new hi(e,d.toString(),g.length===0?null:g,s===null?null:s.toString(),y,w)}static decodeHanziSegment(e,i,s){if(s*13>e.available())throw new ut;const u=new Uint8Array(2*s);let c=0;for(;s>0;){const d=e.readBits(13);let g=d/96<<8&4294967295|d%96;g<959?g+=41377:g+=42657,u[c]=g>>8&255,u[c+1]=g&255,c+=2,s--}try{i.append(ue.decode(u,Tt.GB2312))}catch(d){throw new ut(d)}}static decodeKanjiSegment(e,i,s){if(s*13>e.available())throw new ut;const u=new Uint8Array(2*s);let c=0;for(;s>0;){const d=e.readBits(13);let g=d/192<<8&4294967295|d%192;g<7936?g+=33088:g+=49472,u[c]=g>>8,u[c+1]=g,c+=2,s--}try{i.append(ue.decode(u,Tt.SHIFT_JIS))}catch(d){throw new ut(d)}}static decodeByteSegment(e,i,s,u,c,d){if(8*s>e.available())throw new ut;const g=new Uint8Array(s);for(let w=0;w<s;w++)g[w]=e.readBits(8);let y;u===null?y=Tt.guessEncoding(g,d):y=u.getName();try{i.append(ue.decode(g,y))}catch(w){throw new ut(w)}c.push(g)}static toAlphaNumericChar(e){if(e>=Be.ALPHANUMERIC_CHARS.length)throw new ut;return Be.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,i,s,u){const c=i.length();for(;s>1;){if(e.available()<11)throw new ut;const d=e.readBits(11);i.append(Be.toAlphaNumericChar(Math.floor(d/45))),i.append(Be.toAlphaNumericChar(d%45)),s-=2}if(s===1){if(e.available()<6)throw new ut;i.append(Be.toAlphaNumericChar(e.readBits(6)))}if(u)for(let d=c;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,""))}static decodeNumericSegment(e,i,s){for(;s>=3;){if(e.available()<10)throw new ut;const u=e.readBits(10);if(u>=1e3)throw new ut;i.append(Be.toAlphaNumericChar(Math.floor(u/100))),i.append(Be.toAlphaNumericChar(Math.floor(u/10)%10)),i.append(Be.toAlphaNumericChar(u%10)),s-=3}if(s===2){if(e.available()<7)throw new ut;const u=e.readBits(7);if(u>=100)throw new ut;i.append(Be.toAlphaNumericChar(Math.floor(u/10))),i.append(Be.toAlphaNumericChar(u%10))}else if(s===1){if(e.available()<4)throw new ut;const u=e.readBits(4);if(u>=10)throw new ut;i.append(Be.toAlphaNumericChar(u))}}static parseECIValue(e){const i=e.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const s=e.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=e.readBits(16);return(i&31)<<16&4294967295|s}throw new ut}}Be.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Be.GB2312_SUBSET=1;class zl{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const i=e[0];e[0]=e[2],e[2]=i}}class hs{constructor(){this.rsDecoder=new ba(te.QR_CODE_FIELD_256)}decodeBooleanArray(e,i){return this.decodeBitMatrix(ve.parseFromBooleanArray(e),i)}decodeBitMatrix(e,i){const s=new bc(e);let u=null;try{return this.decodeBitMatrixParser(s,i)}catch(c){u=c}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const c=this.decodeBitMatrixParser(s,i);return c.setOther(new zl(!0)),c}catch(c){throw u!==null?u:c}}decodeBitMatrixParser(e,i){const s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),d=fs.getDataBlocks(c,s,u);let g=0;for(const T of d)g+=T.getNumDataCodewords();const y=new Uint8Array(g);let w=0;for(const T of d){const D=T.getCodewords(),O=T.getNumDataCodewords();this.correctErrors(D,O);for(let B=0;B<O;B++)y[w++]=D[B]}return Be.decode(y,s,u,i)}correctErrors(e,i){const s=new Int32Array(e);try{this.rsDecoder.decode(s,e.length-i)}catch{throw new U}for(let u=0;u<i;u++)e[u]=s[u]}}class Da extends St{constructor(e,i,s){super(e,i),this.estimatedModuleSize=s}aboutEquals(e,i,s){if(Math.abs(i-this.getY())<=e&&Math.abs(s-this.getX())<=e){const u=Math.abs(e-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(e,i,s){const u=(this.getX()+i)/2,c=(this.getY()+e)/2,d=(this.estimatedModuleSize+s)/2;return new Da(u,c,d)}}class Vr{constructor(e,i,s,u,c,d,g){this.image=e,this.startX=i,this.startY=s,this.width=u,this.height=c,this.moduleSize=d,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,i=this.height,s=this.width,u=e+s,c=this.startY+i/2,d=new Int32Array(3),g=this.image;for(let y=0;y<i;y++){const w=c+((y&1)===0?Math.floor((y+1)/2):-Math.floor((y+1)/2));d[0]=0,d[1]=0,d[2]=0;let T=e;for(;T<u&&!g.get(T,w);)T++;let D=0;for(;T<u;){if(g.get(T,w))if(D===1)d[1]++;else if(D===2){if(this.foundPatternCross(d)){const O=this.handlePossibleCenter(d,w,T);if(O!==null)return O}d[0]=d[2],d[1]=1,d[2]=0,D=1}else d[++D]++;else D===1&&D++,d[D]++;T++}if(this.foundPatternCross(d)){const O=this.handlePossibleCenter(d,w,u);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new rt}static centerFromEnd(e,i){return i-e[2]-e[1]/2}foundPatternCross(e){const i=this.moduleSize,s=i/2;for(let u=0;u<3;u++)if(Math.abs(i-e[u])>=s)return!1;return!0}crossCheckVertical(e,i,s,u){const c=this.image,d=c.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=e;for(;y>=0&&c.get(i,y)&&g[1]<=s;)g[1]++,y--;if(y<0||g[1]>s)return NaN;for(;y>=0&&!c.get(i,y)&&g[0]<=s;)g[0]++,y--;if(g[0]>s)return NaN;for(y=e+1;y<d&&c.get(i,y)&&g[1]<=s;)g[1]++,y++;if(y===d||g[1]>s)return NaN;for(;y<d&&!c.get(i,y)&&g[2]<=s;)g[2]++,y++;if(g[2]>s)return NaN;const w=g[0]+g[1]+g[2];return 5*Math.abs(w-u)>=2*u?NaN:this.foundPatternCross(g)?Vr.centerFromEnd(g,y):NaN}handlePossibleCenter(e,i,s){const u=e[0]+e[1]+e[2],c=Vr.centerFromEnd(e,s),d=this.crossCheckVertical(i,c,2*e[1],u);if(!isNaN(d)){const g=(e[0]+e[1]+e[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(g,d,c))return w.combineEstimate(d,c,g);const y=new Da(c,d,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Hi extends St{constructor(e,i,s,u){super(e,i),this.estimatedModuleSize=s,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,i,s){if(Math.abs(i-this.getY())<=e&&Math.abs(s-this.getX())<=e){const u=Math.abs(e-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(e,i,s){const u=this.count+1,c=(this.count*this.getX()+i)/u,d=(this.count*this.getY()+e)/u,g=(this.count*this.estimatedModuleSize+s)/u;return new Hi(c,d,g,u)}}class zr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $e{constructor(e,i){this.image=e,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const i=e!=null&&e.get(wt.TRY_HARDER)!==void 0,s=e!=null&&e.get(wt.PURE_BARCODE)!==void 0,u=this.image,c=u.getHeight(),d=u.getWidth();let g=Math.floor(3*c/(4*$e.MAX_MODULES));(g<$e.MIN_SKIP||i)&&(g=$e.MIN_SKIP);let y=!1;const w=new Int32Array(5);for(let D=g-1;D<c&&!y;D+=g){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let O=0;for(let B=0;B<d;B++)if(u.get(B,D))(O&1)===1&&O++,w[O]++;else if((O&1)===0)if(O===4)if($e.foundPatternCross(w)){if(this.handlePossibleCenter(w,D,B,s)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>w[2]&&(D+=F-w[2]-g,B=d-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,O=3;continue}O=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,O=3;else w[++O]++;else w[O]++;$e.foundPatternCross(w)&&this.handlePossibleCenter(w,D,d,s)===!0&&(g=w[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return St.orderBestPatterns(T),new zr(T)}static centerFromEnd(e,i){return i-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let i=0;for(let c=0;c<5;c++){const d=e[c];if(d===0)return!1;i+=d}if(i<7)return!1;const s=i/7,u=s/2;return Math.abs(s-e[0])<u&&Math.abs(s-e[1])<u&&Math.abs(3*s-e[2])<3*u&&Math.abs(s-e[3])<u&&Math.abs(s-e[4])<u}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,i,s,u){const c=this.getCrossCheckStateCount();let d=0;const g=this.image;for(;e>=d&&i>=d&&g.get(i-d,e-d);)c[2]++,d++;if(e<d||i<d)return!1;for(;e>=d&&i>=d&&!g.get(i-d,e-d)&&c[1]<=s;)c[1]++,d++;if(e<d||i<d||c[1]>s)return!1;for(;e>=d&&i>=d&&g.get(i-d,e-d)&&c[0]<=s;)c[0]++,d++;if(c[0]>s)return!1;const y=g.getHeight(),w=g.getWidth();for(d=1;e+d<y&&i+d<w&&g.get(i+d,e+d);)c[2]++,d++;if(e+d>=y||i+d>=w)return!1;for(;e+d<y&&i+d<w&&!g.get(i+d,e+d)&&c[3]<s;)c[3]++,d++;if(e+d>=y||i+d>=w||c[3]>=s)return!1;for(;e+d<y&&i+d<w&&g.get(i+d,e+d)&&c[4]<s;)c[4]++,d++;if(c[4]>=s)return!1;const T=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(T-u)<2*u&&$e.foundPatternCross(c)}crossCheckVertical(e,i,s,u){const c=this.image,d=c.getHeight(),g=this.getCrossCheckStateCount();let y=e;for(;y>=0&&c.get(i,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!c.get(i,y)&&g[1]<=s;)g[1]++,y--;if(y<0||g[1]>s)return NaN;for(;y>=0&&c.get(i,y)&&g[0]<=s;)g[0]++,y--;if(g[0]>s)return NaN;for(y=e+1;y<d&&c.get(i,y);)g[2]++,y++;if(y===d)return NaN;for(;y<d&&!c.get(i,y)&&g[3]<s;)g[3]++,y++;if(y===d||g[3]>=s)return NaN;for(;y<d&&c.get(i,y)&&g[4]<s;)g[4]++,y++;if(g[4]>=s)return NaN;const w=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(w-u)>=2*u?NaN:$e.foundPatternCross(g)?$e.centerFromEnd(g,y):NaN}crossCheckHorizontal(e,i,s,u){const c=this.image,d=c.getWidth(),g=this.getCrossCheckStateCount();let y=e;for(;y>=0&&c.get(y,i);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!c.get(y,i)&&g[1]<=s;)g[1]++,y--;if(y<0||g[1]>s)return NaN;for(;y>=0&&c.get(y,i)&&g[0]<=s;)g[0]++,y--;if(g[0]>s)return NaN;for(y=e+1;y<d&&c.get(y,i);)g[2]++,y++;if(y===d)return NaN;for(;y<d&&!c.get(y,i)&&g[3]<s;)g[3]++,y++;if(y===d||g[3]>=s)return NaN;for(;y<d&&c.get(y,i)&&g[4]<s;)g[4]++,y++;if(g[4]>=s)return NaN;const w=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(w-u)>=u?NaN:$e.foundPatternCross(g)?$e.centerFromEnd(g,y):NaN}handlePossibleCenter(e,i,s,u){const c=e[0]+e[1]+e[2]+e[3]+e[4];let d=$e.centerFromEnd(e,s),g=this.crossCheckVertical(i,Math.floor(d),e[2],c);if(!isNaN(g)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(g),e[2],c),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(g),Math.floor(d),e[2],c)))){const y=c/7;let w=!1;const T=this.possibleCenters;for(let D=0,O=T.length;D<O;D++){const B=T[D];if(B.aboutEquals(y,g,d)){T[D]=B.combineEstimate(g,d,y),w=!0;break}}if(!w){const D=new Hi(d,g,y);T.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=$e.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,i=0;const s=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=$e.CENTER_QUORUM&&(e++,i+=d.getEstimatedModuleSize());if(e<3)return!1;const u=i/s;let c=0;for(const d of this.possibleCenters)c+=Math.abs(d.getEstimatedModuleSize()-u);return c<=.05*i}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new rt;const i=this.possibleCenters;let s;if(e>3){let u=0,c=0;for(const y of this.possibleCenters){const w=y.getEstimatedModuleSize();u+=w,c+=w*w}s=u/e;let d=Math.sqrt(c/e-s*s);i.sort((y,w)=>{const T=Math.abs(w.getEstimatedModuleSize()-s),D=Math.abs(y.getEstimatedModuleSize()-s);return T<D?-1:T>D?1:0});const g=Math.max(.2*s,d);for(let y=0;y<i.length&&i.length>3;y++){const w=i[y];Math.abs(w.getEstimatedModuleSize()-s)>g&&(i.splice(y,1),y--)}}if(i.length>3){let u=0;for(const c of i)u+=c.getEstimatedModuleSize();s=u/i.length,i.sort((c,d)=>{if(d.getCount()===c.getCount()){const g=Math.abs(d.getEstimatedModuleSize()-s),y=Math.abs(c.getEstimatedModuleSize()-s);return g<y?1:g>y?-1:0}else return d.getCount()-c.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}$e.CENTER_QUORUM=2,$e.MIN_SKIP=3,$e.MAX_MODULES=57;class dr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(wt.NEED_RESULT_POINT_CALLBACK);const s=new $e(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(s)}processFinderPatternInfo(e){const i=e.getTopLeft(),s=e.getTopRight(),u=e.getBottomLeft(),c=this.calculateModuleSize(i,s,u);if(c<1)throw new rt("No pattern found in proccess finder.");const d=dr.computeDimension(i,s,u,c),g=Mt.getProvisionalVersionForDimension(d),y=g.getDimensionForVersion()-7;let w=null;if(g.getAlignmentPatternCenters().length>0){const B=s.getX()-i.getX()+u.getX(),k=s.getY()-i.getY()+u.getY(),F=1-3/y,q=Math.floor(i.getX()+F*(B-i.getX())),tt=Math.floor(i.getY()+F*(k-i.getY()));for(let gt=4;gt<=16;gt<<=1)try{w=this.findAlignmentInRegion(c,q,tt,gt);break}catch(mt){if(!(mt instanceof rt))throw mt}}const T=dr.createTransform(i,s,u,w,d),D=dr.sampleGrid(this.image,T,d);let O;return w===null?O=[u,i,s]:O=[u,i,s,w],new rs(D,O)}static createTransform(e,i,s,u,c){const d=c-3.5;let g,y,w,T;return u!==null?(g=u.getX(),y=u.getY(),w=d-3,T=w):(g=i.getX()-e.getX()+s.getX(),y=i.getY()-e.getY()+s.getY(),w=d,T=d),Tn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,w,T,3.5,d,e.getX(),e.getY(),i.getX(),i.getY(),g,y,s.getX(),s.getY())}static sampleGrid(e,i,s){return vn.getInstance().sampleGridWithTransform(e,s,s,i)}static computeDimension(e,i,s,u){const c=Kt.round(St.distance(e,i)/u),d=Kt.round(St.distance(e,s)/u);let g=Math.floor((c+d)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new rt("Dimensions could be not found.")}return g}calculateModuleSize(e,i,s){return(this.calculateModuleSizeOneWay(e,i)+this.calculateModuleSizeOneWay(e,s))/2}calculateModuleSizeOneWay(e,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(i.getX()),Math.floor(i.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(s)?u/7:isNaN(u)?s/7:(s+u)/14}sizeOfBlackWhiteBlackRunBothWays(e,i,s,u){let c=this.sizeOfBlackWhiteBlackRun(e,i,s,u),d=1,g=e-(s-e);g<0?(d=e/(e-g),g=0):g>=this.image.getWidth()&&(d=(this.image.getWidth()-1-e)/(g-e),g=this.image.getWidth()-1);let y=Math.floor(i-(u-i)*d);return d=1,y<0?(d=i/(i-y),y=0):y>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(y-i),y=this.image.getHeight()-1),g=Math.floor(e+(g-e)*d),c+=this.sizeOfBlackWhiteBlackRun(e,i,g,y),c-1}sizeOfBlackWhiteBlackRun(e,i,s,u){const c=Math.abs(u-i)>Math.abs(s-e);if(c){let B=e;e=i,i=B,B=s,s=u,u=B}const d=Math.abs(s-e),g=Math.abs(u-i);let y=-d/2;const w=e<s?1:-1,T=i<u?1:-1;let D=0;const O=s+w;for(let B=e,k=i;B!==O;B+=w){const F=c?k:B,q=c?B:k;if(D===1===this.image.get(F,q)){if(D===2)return Kt.distance(B,k,e,i);D++}if(y+=g,y>0){if(k===u)break;k+=T,y-=d}}return D===2?Kt.distance(s+w,u,e,i):NaN}findAlignmentInRegion(e,i,s,u){const c=Math.floor(u*e),d=Math.max(0,i-c),g=Math.min(this.image.getWidth()-1,i+c);if(g-d<e*3)throw new rt("Alignment top exceeds estimated module size.");const y=Math.max(0,s-c),w=Math.min(this.image.getHeight()-1,s+c);if(w-y<e*3)throw new rt("Alignment bottom exceeds estimated module size.");return new Vr(this.image,d,y,g-d,w-y,e,this.resultPointCallback).find()}}class Ii{constructor(){this.decoder=new hs}getDecoder(){return this.decoder}decode(e,i){let s,u;if(i!=null&&i.get(wt.PURE_BARCODE)!==void 0){const y=Ii.extractPureBits(e.getBlackMatrix());s=this.decoder.decodeBitMatrix(y,i),u=Ii.NO_POINTS}else{const y=new dr(e.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(y.getBits(),i),u=y.getPoints()}s.getOther()instanceof zl&&s.getOther().applyMirroredCorrection(u);const c=new ie(s.getText(),s.getRawBytes(),void 0,u,Nt.QR_CODE,void 0),d=s.getByteSegments();d!==null&&c.putMetadata(Fe.BYTE_SEGMENTS,d);const g=s.getECLevel();return g!==null&&c.putMetadata(Fe.ERROR_CORRECTION_LEVEL,g),s.hasStructuredAppend()&&(c.putMetadata(Fe.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),c.putMetadata(Fe.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),c}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),s=e.getBottomRightOnBit();if(i===null||s===null)throw new rt;const u=this.moduleSize(i,e);let c=i[1],d=s[1],g=i[0],y=s[0];if(g>=y||c>=d)throw new rt;if(d-c!==y-g&&(y=g+(d-c),y>=e.getWidth()))throw new rt;const w=Math.round((y-g+1)/u),T=Math.round((d-c+1)/u);if(w<=0||T<=0)throw new rt;if(T!==w)throw new rt;const D=Math.floor(u/2);c+=D,g+=D;const O=g+Math.floor((w-1)*u)-y;if(O>0){if(O>D)throw new rt;g-=O}const B=c+Math.floor((T-1)*u)-d;if(B>0){if(B>D)throw new rt;c-=B}const k=new ve(w,T);for(let F=0;F<T;F++){const q=c+Math.floor(F*u);for(let tt=0;tt<w;tt++)e.get(g+Math.floor(tt*u),q)&&k.set(tt,F)}return k}static moduleSize(e,i){const s=i.getHeight(),u=i.getWidth();let c=e[0],d=e[1],g=!0,y=0;for(;c<u&&d<s;){if(g!==i.get(c,d)){if(++y===5)break;g=!g}c++,d++}if(c===u||d===s)throw new rt;return(c-e[0])/7}}Ii.NO_POINTS=new Array;class Ot{PDF417Common(){}static getBitCountSum(e){return Kt.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ot.EMPTY_INT_ARRAY;const i=new Int32Array(e.length);let s=0;for(const u of e)i[s++]=u;return i}static getCodeword(e){const i=nt.binarySearch(Ot.SYMBOL_TABLE,e&262143);return i<0?-1:(Ot.CODEWORD_TABLE[i]-1)%Ot.NUMBER_OF_CODEWORDS}}Ot.NUMBER_OF_CODEWORDS=929,Ot.MAX_CODEWORDS_IN_BARCODE=Ot.NUMBER_OF_CODEWORDS-1,Ot.MIN_ROWS_IN_BARCODE=3,Ot.MAX_ROWS_IN_BARCODE=90,Ot.MODULES_IN_CODEWORD=17,Ot.MODULES_IN_STOP_PATTERN=18,Ot.BARS_IN_MODULE=8,Ot.EMPTY_INT_ARRAY=new Int32Array([]),Ot.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ot.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Oi{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class kt{static detectMultiple(e,i,s){let u=e.getBlackMatrix(),c=kt.detect(s,u);return c.length||(u=u.clone(),u.rotate180(),c=kt.detect(s,u)),new Oi(u,c)}static detect(e,i){const s=new Array;let u=0,c=0,d=!1;for(;u<i.getHeight();){const g=kt.findVertices(i,u,c);if(g[0]==null&&g[3]==null){if(!d)break;d=!1,c=0;for(const y of s)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=kt.ROW_STEP;continue}if(d=!0,s.push(g),!e)break;g[2]!=null?(c=Math.trunc(g[2].getX()),u=Math.trunc(g[2].getY())):(c=Math.trunc(g[4].getX()),u=Math.trunc(g[4].getY()))}return s}static findVertices(e,i,s){const u=e.getHeight(),c=e.getWidth(),d=new Array(8);return kt.copyToResult(d,kt.findRowsWithPattern(e,u,c,i,s,kt.START_PATTERN),kt.INDEXES_START_PATTERN),d[4]!=null&&(s=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),kt.copyToResult(d,kt.findRowsWithPattern(e,u,c,i,s,kt.STOP_PATTERN),kt.INDEXES_STOP_PATTERN),d}static copyToResult(e,i,s){for(let u=0;u<s.length;u++)e[s[u]]=i[u]}static findRowsWithPattern(e,i,s,u,c,d){const g=new Array(4);let y=!1;const w=new Int32Array(d.length);for(;u<i;u+=kt.ROW_STEP){let D=kt.findGuardPattern(e,c,u,s,!1,d,w);if(D!=null){for(;u>0;){const O=kt.findGuardPattern(e,c,--u,s,!1,d,w);if(O!=null)D=O;else{u++;break}}g[0]=new St(D[0],u),g[1]=new St(D[1],u),y=!0;break}}let T=u+1;if(y){let D=0,O=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;T<i;T++){const B=kt.findGuardPattern(e,O[0],T,s,!1,d,w);if(B!=null&&Math.abs(O[0]-B[0])<kt.MAX_PATTERN_DRIFT&&Math.abs(O[1]-B[1])<kt.MAX_PATTERN_DRIFT)O=B,D=0;else{if(D>kt.SKIPPED_ROW_COUNT_MAX)break;D++}}T-=D+1,g[2]=new St(O[0],T),g[3]=new St(O[1],T)}return T-u<kt.BARCODE_MIN_HEIGHT&&nt.fill(g,null),g}static findGuardPattern(e,i,s,u,c,d,g){nt.fillWithin(g,0,g.length,0);let y=i,w=0;for(;e.get(y,s)&&y>0&&w++<kt.MAX_PIXEL_DRIFT;)y--;let T=y,D=0,O=d.length;for(let B=c;T<u;T++)if(e.get(T,s)!==B)g[D]++;else{if(D===O-1){if(kt.patternMatchVariance(g,d,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return new Int32Array([y,T]);y+=g[0]+g[1],X.arraycopy(g,2,g,0,D-1),g[D-1]=0,g[D]=0,D--}else D++;g[D]=1,B=!B}return D===O-1&&kt.patternMatchVariance(g,d,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE?new Int32Array([y,T-1]):null}static patternMatchVariance(e,i,s){let u=e.length,c=0,d=0;for(let w=0;w<u;w++)c+=e[w],d+=i[w];if(c<d)return 1/0;let g=c/d;s*=g;let y=0;for(let w=0;w<u;w++){let T=e[w],D=i[w]*g,O=T>D?T-D:D-T;if(O>s)return 1/0;y+=O}return y/c}}kt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),kt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),kt.MAX_AVG_VARIANCE=.42,kt.MAX_INDIVIDUAL_VARIANCE=.8,kt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),kt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),kt.MAX_PIXEL_DRIFT=3,kt.MAX_PATTERN_DRIFT=5,kt.SKIPPED_ROW_COUNT_MAX=25,kt.ROW_STEP=5,kt.BARCODE_MIN_HEIGHT=10;class Ve{constructor(e,i){if(i.length===0)throw new I;this.field=e;let s=i.length;if(s>1&&i[0]===0){let u=1;for(;u<s&&i[u]===0;)u++;u===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-u),X.arraycopy(i,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let u=0;for(let c of this.coefficients)u=this.field.add(u,c);return u}let i=this.coefficients[0],s=this.coefficients.length;for(let u=1;u<s;u++)i=this.field.add(this.field.multiply(e,i),this.coefficients[u]);return i}add(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,s=e.coefficients;if(i.length>s.length){let d=i;i=s,s=d}let u=new Int32Array(s.length),c=s.length-i.length;X.arraycopy(s,0,u,0,c);for(let d=c;d<s.length;d++)u[d]=this.field.add(i[d-c],s[d]);return new Ve(this.field,u)}subtract(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Ve?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Ve(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,u=e.coefficients,c=u.length,d=new Int32Array(s+c-1);for(let g=0;g<s;g++){let y=i[g];for(let w=0;w<c;w++)d[g+w]=this.field.add(d[g+w],this.field.multiply(y,u[w]))}return new Ve(this.field,d)}negative(){let e=this.coefficients.length,i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new Ve(this.field,i)}multiplyScalar(e){if(e===0)return new Ve(this.field,new Int32Array([0]));if(e===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=this.field.multiply(this.coefficients[u],e);return new Ve(this.field,s)}multiplyByMonomial(e,i){if(e<0)throw new I;if(i===0)return new Ve(this.field,new Int32Array([0]));let s=this.coefficients.length,u=new Int32Array(s+e);for(let c=0;c<s;c++)u[c]=this.field.multiply(this.coefficients[c],i);return new Ve(this.field,u)}toString(){let e=new $t;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(e.append(" - "),s=-s):e.length()>0&&e.append(" + "),(i===0||s!==1)&&e.append(s),i!==0&&(i===1?e.append("x"):(e.append("x^"),e.append(i))))}return e.toString()}}class Gi{add(e,i){return(e+i)%this.modulus}subtract(e,i){return(this.modulus+e-i)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}inverse(e){if(e===0)throw new Fr;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ia extends Gi{constructor(e,i){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let s=1;for(let u=0;u<e;u++)this.expTable[u]=s,s=s*i%e;for(let u=0;u<e-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Ve(this,new Int32Array([0])),this.one=new Ve(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new I;if(i===0)return this.zero;let s=new Int32Array(e+1);return s[0]=i,new Ve(this,s)}}Ia.PDF417_GF=new Ia(Ot.NUMBER_OF_CODEWORDS,3);class Oa{constructor(){this.field=Ia.PDF417_GF}decode(e,i,s){let u=new Ve(this.field,e),c=new Int32Array(i),d=!1;for(let k=i;k>0;k--){let F=u.evaluateAt(this.field.exp(k));c[i-k]=F,F!==0&&(d=!0)}if(!d)return 0;let g=this.field.getOne();if(s!=null)for(const k of s){let F=this.field.exp(e.length-1-k),q=new Ve(this.field,new Int32Array([this.field.subtract(0,F),1]));g=g.multiply(q)}let y=new Ve(this.field,c),w=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),y,i),T=w[0],D=w[1],O=this.findErrorLocations(T),B=this.findErrorMagnitudes(D,T,O);for(let k=0;k<O.length;k++){let F=e.length-1-this.field.log(O[k]);if(F<0)throw U.getChecksumInstance();e[F]=this.field.subtract(e[F],B[k])}return O.length}runEuclideanAlgorithm(e,i,s){if(e.getDegree()<i.getDegree()){let O=e;e=i,i=O}let u=e,c=i,d=this.field.getZero(),g=this.field.getOne();for(;c.getDegree()>=Math.round(s/2);){let O=u,B=d;if(u=c,d=g,u.isZero())throw U.getChecksumInstance();c=O;let k=this.field.getZero(),F=u.getCoefficient(u.getDegree()),q=this.field.inverse(F);for(;c.getDegree()>=u.getDegree()&&!c.isZero();){let tt=c.getDegree()-u.getDegree(),gt=this.field.multiply(c.getCoefficient(c.getDegree()),q);k=k.add(this.field.buildMonomial(tt,gt)),c=c.subtract(u.multiplyByMonomial(tt,gt))}g=k.multiply(d).subtract(B).negative()}let y=g.getCoefficient(0);if(y===0)throw U.getChecksumInstance();let w=this.field.inverse(y),T=g.multiply(w),D=c.multiply(w);return[T,D]}findErrorLocations(e){let i=e.getDegree(),s=new Int32Array(i),u=0;for(let c=1;c<this.field.getSize()&&u<i;c++)e.evaluateAt(c)===0&&(s[u]=this.field.inverse(c),u++);if(u!==i)throw U.getChecksumInstance();return s}findErrorMagnitudes(e,i,s){let u=i.getDegree(),c=new Int32Array(u);for(let w=1;w<=u;w++)c[u-w]=this.field.multiply(w,i.getCoefficient(w));let d=new Ve(this.field,c),g=s.length,y=new Int32Array(g);for(let w=0;w<g;w++){let T=this.field.inverse(s[w]),D=this.field.subtract(0,e.evaluateAt(T)),O=this.field.inverse(d.evaluateAt(T));y[w]=this.field.multiply(D,O)}return y}}class Yi{constructor(e,i,s,u,c){e instanceof Yi?this.constructor_2(e):this.constructor_1(e,i,s,u,c)}constructor_1(e,i,s,u,c){const d=i==null||s==null,g=u==null||c==null;if(d&&g)throw new rt;d?(i=new St(0,u.getY()),s=new St(0,c.getY())):g&&(u=new St(e.getWidth()-1,i.getY()),c=new St(e.getWidth()-1,s.getY())),this.image=e,this.topLeft=i,this.bottomLeft=s,this.topRight=u,this.bottomRight=c,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(u.getX(),c.getX())),this.minY=Math.trunc(Math.min(i.getY(),u.getY())),this.maxY=Math.trunc(Math.max(s.getY(),c.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,i){return e==null?i:i==null?e:new Yi(e.image,e.topLeft,e.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(e,i,s){let u=this.topLeft,c=this.bottomLeft,d=this.topRight,g=this.bottomRight;if(e>0){let y=s?this.topLeft:this.topRight,w=Math.trunc(y.getY()-e);w<0&&(w=0);let T=new St(y.getX(),w);s?u=T:d=T}if(i>0){let y=s?this.bottomLeft:this.bottomRight,w=Math.trunc(y.getY()+i);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let T=new St(y.getX(),w);s?c=T:g=T}return new Yi(this.image,u,c,d,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ds{constructor(e,i,s,u){this.columnCount=e,this.errorCorrectionLevel=u,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xi{constructor(){this.buffer=""}static form(e,i){let s=-1;function u(d,g,y,w,T,D){if(d==="%%")return"%";if(i[++s]===void 0)return;d=w?parseInt(w.substr(1)):void 0;let O=T?parseInt(T.substr(1)):void 0,B;switch(D){case"s":B=i[s];break;case"c":B=i[s][0];break;case"f":B=parseFloat(i[s]).toFixed(d);break;case"p":B=parseFloat(i[s]).toPrecision(d);break;case"e":B=parseFloat(i[s]).toExponential(d);break;case"x":B=parseInt(i[s]).toString(O||16);break;case"d":B=parseFloat(parseInt(i[s],O||10).toPrecision(d)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(O);let k=parseInt(y),F=y&&y[0]+""=="0"?"0":" ";for(;B.length<k;)B=g!==void 0?B+F:F+B;return B}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,u)}format(e,...i){this.buffer+=Xi.form(e,i)}toString(){return this.buffer}}class jr{constructor(e){this.boundingBox=new Yi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let i=this.getCodeword(e);if(i!=null)return i;for(let s=1;s<jr.MAX_NEARBY_DISTANCE;s++){let u=this.imageRowToCodewordIndex(e)-s;if(u>=0&&(i=this.codewords[u],i!=null)||(u=this.imageRowToCodewordIndex(e)+s,u<this.codewords.length&&(i=this.codewords[u],i!=null)))return i}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,i){this.codewords[this.imageRowToCodewordIndex(e)]=i}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Xi;let i=0;for(const s of this.codewords){if(s==null){e.format("%3d:    |   %n",i++);continue}e.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return e.toString()}}jr.MAX_NEARBY_DISTANCE=5;class sn{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let i=this.values.get(e);i==null&&(i=0),i++,this.values.set(e,i)}getValue(){let e=-1,i=new Array;for(const[s,u]of this.values.entries()){const c={getKey:()=>s,getValue:()=>u};c.getValue()>e?(e=c.getValue(),i=[],i.push(c.getKey())):c.getValue()===e&&i.push(c.getKey())}return Ot.toIntArray(i)}getConfidence(e){return this.values.get(e)}}class Zi extends jr{constructor(e,i){super(e),this._isLeft=i}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,e);let s=this.getBoundingBox(),u=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.imageRowToCodewordIndex(Math.trunc(c.getY())),y=-1,w=1,T=0;for(let D=d;D<g;D++){if(i[D]==null)continue;let O=i[D],B=O.getRowNumber()-y;if(B===0)T++;else if(B===1)w=Math.max(w,T),T=1,y=O.getRowNumber();else if(B<0||O.getRowNumber()>=e.getRowCount()||B>D)i[D]=null;else{let k;w>2?k=(w-2)*B:k=B;let F=k>=D;for(let q=1;q<=k&&!F;q++)F=i[D-q]!=null;F?i[D]=null:(y=O.getRowNumber(),T=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let i=new Int32Array(e.getRowCount());for(let s of this.getCodewords())if(s!=null){let u=s.getRowNumber();if(u>=i.length)continue;i[u]++}return i}adjustIncompleteIndicatorColumnRowNumbers(e){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=this.getCodewords(),y=-1;for(let w=c;w<d;w++){if(g[w]==null)continue;let T=g[w];T.setRowNumberAsRowIndicatorColumn();let D=T.getRowNumber()-y;D===0||(D===1?y=T.getRowNumber():T.getRowNumber()>=e.getRowCount()?g[w]=null:y=T.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),i=new sn,s=new sn,u=new sn,c=new sn;for(let g of e){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,w=g.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:s.setValue(y*3+1);break;case 1:c.setValue(y/3),u.setValue(y%3);break;case 2:i.setValue(y+1);break}}if(i.getValue().length===0||s.getValue().length===0||u.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+u.getValue()[0]<Ot.MIN_ROWS_IN_BARCODE||s.getValue()[0]+u.getValue()[0]>Ot.MAX_ROWS_IN_BARCODE)return null;let d=new ds(i.getValue()[0],s.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(e,d),d}removeIncorrectCodewords(e,i){for(let s=0;s<e.length;s++){let u=e[s];if(e[s]==null)continue;let c=u.getValue()%30,d=u.getRowNumber();if(d>i.getRowCount()){e[s]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:c*3+1!==i.getRowCountUpperPart()&&(e[s]=null);break;case 1:(Math.trunc(c/3)!==i.getErrorCorrectionLevel()||c%3!==i.getRowCountLowerPart())&&(e[s]=null);break;case 2:c+1!==i.getColumnCount()&&(e[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class qi{constructor(e,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ot.MAX_CODEWORDS_IN_BARCODE,i;do i=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let u=0;u<s.length;u++)s[u]!=null&&(s[u].hasValidRowNumber()||this.adjustRowNumbers(i,u,s))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<e.length;s++)if(e[s]!=null&&i[s]!=null&&e[s].getRowNumber()===i[s].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let c=this.detectionResultColumns[u].getCodewords()[s];c!=null&&(c.setRowNumber(e[s].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let u=i[s].getRowNumber(),c=0;for(let d=this.barcodeColumnCount+1;d>0&&c<this.ADJUST_ROW_NUMBER_SKIP;d--){let g=this.detectionResultColumns[d].getCodewords()[s];g!=null&&(c=qi.adjustRowNumberIfValid(u,c,g),g.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let u=i[s].getRowNumber(),c=0;for(let d=1;d<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;d++){let g=this.detectionResultColumns[d].getCodewords()[s];g!=null&&(c=qi.adjustRowNumberIfValid(u,c,g),g.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(e)?(s.setRowNumber(e),i=0):++i),i}adjustRowNumbers(e,i,s){if(!this.detectionResultColumns[e-1])return;let u=s[i],c=this.detectionResultColumns[e-1].getCodewords(),d=c;this.detectionResultColumns[e+1]!=null&&(d=this.detectionResultColumns[e+1].getCodewords());let g=new Array(14);g[2]=c[i],g[3]=d[i],i>0&&(g[0]=s[i-1],g[4]=c[i-1],g[5]=d[i-1]),i>1&&(g[8]=s[i-2],g[10]=c[i-2],g[11]=d[i-2]),i<s.length-1&&(g[1]=s[i+1],g[6]=c[i+1],g[7]=d[i+1]),i<s.length-2&&(g[9]=s[i+2],g[12]=c[i+2],g[13]=d[i+2]);for(let y of g)if(qi.adjustRowNumber(u,y))return}static adjustRowNumber(e,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===e.getBucket()?(e.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,i){this.detectionResultColumns[e]=i}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Xi;for(let s=0;s<e.getCodewords().length;s++){i.format("CW %3d:",s);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){i.format("    |   ");continue}let c=this.detectionResultColumns[u].getCodewords()[s];if(c==null){i.format("    |   ");continue}i.format(" %3d|%3d",c.getRowNumber(),c.getValue())}i.format("%n")}return i.toString()}}class Ri{constructor(e,i,s,u){this.rowNumber=Ri.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ri.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ri.BARCODE_ROW_UNKNOWN=-1;class Bn{static initialize(){for(let e=0;e<Ot.SYMBOL_TABLE.length;e++){let i=Ot.SYMBOL_TABLE[e],s=i&1;for(let u=0;u<Ot.BARS_IN_MODULE;u++){let c=0;for(;(i&1)===s;)c+=1,i>>=1;s=i&1,Bn.RATIOS_TABLE[e]||(Bn.RATIOS_TABLE[e]=new Array(Ot.BARS_IN_MODULE)),Bn.RATIOS_TABLE[e][Ot.BARS_IN_MODULE-u-1]=Math.fround(c/Ot.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let i=Bn.getDecodedCodewordValue(Bn.sampleBitCounts(e));return i!==-1?i:Bn.getClosestDecodedValue(e)}static sampleBitCounts(e){let i=Kt.sum(e),s=new Int32Array(Ot.BARS_IN_MODULE),u=0,c=0;for(let d=0;d<Ot.MODULES_IN_CODEWORD;d++){let g=i/(2*Ot.MODULES_IN_CODEWORD)+d*i/Ot.MODULES_IN_CODEWORD;c+e[u]<=g&&(c+=e[u],u++),s[u]++}return s}static getDecodedCodewordValue(e){let i=Bn.getBitValue(e);return Ot.getCodeword(i)===-1?-1:i}static getBitValue(e){let i=0;for(let s=0;s<e.length;s++)for(let u=0;u<e[s];u++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(e){let i=Kt.sum(e),s=new Array(Ot.BARS_IN_MODULE);if(i>1)for(let d=0;d<s.length;d++)s[d]=Math.fround(e[d]/i);let u=Ta.MAX_VALUE,c=-1;this.bSymbolTableReady||Bn.initialize();for(let d=0;d<Bn.RATIOS_TABLE.length;d++){let g=0,y=Bn.RATIOS_TABLE[d];for(let w=0;w<Ot.BARS_IN_MODULE;w++){let T=Math.fround(y[w]-s[w]);if(g+=Math.fround(T*T),g>=u)break}g<u&&(u=g,c=Ot.SYMBOL_TABLE[d])}return c}}Bn.bSymbolTableReady=!1,Bn.RATIOS_TABLE=new Array(Ot.SYMBOL_TABLE.length).map(M=>new Array(Ot.BARS_IN_MODULE));class gs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class ms{static parseLong(e,i=void 0){return parseInt(e,i)}}class Hr extends C{}Hr.kind="NullPointerException";class xs{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,i,s){if(e==null)throw new Hr;if(i<0||i>e.length||s<0||i+s>e.length||i+s<0)throw new H;if(s===0)return;for(let u=0;u<s;u++)this.write(e[i+u])}flush(){}close(){}}class jl extends C{}class Tc extends xs{constructor(e=32){if(super(),this.count=0,e<0)throw new I("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let s=this.buf.length<<1;if(s-e<0&&(s=e),s<0){if(e<0)throw new jl;s=Y.MAX_VALUE}this.buf=nt.copyOfUint8Array(this.buf,s)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,i,s){if(i<0||i>e.length||s<0||i+s-e.length>0)throw new H;this.ensureCapacity(this.count+s),X.arraycopy(e,i,this.buf,this.count,s),this.count+=s}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return nt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var he;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(he||(he={}));function Hl(){if(typeof window<"u")return window.BigInt||null;if(typeof Zu<"u")return Zu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Gr;function Wi(M){if(typeof Gr>"u"&&(Gr=Hl()),Gr===null)throw new Error("BigInt is not supported!");return Gr(M)}function vc(){let M=[];M[0]=Wi(1);let e=Wi(900);M[1]=e;for(let i=2;i<16;i++)M[i]=M[i-1]*e;return M}class it{static decode(e,i){let s=new $t(""),u=lt.ISO8859_1;s.enableDecoding(u);let c=1,d=e[c++],g=new gs;for(;c<e[0];){switch(d){case it.TEXT_COMPACTION_MODE_LATCH:c=it.textCompaction(e,c,s);break;case it.BYTE_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:c=it.byteCompaction(d,e,u,c,s);break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(e[c++]);break;case it.NUMERIC_COMPACTION_MODE_LATCH:c=it.numericCompaction(e,c,s);break;case it.ECI_CHARSET:lt.getCharacterSetECIByValue(e[c++]);break;case it.ECI_GENERAL_PURPOSE:c+=2;break;case it.ECI_USER_DEFINED:c++;break;case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=it.decodeMacroBlock(e,c,g);break;case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:throw new ut;default:c--,c=it.textCompaction(e,c,s);break}if(c<e.length)d=e[c++];else throw ut.getFormatInstance()}if(s.length()===0)throw ut.getFormatInstance();let y=new hi(null,s.toString(),null,i);return y.setOther(g),y}static decodeMacroBlock(e,i,s){if(i+it.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ut.getFormatInstance();let u=new Int32Array(it.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<it.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)u[g]=e[i];s.setSegmentIndex(Y.parseInt(it.decodeBase900toBase10(u,it.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new $t;i=it.textCompaction(e,i,c),s.setFileId(c.toString());let d=-1;for(e[i]===it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<e[0];)switch(e[i]){case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,e[i]){case it.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new $t;i=it.textCompaction(e,i+1,g),s.setFileName(g.toString());break;case it.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new $t;i=it.textCompaction(e,i+1,y),s.setSender(y.toString());break;case it.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new $t;i=it.textCompaction(e,i+1,w),s.setAddressee(w.toString());break;case it.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new $t;i=it.numericCompaction(e,i+1,T),s.setSegmentCount(Y.parseInt(T.toString()));break;case it.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new $t;i=it.numericCompaction(e,i+1,D),s.setTimestamp(ms.parseLong(D.toString()));break;case it.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new $t;i=it.numericCompaction(e,i+1,O),s.setChecksum(Y.parseInt(O.toString()));break;case it.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new $t;i=it.numericCompaction(e,i+1,B),s.setFileSize(ms.parseLong(B.toString()));break;default:throw ut.getFormatInstance()}break;case it.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw ut.getFormatInstance()}if(d!==-1){let g=i-d;s.isLastSegment()&&g--,s.setOptionalData(nt.copyOfRange(e,d,d+g))}return i}static textCompaction(e,i,s){let u=new Int32Array((e[0]-i)*2),c=new Int32Array((e[0]-i)*2),d=0,g=!1;for(;i<e[0]&&!g;){let y=e[i++];if(y<it.TEXT_COMPACTION_MODE_LATCH)u[d]=y/30,u[d+1]=y%30,d+=2;else switch(y){case it.TEXT_COMPACTION_MODE_LATCH:u[d++]=it.TEXT_COMPACTION_MODE_LATCH;break;case it.BYTE_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:case it.NUMERIC_COMPACTION_MODE_LATCH:case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=e[i++],c[d]=y,d++;break}}return it.decodeTextCompaction(u,c,d,s),i}static decodeTextCompaction(e,i,s,u){let c=he.ALPHA,d=he.ALPHA,g=0;for(;g<s;){let y=e[g],w="";switch(c){case he.ALPHA:if(y<26)w=String.fromCharCode(65+y);else switch(y){case 26:w=" ";break;case it.LL:c=he.LOWER;break;case it.ML:c=he.MIXED;break;case it.PS:d=c,c=he.PUNCT_SHIFT;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case it.TEXT_COMPACTION_MODE_LATCH:c=he.ALPHA;break}break;case he.LOWER:if(y<26)w=String.fromCharCode(97+y);else switch(y){case 26:w=" ";break;case it.AS:d=c,c=he.ALPHA_SHIFT;break;case it.ML:c=he.MIXED;break;case it.PS:d=c,c=he.PUNCT_SHIFT;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case it.TEXT_COMPACTION_MODE_LATCH:c=he.ALPHA;break}break;case he.MIXED:if(y<it.PL)w=it.MIXED_CHARS[y];else switch(y){case it.PL:c=he.PUNCT;break;case 26:w=" ";break;case it.LL:c=he.LOWER;break;case it.AL:c=he.ALPHA;break;case it.PS:d=c,c=he.PUNCT_SHIFT;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case it.TEXT_COMPACTION_MODE_LATCH:c=he.ALPHA;break}break;case he.PUNCT:if(y<it.PAL)w=it.PUNCT_CHARS[y];else switch(y){case it.PAL:c=he.ALPHA;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case it.TEXT_COMPACTION_MODE_LATCH:c=he.ALPHA;break}break;case he.ALPHA_SHIFT:if(c=d,y<26)w=String.fromCharCode(65+y);else switch(y){case 26:w=" ";break;case it.TEXT_COMPACTION_MODE_LATCH:c=he.ALPHA;break}break;case he.PUNCT_SHIFT:if(c=d,y<it.PAL)w=it.PUNCT_CHARS[y];else switch(y){case it.PAL:c=he.ALPHA;break;case it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[g]);break;case it.TEXT_COMPACTION_MODE_LATCH:c=he.ALPHA;break}break}w!==""&&u.append(w),g++}}static byteCompaction(e,i,s,u,c){let d=new Tc,g=0,y=0,w=!1;switch(e){case it.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),D=i[u++];for(;u<i[0]&&!w;)switch(T[g++]=D,y=900*y+D,D=i[u++],D){case it.TEXT_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH:case it.NUMERIC_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:u--,w=!0;break;default:if(g%5===0&&g>0){for(let O=0;O<6;++O)d.write(Number(Wi(y)>>Wi(8*(5-O))));y=0,g=0}break}u===i[0]&&D<it.TEXT_COMPACTION_MODE_LATCH&&(T[g++]=D);for(let O=0;O<g;O++)d.write(T[O]);break;case it.BYTE_COMPACTION_MODE_LATCH_6:for(;u<i[0]&&!w;){let O=i[u++];if(O<it.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+O;else switch(O){case it.TEXT_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH:case it.NUMERIC_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:u--,w=!0;break}if(g%5===0&&g>0){for(let B=0;B<6;++B)d.write(Number(Wi(y)>>Wi(8*(5-B))));y=0,g=0}}break}return c.append(ue.decode(d.toByteArray(),s)),u}static numericCompaction(e,i,s){let u=0,c=!1,d=new Int32Array(it.MAX_NUMERIC_CODEWORDS);for(;i<e[0]&&!c;){let g=e[i++];if(i===e[0]&&(c=!0),g<it.TEXT_COMPACTION_MODE_LATCH)d[u]=g,u++;else switch(g){case it.TEXT_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH:case it.BYTE_COMPACTION_MODE_LATCH_6:case it.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case it.MACRO_PDF417_TERMINATOR:i--,c=!0;break}(u%it.MAX_NUMERIC_CODEWORDS===0||g===it.NUMERIC_COMPACTION_MODE_LATCH||c)&&u>0&&(s.append(it.decodeBase900toBase10(d,u)),u=0)}return i}static decodeBase900toBase10(e,i){let s=Wi(0);for(let c=0;c<i;c++)s+=it.EXP900[i-c-1]*Wi(e[c]);let u=s.toString();if(u.charAt(0)!=="1")throw new ut;return u.substring(1)}}it.TEXT_COMPACTION_MODE_LATCH=900,it.BYTE_COMPACTION_MODE_LATCH=901,it.NUMERIC_COMPACTION_MODE_LATCH=902,it.BYTE_COMPACTION_MODE_LATCH_6=924,it.ECI_USER_DEFINED=925,it.ECI_GENERAL_PURPOSE=926,it.ECI_CHARSET=927,it.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,it.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,it.MACRO_PDF417_TERMINATOR=922,it.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,it.MAX_NUMERIC_CODEWORDS=15,it.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,it.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,it.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,it.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,it.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,it.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,it.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,it.PL=25,it.LL=27,it.AS=27,it.ML=28,it.AL=28,it.PS=29,it.PAL=29,it.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,it.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",it.EXP900=Hl()?vc():[],it.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Vt{constructor(){}static decode(e,i,s,u,c,d,g){let y=new Yi(e,i,s,u,c),w=null,T=null,D;for(let k=!0;;k=!1){if(i!=null&&(w=Vt.getRowIndicatorColumn(e,y,i,!0,d,g)),u!=null&&(T=Vt.getRowIndicatorColumn(e,y,u,!1,d,g)),D=Vt.merge(w,T),D==null)throw rt.getNotFoundInstance();let F=D.getBoundingBox();if(k&&F!=null&&(F.getMinY()<y.getMinY()||F.getMaxY()>y.getMaxY()))y=F;else break}D.setBoundingBox(y);let O=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,w),D.setDetectionResultColumn(O,T);let B=w!=null;for(let k=1;k<=O;k++){let F=B?k:O-k;if(D.getDetectionResultColumn(F)!==void 0)continue;let q;F===0||F===O?q=new Zi(y,F===0):q=new jr(y),D.setDetectionResultColumn(F,q);let tt=-1,gt=tt;for(let mt=y.getMinY();mt<=y.getMaxY();mt++){if(tt=Vt.getStartColumn(D,F,mt,B),tt<0||tt>y.getMaxX()){if(gt===-1)continue;tt=gt}let dt=Vt.detectCodeword(e,y.getMinX(),y.getMaxX(),B,tt,mt,d,g);dt!=null&&(q.setCodeword(mt,dt),gt=tt,d=Math.min(d,dt.getWidth()),g=Math.max(g,dt.getWidth()))}}return Vt.createDecoderResult(D)}static merge(e,i){if(e==null&&i==null)return null;let s=Vt.getBarcodeMetadata(e,i);if(s==null)return null;let u=Yi.merge(Vt.adjustBoundingBox(e),Vt.adjustBoundingBox(i));return new qi(s,u)}static adjustBoundingBox(e){if(e==null)return null;let i=e.getRowHeights();if(i==null)return null;let s=Vt.getMax(i),u=0;for(let g of i)if(u+=s-g,g>0)break;let c=e.getCodewords();for(let g=0;u>0&&c[g]==null;g++)u--;let d=0;for(let g=i.length-1;g>=0&&(d+=s-i[g],!(i[g]>0));g--);for(let g=c.length-1;d>0&&c[g]==null;g--)d--;return e.getBoundingBox().addMissingRows(u,d,e.isLeft())}static getMax(e){let i=-1;for(let s of e)i=Math.max(i,s);return i}static getBarcodeMetadata(e,i){let s;if(e==null||(s=e.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let u;return i==null||(u=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==u.getColumnCount()&&s.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&s.getRowCount()!==u.getRowCount()?null:s}static getRowIndicatorColumn(e,i,s,u,c,d){let g=new Zi(i,u);for(let y=0;y<2;y++){let w=y===0?1:-1,T=Math.trunc(Math.trunc(s.getX()));for(let D=Math.trunc(Math.trunc(s.getY()));D<=i.getMaxY()&&D>=i.getMinY();D+=w){let O=Vt.detectCodeword(e,0,e.getWidth(),u,T,D,c,d);O!=null&&(g.setCodeword(D,O),u?T=O.getStartX():T=O.getEndX())}}return g}static adjustCodewordCount(e,i){let s=i[0][1],u=s.getValue(),c=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Vt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(u.length===0){if(c<1||c>Ot.MAX_CODEWORDS_IN_BARCODE)throw rt.getNotFoundInstance();s.setValue(c)}else u[0]!==c&&s.setValue(c)}static createDecoderResult(e){let i=Vt.createBarcodeMatrix(e);Vt.adjustCodewordCount(e,i);let s=new Array,u=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),c=[],d=new Array;for(let y=0;y<e.getBarcodeRowCount();y++)for(let w=0;w<e.getBarcodeColumnCount();w++){let T=i[y][w+1].getValue(),D=y*e.getBarcodeColumnCount()+w;T.length===0?s.push(D):T.length===1?u[D]=T[0]:(d.push(D),c.push(T))}let g=new Array(c.length);for(let y=0;y<g.length;y++)g[y]=c[y];return Vt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),u,Ot.toIntArray(s),Ot.toIntArray(d),g)}static createDecoderResultFromAmbiguousValues(e,i,s,u,c){let d=new Int32Array(u.length),g=100;for(;g-- >0;){for(let y=0;y<d.length;y++)i[u[y]]=c[y][d[y]];try{return Vt.decodeCodewords(i,e,s)}catch(y){if(!(y instanceof U))throw y}if(d.length===0)throw U.getChecksumInstance();for(let y=0;y<d.length;y++)if(d[y]<c[y].length-1){d[y]++;break}else if(d[y]=0,y===d.length-1)throw U.getChecksumInstance()}throw U.getChecksumInstance()}static createBarcodeMatrix(e){let i=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let u=0;u<i.length;u++)for(let c=0;c<i[u].length;c++)i[u][c]=new sn;let s=0;for(let u of e.getDetectionResultColumns()){if(u!=null){for(let c of u.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][s].setValue(c.getValue())}}}s++}return i}static isValidBarcodeColumn(e,i){return i>=0&&i<=e.getBarcodeColumnCount()+1}static getStartColumn(e,i,s,u){let c=u?1:-1,d=null;if(Vt.isValidBarcodeColumn(e,i-c)&&(d=e.getDetectionResultColumn(i-c).getCodeword(s)),d!=null)return u?d.getEndX():d.getStartX();if(d=e.getDetectionResultColumn(i).getCodewordNearby(s),d!=null)return u?d.getStartX():d.getEndX();if(Vt.isValidBarcodeColumn(e,i-c)&&(d=e.getDetectionResultColumn(i-c).getCodewordNearby(s)),d!=null)return u?d.getEndX():d.getStartX();let g=0;for(;Vt.isValidBarcodeColumn(e,i-c);){i-=c;for(let y of e.getDetectionResultColumn(i).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+c*g*(y.getEndX()-y.getStartX());g++}return u?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,i,s,u,c,d,g,y){c=Vt.adjustCodewordStartColumn(e,i,s,u,c,d);let w=Vt.getModuleBitCount(e,i,s,u,c,d);if(w==null)return null;let T,D=Kt.sum(w);if(u)T=c+D;else{for(let k=0;k<w.length/2;k++){let F=w[k];w[k]=w[w.length-1-k],w[w.length-1-k]=F}T=c,c=T-D}if(!Vt.checkCodewordSkew(D,g,y))return null;let O=Bn.getDecodedValue(w),B=Ot.getCodeword(O);return B===-1?null:new Ri(c,T,Vt.getCodewordBucketNumber(O),B)}static getModuleBitCount(e,i,s,u,c,d){let g=c,y=new Int32Array(8),w=0,T=u?1:-1,D=u;for(;(u?g<s:g>=i)&&w<y.length;)e.get(g,d)===D?(y[w]++,g+=T):(w++,D=!D);return w===y.length||g===(u?s:i)&&w===y.length-1?y:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,i,s,u,c,d){let g=c,y=u?-1:1;for(let w=0;w<2;w++){for(;(u?g>=i:g<s)&&u===e.get(g,d);){if(Math.abs(c-g)>Vt.CODEWORD_SKEW_SIZE)return c;g+=y}y=-y,u=!u}return g}static checkCodewordSkew(e,i,s){return i-Vt.CODEWORD_SKEW_SIZE<=e&&e<=s+Vt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,i,s){if(e.length===0)throw ut.getFormatInstance();let u=1<<i+1,c=Vt.correctErrors(e,s,u);Vt.verifyCodewordCount(e,u);let d=it.decode(e,""+i);return d.setErrorsCorrected(c),d.setErasures(s.length),d}static correctErrors(e,i,s){if(i!=null&&i.length>s/2+Vt.MAX_ERRORS||s<0||s>Vt.MAX_EC_CODEWORDS)throw U.getChecksumInstance();return Vt.errorCorrection.decode(e,s,i)}static verifyCodewordCount(e,i){if(e.length<4)throw ut.getFormatInstance();let s=e[0];if(s>e.length)throw ut.getFormatInstance();if(s===0)if(i<e.length)e[0]=e.length-i;else throw ut.getFormatInstance()}static getBitCountForCodeword(e){let i=new Int32Array(8),s=0,u=i.length-1;for(;!((e&1)!==s&&(s=e&1,u--,u<0));)i[u]++,e>>=1;return i}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Vt.getCodewordBucketNumber(Vt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let i=new Xi;for(let s=0;s<e.length;s++){i.format("Row %2d: ",s);for(let u=0;u<e[s].length;u++){let c=e[s][u];c.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}i.format("%n")}return i.toString()}}Vt.CODEWORD_SKEW_SIZE=2,Vt.MAX_ERRORS=3,Vt.MAX_EC_CODEWORDS=512,Vt.errorCorrection=new Oa;class gn{decode(e,i=null){let s=gn.decode(e,i,!1);if(s==null||s.length===0||s[0]==null)throw rt.getNotFoundInstance();return s[0]}decodeMultiple(e,i=null){try{return gn.decode(e,i,!0)}catch(s){throw s instanceof ut||s instanceof U?rt.getNotFoundInstance():s}}static decode(e,i,s){const u=new Array,c=kt.detectMultiple(e,i,s);for(const d of c.getPoints()){const g=Vt.decode(c.getBits(),d[4],d[5],d[6],d[7],gn.getMinCodewordWidth(d),gn.getMaxCodewordWidth(d)),y=new ie(g.getText(),g.getRawBytes(),void 0,d,Nt.PDF_417);y.putMetadata(Fe.ERROR_CORRECTION_LEVEL,g.getECLevel());const w=g.getOther();w!=null&&y.putMetadata(Fe.PDF417_EXTRA_METADATA,w),u.push(y)}return u.map(d=>d)}static getMaxWidth(e,i){return e==null||i==null?0:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMinWidth(e,i){return e==null||i==null?Y.MAX_VALUE:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(gn.getMaxWidth(e[0],e[4]),gn.getMaxWidth(e[6],e[2])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN),Math.max(gn.getMaxWidth(e[1],e[5]),gn.getMaxWidth(e[7],e[3])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(gn.getMinWidth(e[0],e[4]),gn.getMinWidth(e[6],e[2])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN),Math.min(gn.getMinWidth(e[1],e[5]),gn.getMinWidth(e[7],e[3])*Ot.MODULES_IN_CODEWORD/Ot.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ra extends C{}Ra.kind="ReaderException";class Gl{constructor(e,i){this.verbose=e===!0,i&&this.setHints(i)}decode(e,i){return i&&this.setHints(i),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const i=!h(e)&&e.get(wt.TRY_HARDER)===!0,s=h(e)?null:e.get(wt.POSSIBLE_FORMATS),u=new Array;if(!h(s)){const c=s.some(d=>d===Nt.UPC_A||d===Nt.UPC_E||d===Nt.EAN_13||d===Nt.EAN_8||d===Nt.CODABAR||d===Nt.CODE_39||d===Nt.CODE_93||d===Nt.CODE_128||d===Nt.ITF||d===Nt.RSS_14||d===Nt.RSS_EXPANDED);c&&!i&&u.push(new zi(e,this.verbose)),s.includes(Nt.QR_CODE)&&u.push(new Ii),s.includes(Nt.DATA_MATRIX)&&u.push(new ei),s.includes(Nt.AZTEC)&&u.push(new as),s.includes(Nt.PDF_417)&&u.push(new gn),c&&i&&u.push(new zi(e,this.verbose))}u.length===0&&(i||u.push(new zi(e,this.verbose)),u.push(new Ii),u.push(new ei),u.push(new as),u.push(new gn),i&&u.push(new zi(e,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Ra("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(e,this.hints)}catch(s){if(s instanceof Ra)continue}throw new rt("No MultiFormat Readers were able to detect the code.")}}class Nc extends Qt{constructor(e=null,i=500){const s=new Gl;s.setHints(e),super(s,i)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Mc extends Qt{constructor(e=500){super(new gn,e)}}class Dc extends Qt{constructor(e=500){super(new Ii,e)}}var _a;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(_a||(_a={}));var tn=_a;class mo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new un(e,Int32Array.from([1])))}buildGenerator(e){const i=this.cachedGenerators;if(e>=i.length){let s=i[i.length-1];const u=this.field;for(let c=i.length;c<=e;c++){const d=s.multiply(new un(u,Int32Array.from([1,u.exp(c-1+u.getGeneratorBase())])));i.push(d),s=d}}return i[e]}encode(e,i){if(i===0)throw new I("No error correction bytes");const s=e.length-i;if(s<=0)throw new I("No data bytes provided");const u=this.buildGenerator(i),c=new Int32Array(s);X.arraycopy(e,0,c,0,s);let d=new un(this.field,c);d=d.multiplyByMonomial(i,1);const y=d.divide(u)[1].getCoefficients(),w=i-y.length;for(let T=0;T<w;T++)e[s+T]=0;X.arraycopy(y,0,e,s+w,y.length)}}class Ue{constructor(){}static applyMaskPenaltyRule1(e){return Ue.applyMaskPenaltyRule1Internal(e,!0)+Ue.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let i=0;const s=e.getArray(),u=e.getWidth(),c=e.getHeight();for(let d=0;d<c-1;d++){const g=s[d];for(let y=0;y<u-1;y++){const w=g[y];w===g[y+1]&&w===s[d+1][y]&&w===s[d+1][y+1]&&i++}}return Ue.N2*i}static applyMaskPenaltyRule3(e){let i=0;const s=e.getArray(),u=e.getWidth(),c=e.getHeight();for(let d=0;d<c;d++)for(let g=0;g<u;g++){const y=s[d];g+6<u&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Ue.isWhiteHorizontal(y,g-4,g)||Ue.isWhiteHorizontal(y,g+7,g+11))&&i++,d+6<c&&s[d][g]===1&&s[d+1][g]===0&&s[d+2][g]===1&&s[d+3][g]===1&&s[d+4][g]===1&&s[d+5][g]===0&&s[d+6][g]===1&&(Ue.isWhiteVertical(s,g,d-4,d)||Ue.isWhiteVertical(s,g,d+7,d+11))&&i++}return i*Ue.N3}static isWhiteHorizontal(e,i,s){i=Math.max(i,0),s=Math.min(s,e.length);for(let u=i;u<s;u++)if(e[u]===1)return!1;return!0}static isWhiteVertical(e,i,s,u){s=Math.max(s,0),u=Math.min(u,e.length);for(let c=s;c<u;c++)if(e[c][i]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let i=0;const s=e.getArray(),u=e.getWidth(),c=e.getHeight();for(let y=0;y<c;y++){const w=s[y];for(let T=0;T<u;T++)w[T]===1&&i++}const d=e.getHeight()*e.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*Ue.N4}static getDataMaskBit(e,i,s){let u,c;switch(e){case 0:u=s+i&1;break;case 1:u=s&1;break;case 2:u=i%3;break;case 3:u=(s+i)%3;break;case 4:u=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:c=s*i,u=(c&1)+c%3;break;case 6:c=s*i,u=(c&1)+c%3&1;break;case 7:c=s*i,u=c%3+(s+i&1)&1;break;default:throw new I("Invalid mask pattern: "+e)}return u===0}static applyMaskPenaltyRule1Internal(e,i){let s=0;const u=i?e.getHeight():e.getWidth(),c=i?e.getWidth():e.getHeight(),d=e.getArray();for(let g=0;g<u;g++){let y=0,w=-1;for(let T=0;T<c;T++){const D=i?d[g][T]:d[T][g];D===w?y++:(y>=5&&(s+=Ue.N1+(y-5)),y=1,w=D)}y>=5&&(s+=Ue.N1+(y-5))}return s}}Ue.N1=3,Ue.N2=3,Ue.N3=40,Ue.N4=10;class Ba{constructor(e,i){this.width=e,this.height=i;const s=new Array(i);for(let u=0;u!==i;u++)s[u]=new Uint8Array(e);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(e,i){return this.bytes[i][e]}getArray(){return this.bytes}setNumber(e,i,s){this.bytes[i][e]=s}setBoolean(e,i,s){this.bytes[i][e]=s?1:0}clear(e){for(const i of this.bytes)nt.fill(i,e)}equals(e){if(!(e instanceof Ba))return!1;const i=e;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,u=this.height;s<u;++s){const c=this.bytes[s],d=i.bytes[s];for(let g=0,y=this.width;g<y;++g)if(c[g]!==d[g])return!1}return!0}toString(){const e=new $t;for(let i=0,s=this.height;i<s;++i){const u=this.bytes[i];for(let c=0,d=this.width;c<d;++c)switch(u[c]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class gr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new $t;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<gr.NUM_MASK_PATTERNS}}gr.NUM_MASK_PATTERNS=8;class me extends C{}me.kind="WriterException";class Rt{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,i,s,u,c){Rt.clearMatrix(c),Rt.embedBasicPatterns(s,c),Rt.embedTypeInfo(i,u,c),Rt.maybeEmbedVersionInfo(s,c),Rt.embedDataBits(e,u,c)}static embedBasicPatterns(e,i){Rt.embedPositionDetectionPatternsAndSeparators(i),Rt.embedDarkDotAtLeftBottomCorner(i),Rt.maybeEmbedPositionAdjustmentPatterns(e,i),Rt.embedTimingPatterns(i)}static embedTypeInfo(e,i,s){const u=new xt;Rt.makeTypeInfoBits(e,i,u);for(let c=0,d=u.getSize();c<d;++c){const g=u.get(u.getSize()-1-c),y=Rt.TYPE_INFO_COORDINATES[c],w=y[0],T=y[1];if(s.setBoolean(w,T,g),c<8){const D=s.getWidth()-c-1;s.setBoolean(D,8,g)}else{const O=s.getHeight()-7+(c-8);s.setBoolean(8,O,g)}}}static maybeEmbedVersionInfo(e,i){if(e.getVersionNumber()<7)return;const s=new xt;Rt.makeVersionInfoBits(e,s);let u=6*3-1;for(let c=0;c<6;++c)for(let d=0;d<3;++d){const g=s.get(u);u--,i.setBoolean(c,i.getHeight()-11+d,g),i.setBoolean(i.getHeight()-11+d,c,g)}}static embedDataBits(e,i,s){let u=0,c=-1,d=s.getWidth()-1,g=s.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);g>=0&&g<s.getHeight();){for(let y=0;y<2;++y){const w=d-y;if(!Rt.isEmpty(s.get(w,g)))continue;let T;u<e.getSize()?(T=e.get(u),++u):T=!1,i!==255&&Ue.getDataMaskBit(i,w,g)&&(T=!T),s.setBoolean(w,g,T)}g+=c}c=-c,g+=c,d-=2}if(u!==e.getSize())throw new me("Not all bits consumed: "+u+"/"+e.getSize())}static findMSBSet(e){return 32-Y.numberOfLeadingZeros(e)}static calculateBCHCode(e,i){if(i===0)throw new I("0 polynomial");const s=Rt.findMSBSet(i);for(e<<=s-1;Rt.findMSBSet(e)>=s;)e^=i<<Rt.findMSBSet(e)-s;return e}static makeTypeInfoBits(e,i,s){if(!gr.isValidMaskPattern(i))throw new me("Invalid mask pattern");const u=e.getBits()<<3|i;s.appendBits(u,5);const c=Rt.calculateBCHCode(u,Rt.TYPE_INFO_POLY);s.appendBits(c,10);const d=new xt;if(d.appendBits(Rt.TYPE_INFO_MASK_PATTERN,15),s.xor(d),s.getSize()!==15)throw new me("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(e,i){i.appendBits(e.getVersionNumber(),6);const s=Rt.calculateBCHCode(e.getVersionNumber(),Rt.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new me("should not happen but we got: "+i.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let i=8;i<e.getWidth()-8;++i){const s=(i+1)%2;Rt.isEmpty(e.get(i,6))&&e.setNumber(i,6,s),Rt.isEmpty(e.get(6,i))&&e.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new me;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,i,s){for(let u=0;u<8;++u){if(!Rt.isEmpty(s.get(e+u,i)))throw new me;s.setNumber(e+u,i,0)}}static embedVerticalSeparationPattern(e,i,s){for(let u=0;u<7;++u){if(!Rt.isEmpty(s.get(e,i+u)))throw new me;s.setNumber(e,i+u,0)}}static embedPositionAdjustmentPattern(e,i,s){for(let u=0;u<5;++u){const c=Rt.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)s.setNumber(e+d,i+u,c[d])}}static embedPositionDetectionPattern(e,i,s){for(let u=0;u<7;++u){const c=Rt.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)s.setNumber(e+d,i+u,c[d])}}static embedPositionDetectionPatternsAndSeparators(e){const i=Rt.POSITION_DETECTION_PATTERN[0].length;Rt.embedPositionDetectionPattern(0,0,e),Rt.embedPositionDetectionPattern(e.getWidth()-i,0,e),Rt.embedPositionDetectionPattern(0,e.getWidth()-i,e);const s=8;Rt.embedHorizontalSeparationPattern(0,s-1,e),Rt.embedHorizontalSeparationPattern(e.getWidth()-s,s-1,e),Rt.embedHorizontalSeparationPattern(0,e.getWidth()-s,e);const u=7;Rt.embedVerticalSeparationPattern(u,0,e),Rt.embedVerticalSeparationPattern(e.getHeight()-u-1,0,e),Rt.embedVerticalSeparationPattern(u,e.getHeight()-u,e)}static maybeEmbedPositionAdjustmentPatterns(e,i){if(e.getVersionNumber()<2)return;const s=e.getVersionNumber()-1,u=Rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let c=0,d=u.length;c!==d;c++){const g=u[c];if(g>=0)for(let y=0;y!==d;y++){const w=u[y];w>=0&&Rt.isEmpty(i.get(w,g))&&Rt.embedPositionAdjustmentPattern(w-2,g-2,i)}}}}Rt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Rt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Rt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Rt.VERSION_INFO_POLY=7973,Rt.TYPE_INFO_POLY=1335,Rt.TYPE_INFO_MASK_PATTERN=21522;class Ic{constructor(e,i){this.dataBytes=e,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Me{constructor(){}static calculateMaskPenalty(e){return Ue.applyMaskPenaltyRule1(e)+Ue.applyMaskPenaltyRule2(e)+Ue.applyMaskPenaltyRule3(e)+Ue.applyMaskPenaltyRule4(e)}static encode(e,i,s=null){let u=Me.DEFAULT_BYTE_MODE_ENCODING;const c=s!==null&&s.get(tn.CHARACTER_SET)!==void 0;c&&(u=s.get(tn.CHARACTER_SET).toString());const d=this.chooseMode(e,u),g=new xt;if(d===Dt.BYTE&&(c||Me.DEFAULT_BYTE_MODE_ENCODING!==u)){const mt=lt.getCharacterSetECIByName(u);mt!==void 0&&this.appendECI(mt,g)}this.appendModeInfo(d,g);const y=new xt;this.appendBytes(e,d,y,u);let w;if(s!==null&&s.get(tn.QR_VERSION)!==void 0){const mt=Number.parseInt(s.get(tn.QR_VERSION).toString(),10);w=Mt.getVersionForNumber(mt);const dt=this.calculateBitsNeeded(d,g,y,w);if(!this.willFit(dt,w,i))throw new me("Data too big for requested version")}else w=this.recommendVersion(i,d,g,y);const T=new xt;T.appendBitArray(g);const D=d===Dt.BYTE?y.getSizeInBytes():e.length;this.appendLengthInfo(D,w,d,T),T.appendBitArray(y);const O=w.getECBlocksForLevel(i),B=w.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(B,T);const k=this.interleaveWithECBytes(T,w.getTotalCodewords(),B,O.getNumBlocks()),F=new gr;F.setECLevel(i),F.setMode(d),F.setVersion(w);const q=w.getDimensionForVersion(),tt=new Ba(q,q),gt=this.chooseMaskPattern(k,i,w,tt);return F.setMaskPattern(gt),Rt.buildMatrix(k,i,w,gt,tt),F.setMatrix(tt),F}static recommendVersion(e,i,s,u){const c=this.calculateBitsNeeded(i,s,u,Mt.getVersionForNumber(1)),d=this.chooseVersion(c,e),g=this.calculateBitsNeeded(i,s,u,d);return this.chooseVersion(g,e)}static calculateBitsNeeded(e,i,s,u){return i.getSize()+e.getCharacterCountBits(u)+s.getSize()}static getAlphanumericCode(e){return e<Me.ALPHANUMERIC_TABLE.length?Me.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,i=null){if(lt.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(e))return Dt.KANJI;let s=!1,u=!1;for(let c=0,d=e.length;c<d;++c){const g=e.charAt(c);if(Me.isDigit(g))s=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)u=!0;else return Dt.BYTE}return u?Dt.ALPHANUMERIC:s?Dt.NUMERIC:Dt.BYTE}static isOnlyDoubleByteKanji(e){let i;try{i=ue.encode(e,lt.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let u=0;u<s;u+=2){const c=i[u]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(e,i,s,u){let c=Number.MAX_SAFE_INTEGER,d=-1;for(let g=0;g<gr.NUM_MASK_PATTERNS;g++){Rt.buildMatrix(e,i,s,g,u);let y=this.calculateMaskPenalty(u);y<c&&(c=y,d=g)}return d}static chooseVersion(e,i){for(let s=1;s<=40;s++){const u=Mt.getVersionForNumber(s);if(Me.willFit(e,u,i))return u}throw new me("Data too big")}static willFit(e,i,s){const u=i.getTotalCodewords(),d=i.getECBlocksForLevel(s).getTotalECCodewords(),g=u-d,y=(e+7)/8;return g>=y}static terminateBits(e,i){const s=e*8;if(i.getSize()>s)throw new me("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let d=0;d<4&&i.getSize()<s;++d)i.appendBit(!1);const u=i.getSize()&7;if(u>0)for(let d=u;d<8;d++)i.appendBit(!1);const c=e-i.getSizeInBytes();for(let d=0;d<c;++d)i.appendBits((d&1)===0?236:17,8);if(i.getSize()!==s)throw new me("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,i,s,u,c,d){if(u>=s)throw new me("Block ID too large");const g=e%s,y=s-g,w=Math.floor(e/s),T=w+1,D=Math.floor(i/s),O=D+1,B=w-D,k=T-O;if(B!==k)throw new me("EC bytes mismatch");if(s!==y+g)throw new me("RS blocks mismatch");if(e!==(D+B)*y+(O+k)*g)throw new me("Total bytes mismatch");u<y?(c[0]=D,d[0]=B):(c[0]=O,d[0]=k)}static interleaveWithECBytes(e,i,s,u){if(e.getSizeInBytes()!==s)throw new me("Number of bits and data bytes does not match");let c=0,d=0,g=0;const y=new Array;for(let T=0;T<u;++T){const D=new Int32Array(1),O=new Int32Array(1);Me.getNumDataBytesAndNumECBytesForBlockID(i,s,u,T,D,O);const B=D[0],k=new Uint8Array(B);e.toBytes(8*c,k,0,B);const F=Me.generateECBytes(k,O[0]);y.push(new Ic(k,F)),d=Math.max(d,B),g=Math.max(g,F.length),c+=D[0]}if(s!==c)throw new me("Data bytes does not match offset");const w=new xt;for(let T=0;T<d;++T)for(const D of y){const O=D.getDataBytes();T<O.length&&w.appendBits(O[T],8)}for(let T=0;T<g;++T)for(const D of y){const O=D.getErrorCorrectionBytes();T<O.length&&w.appendBits(O[T],8)}if(i!==w.getSizeInBytes())throw new me("Interleaving error: "+i+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(e,i){const s=e.length,u=new Int32Array(s+i);for(let d=0;d<s;d++)u[d]=e[d]&255;new mo(te.QR_CODE_FIELD_256).encode(u,i);const c=new Uint8Array(i);for(let d=0;d<i;d++)c[d]=u[s+d];return c}static appendModeInfo(e,i){i.appendBits(e.getBits(),4)}static appendLengthInfo(e,i,s,u){const c=s.getCharacterCountBits(i);if(e>=1<<c)throw new me(e+" is bigger than "+((1<<c)-1));u.appendBits(e,c)}static appendBytes(e,i,s,u){switch(i){case Dt.NUMERIC:Me.appendNumericBytes(e,s);break;case Dt.ALPHANUMERIC:Me.appendAlphanumericBytes(e,s);break;case Dt.BYTE:Me.append8BitBytes(e,s,u);break;case Dt.KANJI:Me.appendKanjiBytes(e,s);break;default:throw new me("Invalid mode: "+i)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const i=Me.getDigit(e);return i>=0&&i<=9}static appendNumericBytes(e,i){const s=e.length;let u=0;for(;u<s;){const c=Me.getDigit(e.charAt(u));if(u+2<s){const d=Me.getDigit(e.charAt(u+1)),g=Me.getDigit(e.charAt(u+2));i.appendBits(c*100+d*10+g,10),u+=3}else if(u+1<s){const d=Me.getDigit(e.charAt(u+1));i.appendBits(c*10+d,7),u+=2}else i.appendBits(c,4),u++}}static appendAlphanumericBytes(e,i){const s=e.length;let u=0;for(;u<s;){const c=Me.getAlphanumericCode(e.charCodeAt(u));if(c===-1)throw new me;if(u+1<s){const d=Me.getAlphanumericCode(e.charCodeAt(u+1));if(d===-1)throw new me;i.appendBits(c*45+d,11),u+=2}else i.appendBits(c,6),u++}}static append8BitBytes(e,i,s){let u;try{u=ue.encode(e,s)}catch(c){throw new me(c)}for(let c=0,d=u.length;c!==d;c++){const g=u[c];i.appendBits(g,8)}}static appendKanjiBytes(e,i){let s;try{s=ue.encode(e,lt.SJIS)}catch(c){throw new me(c)}const u=s.length;for(let c=0;c<u;c+=2){const d=s[c]&255,g=s[c+1]&255,y=d<<8&4294967295|g;let w=-1;if(y>=33088&&y<=40956?w=y-33088:y>=57408&&y<=60351&&(w=y-49472),w===-1)throw new me("Invalid byte sequence");const T=(w>>8)*192+(w&255);i.appendBits(T,13)}}static appendECI(e,i){i.appendBits(Dt.ECI.getBits(),4),i.appendBits(e.getValue(),8)}}Me.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Me.DEFAULT_BYTE_MODE_ENCODING=lt.UTF8.getName();class mr{write(e,i,s,u=null){if(e.length===0)throw new I("Found empty contents");if(i<0||s<0)throw new I("Requested dimensions are too small: "+i+"x"+s);let c=fe.L,d=mr.QUIET_ZONE_SIZE;u!==null&&(u.get(tn.ERROR_CORRECTION)!==void 0&&(c=fe.fromString(u.get(tn.ERROR_CORRECTION).toString())),u.get(tn.MARGIN)!==void 0&&(d=Number.parseInt(u.get(tn.MARGIN).toString(),10)));const g=Me.encode(e,c,u);return this.renderResult(g,i,s,d)}writeToDom(e,i,s,u,c=null){typeof e=="string"&&(e=document.querySelector(e));const d=this.write(i,s,u,c);e&&e.appendChild(d)}renderResult(e,i,s,u){const c=e.getMatrix();if(c===null)throw new di;const d=c.getWidth(),g=c.getHeight(),y=d+u*2,w=g+u*2,T=Math.max(i,y),D=Math.max(s,w),O=Math.min(Math.floor(T/y),Math.floor(D/w)),B=Math.floor((T-d*O)/2),k=Math.floor((D-g*O)/2),F=this.createSVGElement(T,D);for(let q=0,tt=k;q<g;q++,tt+=O)for(let gt=0,mt=B;gt<d;gt++,mt+=O)if(c.get(gt,q)===1){const dt=this.createSvgRectElement(mt,tt,O,O);F.appendChild(dt)}return F}createSVGElement(e,i){const s=document.createElementNS(mr.SVG_NS,"svg");return s.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(e,i,s,u){const c=document.createElementNS(mr.SVG_NS,"rect");return c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",i.toString()),c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",u.toString()),c.setAttributeNS(null,"fill","#000000"),c}}mr.QUIET_ZONE_SIZE=4,mr.SVG_NS="http://www.w3.org/2000/svg";class Yr{encode(e,i,s,u,c){if(e.length===0)throw new I("Found empty contents");if(i!==Nt.QR_CODE)throw new I("Can only encode QR_CODE, but got "+i);if(s<0||u<0)throw new I(`Requested dimensions are too small: ${s}x${u}`);let d=fe.L,g=Yr.QUIET_ZONE_SIZE;c!==null&&(c.get(tn.ERROR_CORRECTION)!==void 0&&(d=fe.fromString(c.get(tn.ERROR_CORRECTION).toString())),c.get(tn.MARGIN)!==void 0&&(g=Number.parseInt(c.get(tn.MARGIN).toString(),10)));const y=Me.encode(e,d,c);return Yr.renderResult(y,s,u,g)}static renderResult(e,i,s,u){const c=e.getMatrix();if(c===null)throw new di;const d=c.getWidth(),g=c.getHeight(),y=d+u*2,w=g+u*2,T=Math.max(i,y),D=Math.max(s,w),O=Math.min(Math.floor(T/y),Math.floor(D/w)),B=Math.floor((T-d*O)/2),k=Math.floor((D-g*O)/2),F=new ve(T,D);for(let q=0,tt=k;q<g;q++,tt+=O)for(let gt=0,mt=B;gt<d;gt++,mt+=O)c.get(gt,q)===1&&F.setRegion(mt,tt,O,O);return F}}Yr.QUIET_ZONE_SIZE=4;class Oc{encode(e,i,s,u,c){let d;switch(i){case Nt.QR_CODE:d=new Yr;break;default:throw new I("No encoder available for format "+i)}return d.encode(e,i,s,u,c)}}class mi extends vt{constructor(e,i,s,u,c,d,g,y){if(super(d,g),this.yuvData=e,this.dataWidth=i,this.dataHeight=s,this.left=u,this.top=c,u+d>i||c+g>s)throw new I("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(d,g)}getRow(e,i){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const u=(e+this.top)*this.dataWidth+this.left;return X.arraycopy(this.yuvData,u,i,0,s),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=e*i,u=new Uint8ClampedArray(s);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return X.arraycopy(this.yuvData,c,u,0,s),u;for(let d=0;d<i;d++){const g=d*e;X.arraycopy(this.yuvData,c,u,g,e),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(e,i,s,u){return new mi(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+i,s,u,!1)}renderThumbnail(){const e=this.getWidth()/mi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/mi.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(e*i),u=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const g=d*e;for(let y=0;y<e;y++){const w=u[c+y*mi.THUMBNAIL_SCALE_FACTOR]&255;s[g+y]=4278190080|w*65793}c+=this.dataWidth*mi.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/mi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/mi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,i){const s=this.yuvData;for(let u=0,c=this.top*this.dataWidth+this.left;u<i;u++,c+=this.dataWidth){const d=c+e/2;for(let g=c,y=c+e-1;g<d;g++,y--){const w=s[g];s[g]=s[y],s[y]=w}}}invert(){return new Gt(this)}}mi.THUMBNAIL_SCALE_FACTOR=2;class La extends vt{constructor(e,i,s,u,c,d,g){if(super(i,s),this.dataWidth=u,this.dataHeight=c,this.left=d,this.top=g,e.BYTES_PER_ELEMENT===4){const y=i*s,w=new Uint8ClampedArray(y);for(let T=0;T<y;T++){const D=e[T],O=D>>16&255,B=D>>7&510,k=D&255;w[T]=(O+B+k)/4&255}this.luminances=w}else this.luminances=e;if(u===void 0&&(this.dataWidth=i),c===void 0&&(this.dataHeight=s),d===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(e,i){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const u=(e+this.top)*this.dataWidth+this.left;return X.arraycopy(this.luminances,u,i,0,s),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=e*i,u=new Uint8ClampedArray(s);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return X.arraycopy(this.luminances,c,u,0,s),u;for(let d=0;d<i;d++){const g=d*e;X.arraycopy(this.luminances,c,u,g,e),c+=this.dataWidth}return u}isCropSupported(){return!0}crop(e,i,s,u){return new La(this.luminances,s,u,this.dataWidth,this.dataHeight,this.left+e,this.top+i)}invert(){return new Gt(this)}}class Xr extends lt{static forName(e){return this.getCharacterSetECIByName(e)}}class xo{}xo.ISO_8859_1=lt.ISO8859_1;class po{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class yo{static singletonList(e){return[e]}static min(e,i){return e.sort(i)[0]}}class Yl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class xr extends Yl{constructor(e,i,s){super(e),this.value=i,this.bitCount=s}appendTo(e,i){e.appendBits(this.value,this.bitCount)}add(e,i){return new xr(this,e,i)}addBinaryShift(e,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new xr(this,e,i)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+Y.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ps extends xr{constructor(e,i,s){super(e,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(e,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):s===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(e,i){return new ps(this,e,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zr(M,e,i){return new ps(M,e,i)}function Pa(M,e,i){return new xr(M,e,i)}const Rc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Qi=0,Ua=1,jn=2,qr=3,Ln=4,_c=new xr(null,0,0),Wr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Xl(M){for(let e of M)nt.fill(e,-1);return M[Qi][Ln]=0,M[Ua][Ln]=0,M[Ua][Qi]=28,M[qr][Ln]=0,M[jn][Ln]=0,M[jn][Qi]=15,M}const Ao=Xl(nt.createInt32Array(6,6));class qn{constructor(e,i,s,u){this.token=e,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,i){let s=this.bitCount,u=this.token;if(e!==this.mode){let d=Wr[this.mode][e];u=Pa(u,d&65535,d>>16),s+=d>>16}let c=e===jn?4:5;return u=Pa(u,i,c),new qn(u,e,0,s+c)}shiftAndAppend(e,i){let s=this.token,u=this.mode===jn?4:5;return s=Pa(s,Ao[this.mode][e],u),s=Pa(s,i,5),new qn(s,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(e){let i=this.token,s=this.mode,u=this.bitCount;if(this.mode===Ln||this.mode===jn){let g=Wr[s][Qi];i=Pa(i,g&65535,g>>16),u+=g>>16,s=Qi}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new qn(i,s,this.binaryShiftByteCount+1,u+c);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(e+1)),d}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Zr(i,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new qn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let i=this.bitCount+(Wr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?i+=qn.calculateBinaryShiftCost(e)-qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(i+=10),i<=e.bitCount}toBitArray(e){let i=[];for(let u=this.endBinaryShift(e.length).token;u!==null;u=u.getPrevious())i.unshift(u);let s=new xt;for(const u of i)u.appendTo(s,e);return s}toString(){return Tt.format("%s bits=%d bytes=%d",Rc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}qn.INITIAL_STATE=new qn(_c,Qi,0,0);function wo(M){const e=Tt.getCharCode(" "),i=Tt.getCharCode("."),s=Tt.getCharCode(",");M[Qi][e]=1;const u=Tt.getCharCode("Z"),c=Tt.getCharCode("A");for(let O=c;O<=u;O++)M[Qi][O]=O-c+2;M[Ua][e]=1;const d=Tt.getCharCode("z"),g=Tt.getCharCode("a");for(let O=g;O<=d;O++)M[Ua][O]=O-g+2;M[jn][e]=1;const y=Tt.getCharCode("9"),w=Tt.getCharCode("0");for(let O=w;O<=y;O++)M[jn][O]=O-w+2;M[jn][s]=12,M[jn][i]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<T.length;O++)M[qr][Tt.getCharCode(T[O])]=O;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<D.length;O++)Tt.getCharCode(D[O])>0&&(M[Ln][Tt.getCharCode(D[O])]=O);return M}const ys=wo(nt.createInt32Array(5,256));class Qr{constructor(e){this.text=e}encode(){const e=Tt.getCharCode(" "),i=Tt.getCharCode(`
`);let s=yo.singletonList(qn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let d,g=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case Tt.getCharCode("\r"):d=g===i?2:0;break;case Tt.getCharCode("."):d=g===e?3:0;break;case Tt.getCharCode(","):d=g===e?4:0;break;case Tt.getCharCode(":"):d=g===e?5:0;break;default:d=0}d>0?(s=Qr.updateStateListForPair(s,c,d),c++):s=this.updateStateListForChar(s,c)}return yo.min(s,(c,d)=>c.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,i){const s=[];for(let u of e)this.updateStateForChar(u,i,s);return Qr.simplifyStates(s)}updateStateForChar(e,i,s){let u=this.text[i]&255,c=ys[e.getMode()][u]>0,d=null;for(let g=0;g<=Ln;g++){let y=ys[g][u];if(y>0){if(d==null&&(d=e.endBinaryShift(i)),!c||g===e.getMode()||g===jn){const w=d.latchAndAppend(g,y);s.push(w)}if(!c&&Ao[e.getMode()][g]>=0){const w=d.shiftAndAppend(g,y);s.push(w)}}}if(e.getBinaryShiftByteCount()>0||ys[e.getMode()][u]===0){let g=e.addBinaryShiftChar(i);s.push(g)}}static updateStateListForPair(e,i,s){const u=[];for(let c of e)this.updateStateForPair(c,i,s,u);return this.simplifyStates(u)}static updateStateForPair(e,i,s,u){let c=e.endBinaryShift(i);if(u.push(c.latchAndAppend(Ln,s)),e.getMode()!==Ln&&u.push(c.shiftAndAppend(Ln,s)),s===3||s===4){let d=c.latchAndAppend(jn,16-s).latchAndAppend(jn,1);u.push(d)}if(e.getBinaryShiftByteCount()>0){let d=e.addBinaryShiftChar(i).addBinaryShiftChar(i+1);u.push(d)}}static simplifyStates(e){let i=[];for(const s of e){let u=!0;for(const c of i){if(c.isBetterThanOrEqualTo(s)){u=!1;break}s.isBetterThanOrEqualTo(c)&&(i=i.filter(d=>d!==c))}u&&i.push(s)}return i}}class Jt{constructor(){}static encodeBytes(e){return Jt.encode(e,Jt.DEFAULT_EC_PERCENT,Jt.DEFAULT_AZTEC_LAYERS)}static encode(e,i,s){let u=new Qr(e).encode(),c=Y.truncDivision(u.getSize()*i,100)+11,d=u.getSize()+c,g,y,w,T,D;if(s!==Jt.DEFAULT_AZTEC_LAYERS){if(g=s<0,y=Math.abs(s),y>(g?Jt.MAX_NB_BITS_COMPACT:Jt.MAX_NB_BITS))throw new I(Tt.format("Illegal value %s for layers",s));w=Jt.totalBitsInLayer(y,g),T=Jt.WORD_SIZE[y];let dt=w-w%T;if(D=Jt.stuffBits(u,T),D.getSize()+c>dt)throw new I("Data to large for user specified layer");if(g&&D.getSize()>T*64)throw new I("Data to large for user specified layer")}else{T=0,D=null;for(let dt=0;;dt++){if(dt>Jt.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(g=dt<=3,y=g?dt+1:dt,w=Jt.totalBitsInLayer(y,g),d>w)continue;(D==null||T!==Jt.WORD_SIZE[y])&&(T=Jt.WORD_SIZE[y],D=Jt.stuffBits(u,T));let Ft=w-w%T;if(!(g&&D.getSize()>T*64)&&D.getSize()+c<=Ft)break}}let O=Jt.generateCheckWords(D,w,T),B=D.getSize()/T,k=Jt.generateModeMessage(g,y,B),F=(g?11:14)+y*4,q=new Int32Array(F),tt;if(g){tt=F;for(let dt=0;dt<q.length;dt++)q[dt]=dt}else{tt=F+1+2*Y.truncDivision(Y.truncDivision(F,2)-1,15);let dt=Y.truncDivision(F,2),Ft=Y.truncDivision(tt,2);for(let Ut=0;Ut<dt;Ut++){let Nn=Ut+Y.truncDivision(Ut,15);q[dt-Ut-1]=Ft-Nn-1,q[dt+Ut]=Ft+Nn+1}}let gt=new ve(tt);for(let dt=0,Ft=0;dt<y;dt++){let Ut=(y-dt)*4+(g?9:12);for(let Nn=0;Nn<Ut;Nn++){let Wn=Nn*2;for(let Pn=0;Pn<2;Pn++)O.get(Ft+Wn+Pn)&&gt.set(q[dt*2+Pn],q[dt*2+Nn]),O.get(Ft+Ut*2+Wn+Pn)&&gt.set(q[dt*2+Nn],q[F-1-dt*2-Pn]),O.get(Ft+Ut*4+Wn+Pn)&&gt.set(q[F-1-dt*2-Pn],q[F-1-dt*2-Nn]),O.get(Ft+Ut*6+Wn+Pn)&&gt.set(q[F-1-dt*2-Nn],q[dt*2+Pn])}Ft+=Ut*8}if(Jt.drawModeMessage(gt,g,tt,k),g)Jt.drawBullsEye(gt,Y.truncDivision(tt,2),5);else{Jt.drawBullsEye(gt,Y.truncDivision(tt,2),7);for(let dt=0,Ft=0;dt<Y.truncDivision(F,2)-1;dt+=15,Ft+=16)for(let Ut=Y.truncDivision(tt,2)&1;Ut<tt;Ut+=2)gt.set(Y.truncDivision(tt,2)-Ft,Ut),gt.set(Y.truncDivision(tt,2)+Ft,Ut),gt.set(Ut,Y.truncDivision(tt,2)-Ft),gt.set(Ut,Y.truncDivision(tt,2)+Ft)}let mt=new po;return mt.setCompact(g),mt.setSize(tt),mt.setLayers(y),mt.setCodeWords(B),mt.setMatrix(gt),mt}static drawBullsEye(e,i,s){for(let u=0;u<s;u+=2)for(let c=i-u;c<=i+u;c++)e.set(c,i-u),e.set(c,i+u),e.set(i-u,c),e.set(i+u,c);e.set(i-s,i-s),e.set(i-s+1,i-s),e.set(i-s,i-s+1),e.set(i+s,i-s),e.set(i+s,i-s+1),e.set(i+s,i+s-1)}static generateModeMessage(e,i,s){let u=new xt;return e?(u.appendBits(i-1,2),u.appendBits(s-1,6),u=Jt.generateCheckWords(u,28,4)):(u.appendBits(i-1,5),u.appendBits(s-1,11),u=Jt.generateCheckWords(u,40,4)),u}static drawModeMessage(e,i,s,u){let c=Y.truncDivision(s,2);if(i)for(let d=0;d<7;d++){let g=c-3+d;u.get(d)&&e.set(g,c-5),u.get(d+7)&&e.set(c+5,g),u.get(20-d)&&e.set(g,c+5),u.get(27-d)&&e.set(c-5,g)}else for(let d=0;d<10;d++){let g=c-5+d+Y.truncDivision(d,5);u.get(d)&&e.set(g,c-7),u.get(d+10)&&e.set(c+7,g),u.get(29-d)&&e.set(g,c+7),u.get(39-d)&&e.set(c-7,g)}}static generateCheckWords(e,i,s){let u=e.getSize()/s,c=new mo(Jt.getGF(s)),d=Y.truncDivision(i,s),g=Jt.bitsToWords(e,s,d);c.encode(g,d-u);let y=i%s,w=new xt;w.appendBits(0,y);for(const T of Array.from(g))w.appendBits(T,s);return w}static bitsToWords(e,i,s){let u=new Int32Array(s),c,d;for(c=0,d=e.getSize()/i;c<d;c++){let g=0;for(let y=0;y<i;y++)g|=e.get(c*i+y)?1<<i-y-1:0;u[c]=g}return u}static getGF(e){switch(e){case 4:return te.AZTEC_PARAM;case 6:return te.AZTEC_DATA_6;case 8:return te.AZTEC_DATA_8;case 10:return te.AZTEC_DATA_10;case 12:return te.AZTEC_DATA_12;default:throw new I("Unsupported word size "+e)}}static stuffBits(e,i){let s=new xt,u=e.getSize(),c=(1<<i)-2;for(let d=0;d<u;d+=i){let g=0;for(let y=0;y<i;y++)(d+y>=u||e.get(d+y))&&(g|=1<<i-1-y);(g&c)===c?(s.appendBits(g&c,i),d--):(g&c)===0?(s.appendBits(g|1,i),d--):s.appendBits(g,i)}return s}static totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}Jt.DEFAULT_EC_PERCENT=33,Jt.DEFAULT_AZTEC_LAYERS=0,Jt.MAX_NB_BITS=32,Jt.MAX_NB_BITS_COMPACT=4,Jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class As{encode(e,i,s,u){return this.encodeWithHints(e,i,s,u,null)}encodeWithHints(e,i,s,u,c){let d=xo.ISO_8859_1,g=Jt.DEFAULT_EC_PERCENT,y=Jt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(tn.CHARACTER_SET)&&(d=Xr.forName(c.get(tn.CHARACTER_SET).toString())),c.has(tn.ERROR_CORRECTION)&&(g=Y.parseInt(c.get(tn.ERROR_CORRECTION).toString())),c.has(tn.AZTEC_LAYERS)&&(y=Y.parseInt(c.get(tn.AZTEC_LAYERS).toString()))),As.encodeLayers(e,i,s,u,d,g,y)}static encodeLayers(e,i,s,u,c,d,g){if(i!==Nt.AZTEC)throw new I("Can only encode AZTEC, but got "+i);let y=Jt.encode(Tt.getBytes(e,c),d,g);return As.renderResult(y,s,u)}static renderResult(e,i,s){let u=e.getMatrix();if(u==null)throw new di;let c=u.getWidth(),d=u.getHeight(),g=Math.max(i,c),y=Math.max(s,d),w=Math.min(g/c,y/d),T=(g-c*w)/2,D=(y-d*w)/2,O=new ve(g,y);for(let B=0,k=D;B<d;B++,k+=w)for(let F=0,q=T;F<c;F++,q+=w)u.get(F,B)&&O.setRegion(q,k,w,w);return O}}l.AbstractExpandedDecoder=Ma,l.ArgumentException=v,l.ArithmeticException=Fr,l.AztecCode=po,l.AztecCodeReader=as,l.AztecCodeWriter=As,l.AztecDecoder=Ee,l.AztecDetector=Pl,l.AztecDetectorResult=oo,l.AztecEncoder=Jt,l.AztecHighLevelEncoder=Qr,l.AztecPoint=de,l.BarcodeFormat=Nt,l.Binarizer=z,l.BinaryBitmap=L,l.BitArray=xt,l.BitMatrix=ve,l.BitSource=_n,l.BrowserAztecCodeReader=Cc,l.BrowserBarcodeReader=Vl,l.BrowserCodeReader=Qt,l.BrowserDatamatrixCodeReader=Sc,l.BrowserMultiFormatReader=Nc,l.BrowserPDF417Reader=Mc,l.BrowserQRCodeReader=Dc,l.BrowserQRCodeSvgWriter=mr,l.CharacterSetECI=lt,l.ChecksumException=U,l.Code128Reader=yt,l.Code39Reader=Ne,l.DataMatrixDecodedBitStreamParser=ji,l.DataMatrixReader=ei,l.DecodeHintType=wt,l.DecoderResult=hi,l.DefaultGridSampler=Rn,l.DetectorResult=rs,l.EAN13Reader=$n,l.EncodeHintType=tn,l.Exception=C,l.FormatException=ut,l.GenericGF=te,l.GenericGFPoly=un,l.GlobalHistogramBinarizer=at,l.GridSampler=lo,l.GridSamplerInstance=vn,l.HTMLCanvasElementLuminanceSource=Yt,l.HybridBinarizer=st,l.ITFReader=se,l.IllegalArgumentException=I,l.IllegalStateException=di,l.InvertedLuminanceSource=Gt,l.LuminanceSource=vt,l.MathUtils=Kt,l.MultiFormatOneDReader=zi,l.MultiFormatReader=Gl,l.MultiFormatWriter=Oc,l.NotFoundException=rt,l.OneDReader=_e,l.PDF417DecodedBitStreamParser=it,l.PDF417DecoderErrorCorrection=Oa,l.PDF417Reader=gn,l.PDF417ResultMetadata=gs,l.PerspectiveTransform=Tn,l.PlanarYUVLuminanceSource=mi,l.QRCodeByteMatrix=Ba,l.QRCodeDataMask=dn,l.QRCodeDecodedBitStreamParser=Be,l.QRCodeDecoderErrorCorrectionLevel=fe,l.QRCodeDecoderFormatInformation=hn,l.QRCodeEncoder=Me,l.QRCodeEncoderQRCode=gr,l.QRCodeMaskUtil=Ue,l.QRCodeMatrixUtil=Rt,l.QRCodeMode=Dt,l.QRCodeReader=Ii,l.QRCodeVersion=Mt,l.QRCodeWriter=Yr,l.RGBLuminanceSource=La,l.RSS14Reader=oe,l.RSSExpandedReader=ht,l.ReaderException=Ra,l.ReedSolomonDecoder=ba,l.ReedSolomonEncoder=mo,l.ReedSolomonException=ki,l.Result=ie,l.ResultMetadataType=Fe,l.ResultPoint=St,l.StringUtils=Tt,l.UnsupportedOperationException=ae,l.VideoInputDevice=yn,l.WhiteRectangleDetector=Ni,l.WriterException=me,l.ZXingArrays=nt,l.ZXingCharset=Xr,l.ZXingInteger=Y,l.ZXingStandardCharsets=xo,l.ZXingStringBuilder=$t,l.ZXingStringEncoding=ue,l.ZXingSystem=X,l.createAbstractExpandedDecoder=fo,Object.defineProperty(l,"__esModule",{value:!0})})}(hl,hl.exports)),hl.exports}var Le=HS();const GS=z2(Le),YS=y3({__proto__:null,default:GS},[Le]);var T2=function(){function r(a,l,h){if(this.formatMap=new Map([[Ct.QR_CODE,Le.BarcodeFormat.QR_CODE],[Ct.AZTEC,Le.BarcodeFormat.AZTEC],[Ct.CODABAR,Le.BarcodeFormat.CODABAR],[Ct.CODE_39,Le.BarcodeFormat.CODE_39],[Ct.CODE_93,Le.BarcodeFormat.CODE_93],[Ct.CODE_128,Le.BarcodeFormat.CODE_128],[Ct.DATA_MATRIX,Le.BarcodeFormat.DATA_MATRIX],[Ct.MAXICODE,Le.BarcodeFormat.MAXICODE],[Ct.ITF,Le.BarcodeFormat.ITF],[Ct.EAN_13,Le.BarcodeFormat.EAN_13],[Ct.EAN_8,Le.BarcodeFormat.EAN_8],[Ct.PDF_417,Le.BarcodeFormat.PDF_417],[Ct.RSS_14,Le.BarcodeFormat.RSS_14],[Ct.RSS_EXPANDED,Le.BarcodeFormat.RSS_EXPANDED],[Ct.UPC_A,Le.BarcodeFormat.UPC_A],[Ct.UPC_E,Le.BarcodeFormat.UPC_E],[Ct.UPC_EAN_EXTENSION,Le.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!YS)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=h;var m=this.createZXingFormats(a),p=new Map;p.set(Le.DecodeHintType.POSSIBLE_FORMATS,m),p.set(Le.DecodeHintType.TRY_HARDER,!1),this.hints=p}return r.prototype.decodeAsync=function(a){var l=this;return new Promise(function(h,m){try{h(l.decode(a))}catch(p){m(p)}})},r.prototype.decode=function(a){var l=new Le.MultiFormatReader(this.verbose,this.hints),h=new Le.HTMLCanvasElementLuminanceSource(a),m=new Le.BinaryBitmap(new Le.HybridBinarizer(h)),p=l.decode(m);return{text:p.text,format:Lp.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,h,m){a.set(l,h)}),a},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createZXingFormats=function(a){for(var l=[],h=0,m=a;h<m.length;h++){var p=m[h];this.formatMap.has(p)?l.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return l},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),XS=function(r,a,l,h){function m(p){return p instanceof l?p:new l(function(E){E(p)})}return new(l||(l=Promise))(function(p,E){function S(v){try{C(h.next(v))}catch(I){E(I)}}function b(v){try{C(h.throw(v))}catch(I){E(I)}}function C(v){v.done?p(v.value):m(v.value).then(S,b)}C((h=h.apply(r,a||[])).next())})},ZS=function(r,a){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,m,p,E;return E={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function S(C){return function(v){return b([C,v])}}function b(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(l=0)),l;)try{if(h=1,m&&(p=C[0]&2?m.return:C[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,C[1])).done)return p;switch(m=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return l.label++,{value:C[1],done:!1};case 5:l.label++,m=C[1],C=[0];continue;case 7:C=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){l=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){l.label=C[1];break}if(C[0]===6&&l.label<p[1]){l.label=p[1],p=C;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(C);break}p[2]&&l.ops.pop(),l.trys.pop();continue}C=a.call(r,l)}catch(v){C=[6,v],m=0}finally{h=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},v2=function(){function r(a,l,h){if(this.formatMap=new Map([[Ct.QR_CODE,"qr_code"],[Ct.AZTEC,"aztec"],[Ct.CODABAR,"codabar"],[Ct.CODE_39,"code_39"],[Ct.CODE_93,"code_93"],[Ct.CODE_128,"code_128"],[Ct.DATA_MATRIX,"data_matrix"],[Ct.ITF,"itf"],[Ct.EAN_13,"ean_13"],[Ct.EAN_8,"ean_8"],[Ct.PDF_417,"pdf417"],[Ct.UPC_A,"upc_a"],[Ct.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=h;var m=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var a=new BarcodeDetector({formats:["qr_code"]});return typeof a<"u"},r.prototype.decodeAsync=function(a){return XS(this,void 0,void 0,function(){var l,h;return ZS(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(a)];case 1:if(l=m.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(l),[2,{text:h.rawValue,format:Lp.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(a){for(var l=null,h=0,m=0,p=a;m<p.length;m++){var E=p[m],S=E.boundingBox.width*E.boundingBox.height;S>h&&(h=S,l=E)}if(!l)throw"No largest barcode found";return l},r.prototype.createBarcodeDetectorFormats=function(a){for(var l=[],h=0,m=a;h<m.length;h++){var p=m[h];this.formatMap.has(p)?l.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,h,m){a.set(l,h)}),a},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),N2=function(r,a,l,h){function m(p){return p instanceof l?p:new l(function(E){E(p)})}return new(l||(l=Promise))(function(p,E){function S(v){try{C(h.next(v))}catch(I){E(I)}}function b(v){try{C(h.throw(v))}catch(I){E(I)}}function C(v){v.done?p(v.value):m(v.value).then(S,b)}C((h=h.apply(r,a||[])).next())})},M2=function(r,a){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,m,p,E;return E={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function S(C){return function(v){return b([C,v])}}function b(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(l=0)),l;)try{if(h=1,m&&(p=C[0]&2?m.return:C[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,C[1])).done)return p;switch(m=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return l.label++,{value:C[1],done:!1};case 5:l.label++,m=C[1],C=[0];continue;case 7:C=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){l=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){l.label=C[1];break}if(C[0]===6&&l.label<p[1]){l.label=p[1],p=C;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(C);break}p[2]&&l.ops.pop(),l.trys.pop();continue}C=a.call(r,l)}catch(v){C=[6,v],m=0}finally{h=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},qS=function(){function r(a,l,h,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,l&&v2.isSupported()?(this.primaryDecoder=new v2(a,h,m),this.secondaryDecoder=new T2(a,h,m)):this.primaryDecoder=new T2(a,h,m)}return r.prototype.decodeAsync=function(a){return N2(this,void 0,void 0,function(){var l;return M2(this,function(h){switch(h.label){case 0:l=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(a){return N2(this,void 0,void 0,function(){var l,h;return M2(this,function(m){switch(m.label){case 0:l=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,m.sent()];case 3:if(h=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw h;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(a){if(this.verbose){var l=performance.now()-a;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,l=0,h=this.executionResults;l<h.length;l++){var m=h[l];a+=m}var p=a/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),q0=function(){var r=function(a,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(h[p]=m[p])},r(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(a,l);function h(){this.constructor=a}a.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}(),gc=function(r,a,l,h){function m(p){return p instanceof l?p:new l(function(E){E(p)})}return new(l||(l=Promise))(function(p,E){function S(v){try{C(h.next(v))}catch(I){E(I)}}function b(v){try{C(h.throw(v))}catch(I){E(I)}}function C(v){v.done?p(v.value):m(v.value).then(S,b)}C((h=h.apply(r,a||[])).next())})},mc=function(r,a){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,m,p,E;return E={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function S(C){return function(v){return b([C,v])}}function b(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(l=0)),l;)try{if(h=1,m&&(p=C[0]&2?m.return:C[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,C[1])).done)return p;switch(m=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return l.label++,{value:C[1],done:!1};case 5:l.label++,m=C[1],C=[0];continue;case 7:C=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){l=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){l.label=C[1];break}if(C[0]===6&&l.label<p[1]){l.label=p[1],p=C;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(C);break}p[2]&&l.ops.pop(),l.trys.pop();continue}C=a.call(r,l)}catch(v){C=[6,v],m=0}finally{h=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Fp=function(){function r(a,l){this.name=a,this.track=l}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(a){var l={};l[this.name]=a;var h={advanced:[l]};return this.track.applyConstraints(h)},r.prototype.value=function(){var a=this.track.getSettings();if(this.name in a){var l=a[this.name];return l}return null},r}(),WS=function(r){q0(a,r);function a(l,h){return r.call(this,l,h)||this}return a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(l){var h={};h[this.name]=l;var m={advanced:[h]};return this.track.applyConstraints(m)},a.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),h=l[this.name];return{min:h.min,max:h.max,step:h.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a}(Fp),QS=function(r){q0(a,r);function a(l){return r.call(this,"zoom",l)||this}return a}(WS),KS=function(r){q0(a,r);function a(l){return r.call(this,"torch",l)||this}return a}(Fp),JS=function(){function r(a){this.track=a}return r.prototype.zoomFeature=function(){return new QS(this.track)},r.prototype.torchFeature=function(){return new KS(this.track)},r}(),$S=function(){function r(a,l,h){this.isClosed=!1,this.parentElement=a,this.mediaStream=l,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return r.prototype.createVideoElement=function(a){var l=document.createElement("video");return l.style.width="".concat(a,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},r.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var h=a.surface.clientWidth,m=a.surface.clientHeight;a.callbacks.onRenderSurfaceReady(h,m),a.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(a,l,h,m){return gc(this,void 0,void 0,function(){var p,E;return mc(this,function(S){switch(S.label){case 0:return p=new r(a,l,m),h.aspectRatio?(E={aspectRatio:h.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(E)]):[3,2];case 1:S.sent(),S.label=2;case 2:return p.setupSurface(),[2,p]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(a){this.failIfClosed();var l=this,h=function(){setTimeout(a,200),l.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(a){return gc(this,void 0,void 0,function(){return mc(this,function(l){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(l,h){var m=a.mediaStream.getVideoTracks(),p=m.length,E=0;a.mediaStream.getVideoTracks().forEach(function(S){a.mediaStream.removeTrack(S),S.stop(),++E,E>=p&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),l())})})},r.prototype.getCapabilities=function(){return new JS(this.getFirstTrackOrFail())},r}(),tb=function(){function r(a){this.mediaStream=a}return r.prototype.render=function(a,l,h){return gc(this,void 0,void 0,function(){return mc(this,function(m){return[2,$S.create(a,this.mediaStream,l,h)]})})},r.create=function(a){return gc(this,void 0,void 0,function(){var l,h;return mc(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:a},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return h=m.sent(),[2,new r(h)]}})})},r}(),D2=function(r,a,l,h){function m(p){return p instanceof l?p:new l(function(E){E(p)})}return new(l||(l=Promise))(function(p,E){function S(v){try{C(h.next(v))}catch(I){E(I)}}function b(v){try{C(h.throw(v))}catch(I){E(I)}}function C(v){v.done?p(v.value):m(v.value).then(S,b)}C((h=h.apply(r,a||[])).next())})},I2=function(r,a){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,m,p,E;return E={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function S(C){return function(v){return b([C,v])}}function b(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(l=0)),l;)try{if(h=1,m&&(p=C[0]&2?m.return:C[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,C[1])).done)return p;switch(m=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return l.label++,{value:C[1],done:!1};case 5:l.label++,m=C[1],C=[0];continue;case 7:C=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){l=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){l.label=C[1];break}if(C[0]===6&&l.label<p[1]){l.label=p[1],p=C;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(C);break}p[2]&&l.ops.pop(),l.trys.pop();continue}C=a.call(r,l)}catch(v){C=[6,v],m=0}finally{h=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},eb=function(){function r(){}return r.failIfNotSupported=function(){return D2(this,void 0,void 0,function(){return I2(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(a){return D2(this,void 0,void 0,function(){return I2(this,function(l){return[2,tb.create(a)]})})},r}(),nb=function(r,a,l,h){function m(p){return p instanceof l?p:new l(function(E){E(p)})}return new(l||(l=Promise))(function(p,E){function S(v){try{C(h.next(v))}catch(I){E(I)}}function b(v){try{C(h.throw(v))}catch(I){E(I)}}function C(v){v.done?p(v.value):m(v.value).then(S,b)}C((h=h.apply(r,a||[])).next())})},ib=function(r,a){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,m,p,E;return E={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function S(C){return function(v){return b([C,v])}}function b(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(l=0)),l;)try{if(h=1,m&&(p=C[0]&2?m.return:C[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,C[1])).done)return p;switch(m=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return l.label++,{value:C[1],done:!1};case 5:l.label++,m=C[1],C=[0];continue;case 7:C=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){l=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){l.label=C[1];break}if(C[0]===6&&l.label<p[1]){l.label=p[1],p=C;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(C);break}p[2]&&l.ops.pop(),l.trys.pop();continue}C=a.call(r,l)}catch(v){C=[6,v],m=0}finally{h=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},rb=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var a=$s.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(a=$s.insecureContextCameraQueryError()),Promise.reject(a)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var a=location.host.split(":")[0];return a==="127.0.0.1"||a==="localhost"},r.getCamerasFromMediaDevices=function(){return nb(this,void 0,void 0,function(){var a,l,h,m,p,E,S;return ib(this,function(b){switch(b.label){case 0:return a=function(C){for(var v=C.getVideoTracks(),I=0,L=v;I<L.length;I++){var U=L[I];U.enabled=!1,U.stop(),C.removeTrack(U)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=b.sent(),m=[],p=0,E=h;p<E.length;p++)S=E[p],S.kind==="videoinput"&&m.push({id:S.deviceId,label:S.label});return a(l),[2,m]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,l){var h=function(p){for(var E=[],S=0,b=p;S<b.length;S++){var C=b[S];C.kind==="video"&&E.push({id:C.id,label:C.label})}a(E)},m=MediaStreamTrack;m.getSources(h)})},r}(),We;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(We||(We={}));var ab=function(){function r(){this.state=We.NOT_STARTED,this.onGoingTransactionNewState=We.UNKNOWN}return r.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},r.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===We.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=We.UNKNOWN,this.directTransition(a)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===We.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=We.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==We.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(a){switch(this.state){case We.UNKNOWN:throw"Transition from unknown is not allowed";case We.NOT_STARTED:this.failIfNewStateIs(a,[We.PAUSED]);break;case We.SCANNING:break;case We.PAUSED:break}},r.prototype.failIfNewStateIs=function(a,l){for(var h=0,m=l;h<m.length;h++){var p=m[h];if(a===p)throw"Cannot transition from ".concat(this.state," to ").concat(a)}},r}(),sb=function(){function r(a){this.stateManager=a}return r.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},r.prototype.directTransition=function(a){this.stateManager.directTransition(a)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===We.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==We.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===We.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===We.PAUSED},r}(),ob=function(){function r(){}return r.create=function(){return new sb(new ab)},r}(),lb=function(){var r=function(a,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(h[p]=m[p])},r(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(a,l);function h(){this.constructor=a}a.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}(),ui=function(r){lb(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a}(Pi),ub=function(){function r(a,l){this.logger=l,this.fps=ui.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=a.disableFlip===!0,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=ui.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?kp.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!ir(this.qrbox)},r.create=function(a,l){return new r(a,l)},r}(),O2=function(){function r(a,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.elementId=a,this.verbose=!1;var h;typeof l=="boolean"?this.verbose=l===!0:l&&(h=l,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new Up(this.verbose),this.qrcode=new qS(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ob.create()}return r.prototype.start=function(a,l,h,m){var p=this;if(!a)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var E;m?E=m:E=this.verbose?this.logger.log:function(){};var S=ub.create(l,this.logger);this.clearElement();var b=!1;S.videoConstraints&&(S.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=b,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:ui.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var I=this,L=this.stateManagerProxy.startTransition(We.SCANNING);return new Promise(function(U,z){var X=C?S.videoConstraints:I.createVideoConstraints(a);if(!X){L.cancel(),z("videoConstraints should be defined");return}var H={};(!C||S.aspectRatio)&&(H.aspectRatio=S.aspectRatio);var j={onRenderSurfaceReady:function(nt,Y){I.setupUi(nt,Y,S),I.isScanning=!0,I.foreverScan(S,h,E)}};eb.failIfNotSupported().then(function(nt){nt.create(X).then(function(Y){return Y.render(p.element,H,j).then(function(xt){I.renderedCamera=xt,L.execute(),U(null)}).catch(function(xt){L.cancel(),z(xt)})}).catch(function(Y){L.cancel(),z($s.errorGettingUserMedia(Y))})}).catch(function(nt){L.cancel(),z($s.cameraStreamingNotSupported())})})},r.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(We.PAUSED),this.showPausedState(),(ir(a)||a!==!0)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,l=function(){a.stateManagerProxy.directTransition(We.SCANNING),a.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(We.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(a.element){var p=document.getElementById(ui.SHADED_REGION_ELEMENT_ID);p&&a.element.removeChild(p)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),h(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),l.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(a,l){return this.scanFileV2(a,l).then(function(h){return h.decodedText})},r.prototype.scanFileV2=function(a,l){var h=this;if(!a||!(a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ir(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,p){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(a);var E=new Image;E.onload=function(){var S=E.width,b=E.height,C=document.getElementById(h.elementId),v=C.clientWidth?C.clientWidth:ui.DEFAULT_WIDTH,I=Math.max(C.clientHeight?C.clientHeight:b,ui.FILE_SCAN_MIN_HEIGHT),L=h.computeCanvasDrawConfig(S,b,v,I);if(l){var U=h.createCanvasElement(v,I,"qr-canvas-visible");U.style.display="inline-block",C.appendChild(U);var z=U.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=v,z.canvas.height=I,z.drawImage(E,0,0,S,b,L.x,L.y,L.width,L.height)}var X=ui.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(E.width,L.width),j=Math.max(E.height,L.height),nt=H+2*X,Y=j+2*X,xt=h.createCanvasElement(nt,Y);C.appendChild(xt);var At=xt.getContext("2d");if(!At)throw"Unable to get 2d context from canvas";At.canvas.width=nt,At.canvas.height=Y,At.drawImage(E,0,0,S,b,X,X,H,j);try{h.qrcode.decodeRobustlyAsync(xt).then(function(wt){m(C2.createFromQrcodeResult(wt))}).catch(p)}catch(wt){p("QR code parse error, error = ".concat(wt))}},E.onerror=p,E.onabort=p,E.onstalled=p,E.onsuspend=p,E.src=URL.createObjectURL(a)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return rb.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(a){if(a){if(!kp.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(a){var l=[Ct.QR_CODE,Ct.AZTEC,Ct.CODABAR,Ct.CODE_39,Ct.CODE_93,Ct.CODE_128,Ct.DATA_MATRIX,Ct.MAXICODE,Ct.ITF,Ct.EAN_13,Ct.EAN_8,Ct.PDF_417,Ct.RSS_14,Ct.RSS_EXPANDED,Ct.UPC_A,Ct.UPC_E,Ct.UPC_EAN_EXTENSION];if(!a||typeof a=="boolean"||!a.formatsToSupport)return l;if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(a.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],m=0,p=a.formatsToSupport;m<p.length;m++){var E=p[m];VS(E)?h.push(E):this.logger.warn("Invalid format: ".concat(E," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},r.prototype.getUseBarCodeDetectorIfSupported=function(a){if(ir(a))return!0;if(!ir(a.useBarCodeDetectorIfSupported))return a.useBarCodeDetectorIfSupported!==!1;if(ir(a.experimentalFeatures))return!0;var l=a.experimentalFeatures;return ir(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(a,l,h){var m=this,p=h.qrbox;this.validateQrboxConfig(p);var E=this.toQrdimensions(a,l,p),S=function(C){if(C<ui.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ui.MIN_QR_BOX_SIZE,"px.")},b=function(C){return C>a&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=a),C};S(E.width),S(E.height),E.width=b(E.width)},r.prototype.validateQrboxConfig=function(a){if(typeof a!="number"&&typeof a!="function"&&(a.width===void 0||a.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(a,l,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(a,l)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return h},r.prototype.setupUi=function(a,l,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(a,l,h);var m=ir(h.qrbox)?{width:a,height:l}:h.qrbox;this.validateQrboxConfig(m);var p=this.toQrdimensions(a,l,m);p.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var E=h.isShadedBoxEnabled()&&p.height<=l,S={x:0,y:0,width:a,height:l},b=E?this.getShadedRegionBounds(a,l,p):S,C=this.createCanvasElement(b.width,b.height),v={willReadFrequently:!0},I=C.getContext("2d",v);I.canvas.width=b.width,I.canvas.height=b.height,this.element.append(C),E&&this.possiblyInsertShadingElement(this.element,a,l,p),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=I,this.canvasElement=C},r.prototype.createScannerPausedUiElement=function(a){var l=document.createElement("div");l.innerText=$s.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",a.appendChild(l),this.scannerPausedUiElement=l},r.prototype.scanContext=function(a,l){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return a(m.text,C2.createFromQrcodeResult(m)),h.possiblyUpdateShaders(!0),!0}).catch(function(m){h.possiblyUpdateShaders(!1);var p=$s.codeParseError(m);return l(p,Pp.createFrom(p)),!1})},r.prototype.foreverScan=function(a,l,h){var m=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),E=p.videoWidth/p.clientWidth,S=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*E,C=this.qrRegion.height*S,v=this.qrRegion.x*E,I=this.qrRegion.y*S;this.context.drawImage(p,v,I,b,C,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(a,l,h)},m.getTimeoutFps(a.fps))};this.scanContext(l,h).then(function(U){!U&&a.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(l,h).finally(function(){L()})):L()}).catch(function(U){m.logger.logError("Error happend while scanning context",U),L()})}},r.prototype.createVideoConstraints=function(a){if(typeof a=="string")return{deviceId:{exact:a}};if(typeof a=="object"){var l="facingMode",h="deviceId",m={user:!0,environment:!0},p="exact",E=function(z){if(z in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(z,"'")},S=Object.keys(a);if(S.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(S.length," keys");var b=Object.keys(a)[0];if(b!==l&&b!==h)throw"Only '".concat(l,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(b===l){var C=a.facingMode;if(typeof C=="string"){if(E(C))return{facingMode:C}}else if(typeof C=="object")if(p in C){if(E(C["".concat(p)]))return{facingMode:{exact:C["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var v=typeof C;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var I=a.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(p in I)return{deviceId:{exact:I["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var L=typeof I;throw"Invalid type of 'deviceId' = ".concat(L)}}}var U=typeof a;throw"Invalid type of 'cameraIdOrConfig' = ".concat(U)},r.prototype.computeCanvasDrawConfig=function(a,l,h,m){if(a<=h&&l<=m){var p=(h-a)/2,E=(m-l)/2;return{x:p,y:E,width:a,height:l}}else{var S=a,b=l;return a>h&&(l=h/a*l,a=h),l>m&&(a=m/l*a,l=m),this.logger.log("Image downsampled from "+"".concat(S,"X").concat(b)+" to ".concat(a,"X").concat(l,".")),this.computeCanvasDrawConfig(a,l,h,m)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},r.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=a?ui.BORDER_SHADER_MATCH_COLOR:ui.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(a,l,h){var m=a,p=l,E=document.createElement("canvas");return E.style.width="".concat(m,"px"),E.style.height="".concat(p,"px"),E.style.display="none",E.id=ir(h)?"qr-canvas":h,E},r.prototype.getShadedRegionBounds=function(a,l,h){if(h.width>a||h.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-h.width)/2,y:(l-h.height)/2,width:h.width,height:h.height}},r.prototype.possiblyInsertShadingElement=function(a,l,h,m){if(!(l-m.width<1||h-m.height<1)){var p=document.createElement("div");p.style.position="absolute";var E=(l-m.width)/2,S=(h-m.height)/2;if(p.style.borderLeft="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(S,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(S,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(ui.SHADED_REGION_ELEMENT_ID),l-m.width<11||h-m.height<11)this.hasBorderShaders=!1;else{var b=5,C=40;this.insertShaderBorders(p,C,b,-b,null,0,!0),this.insertShaderBorders(p,C,b,-b,null,0,!1),this.insertShaderBorders(p,C,b,null,-b,0,!0),this.insertShaderBorders(p,C,b,null,-b,0,!1),this.insertShaderBorders(p,b,C+b,-b,null,-b,!0),this.insertShaderBorders(p,b,C+b,null,-b,-b,!0),this.insertShaderBorders(p,b,C+b,-b,null,-b,!1),this.insertShaderBorders(p,b,C+b,null,-b,-b,!1),this.hasBorderShaders=!0}a.append(p)}},r.prototype.insertShaderBorders=function(a,l,h,m,p,E,S){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=ui.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(l,"px"),b.style.height="".concat(h,"px"),m!==null&&(b.style.top="".concat(m,"px")),p!==null&&(b.style.bottom="".concat(p,"px")),S?b.style.left="".concat(E,"px"):b.style.right="".concat(E,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),a.appendChild(b)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(a){return 1e3/a},r}(),W0="data:image/svg+xml;base64,",cb=W0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",fb=W0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",R2=W0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",hb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",_2=function(){function r(){}return r.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},r}(),db=function(){function r(){this.data=_2.createDefault();var a=localStorage.getItem(r.LOCAL_STORAGE_KEY);a?this.data=JSON.parse(a):this.reset()}return r.prototype.hasCameraPermissions=function(){return this.data.hasPermission},r.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},r.prototype.setHasPermission=function(a){this.data.hasPermission=a,this.flush()},r.prototype.setLastUsedCameraId=function(a){this.data.lastUsedCameraId=a,this.flush()},r.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},r.prototype.reset=function(){this.data=_2.createDefault(),this.flush()},r.prototype.flush=function(){localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},r.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",r}(),gb=function(){function r(){this.infoDiv=document.createElement("div")}return r.prototype.renderInto=function(a){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=S2.poweredBy();var l=document.createElement("a");l.innerText="ScanApp",l.href="https://scanapp.org",l.target="new",l.style.color="white",this.infoDiv.appendChild(l);var h=document.createElement("br"),m=document.createElement("br");this.infoDiv.appendChild(h),this.infoDiv.appendChild(m);var p=document.createElement("a");p.innerText=S2.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),a.appendChild(this.infoDiv)},r.prototype.show=function(){this.infoDiv.style.display="block"},r.prototype.hide=function(){this.infoDiv.style.display="none"},r}(),mb=function(){function r(a,l){this.isShowingInfoIcon=!0,this.onTapIn=a,this.onTapOut=l,this.infoIcon=document.createElement("img")}return r.prototype.renderInto=function(a){var l=this;this.infoIcon.alt="Info icon",this.infoIcon.src=R2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(h){return l.onHoverIn()},this.infoIcon.onmouseout=function(h){return l.onHoverOut()},this.infoIcon.onclick=function(h){return l.onClick()},a.appendChild(this.infoIcon)},r.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},r.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},r.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=hb,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=R2,this.infoIcon.style.opacity="0.6")},r}(),xb=function(){function r(){var a=this;this.infoDiv=new gb,this.infoIcon=new mb(function(){a.infoDiv.show()},function(){a.infoDiv.hide()})}return r.prototype.renderInto=function(a){this.infoDiv.renderInto(a),this.infoIcon.renderInto(a)},r}(),pb=function(r,a,l,h){function m(p){return p instanceof l?p:new l(function(E){E(p)})}return new(l||(l=Promise))(function(p,E){function S(v){try{C(h.next(v))}catch(I){E(I)}}function b(v){try{C(h.throw(v))}catch(I){E(I)}}function C(v){v.done?p(v.value):m(v.value).then(S,b)}C((h=h.apply(r,a||[])).next())})},yb=function(r,a){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,m,p,E;return E={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function S(C){return function(v){return b([C,v])}}function b(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(l=0)),l;)try{if(h=1,m&&(p=C[0]&2?m.return:C[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,C[1])).done)return p;switch(m=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return l.label++,{value:C[1],done:!1};case 5:l.label++,m=C[1],C=[0];continue;case 7:C=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){l=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){l.label=C[1];break}if(C[0]===6&&l.label<p[1]){l.label=p[1],p=C;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(C);break}p[2]&&l.ops.pop(),l.trys.pop();continue}C=a.call(r,l)}catch(v){C=[6,v],m=0}finally{h=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},B2=function(){function r(){}return r.hasPermissions=function(){return pb(this,void 0,void 0,function(){var a,l,h,m;return yb(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(a=p.sent(),l=0,h=a;l<h.length;l++)if(m=h[l],m.kind==="videoinput"&&m.label)return[2,!0];return[2,!1]}})})},r}(),ya=function(){function r(a){this.supportedScanTypes=this.validateAndReturnScanTypes(a)}return r.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},r.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},r.prototype.isCameraScanRequired=function(){for(var a=0,l=this.supportedScanTypes;a<l.length;a++){var h=l[a];if(r.isCameraScanType(h))return!0}return!1},r.isCameraScanType=function(a){return a===Ca.SCAN_TYPE_CAMERA},r.isFileScanType=function(a){return a===Ca.SCAN_TYPE_FILE},r.prototype.validateAndReturnScanTypes=function(a){if(!a||a.length===0)return Pi.DEFAULT_SUPPORTED_SCAN_TYPE;var l=Pi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(a.length>l)throw"Max ".concat(l," values expected for ")+"supportedScanTypes";for(var h=0,m=a;h<m.length;h++){var p=m[h];if(!Pi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return a},r}(),fi=function(){function r(){}return r.ALL_ELEMENT_CLASS="html5-qrcode-element",r.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",r.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",r.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",r.TORCH_BUTTON_ID="html5-qrcode-button-torch",r.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",r.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",r.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",r.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",r.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",r.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",r}(),Rr=function(){function r(){}return r.createElement=function(a,l){var h=document.createElement(a);return h.id=l,h.classList.add(fi.ALL_ELEMENT_CLASS),a==="button"&&h.setAttribute("type","button"),h},r}(),Vp=function(r,a,l,h){function m(p){return p instanceof l?p:new l(function(E){E(p)})}return new(l||(l=Promise))(function(p,E){function S(v){try{C(h.next(v))}catch(I){E(I)}}function b(v){try{C(h.throw(v))}catch(I){E(I)}}function C(v){v.done?p(v.value):m(v.value).then(S,b)}C((h=h.apply(r,a||[])).next())})},zp=function(r,a){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},h,m,p,E;return E={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function S(C){return function(v){return b([C,v])}}function b(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(l=0)),l;)try{if(h=1,m&&(p=C[0]&2?m.return:C[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,C[1])).done)return p;switch(m=0,p&&(C=[C[0]&2,p.value]),C[0]){case 0:case 1:p=C;break;case 4:return l.label++,{value:C[1],done:!1};case 5:l.label++,m=C[1],C=[0];continue;case 7:C=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(C[0]===6||C[0]===2)){l=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){l.label=C[1];break}if(C[0]===6&&l.label<p[1]){l.label=p[1],p=C;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(C);break}p[2]&&l.ops.pop(),l.trys.pop();continue}C=a.call(r,l)}catch(v){C=[6,v],m=0}finally{h=p=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},L2=function(){function r(a,l,h){this.isTorchOn=!1,this.torchCapability=a,this.buttonController=l,this.onTorchActionFailureCallback=h}return r.prototype.isTorchEnabled=function(){return this.isTorchOn},r.prototype.flipState=function(){return Vp(this,void 0,void 0,function(){var a,l;return zp(this,function(h){switch(h.label){case 0:this.buttonController.disable(),a=!this.isTorchOn,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.torchCapability.apply(a)];case 2:return h.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),a),[3,4];case 3:return l=h.sent(),this.propagateFailure(a,l),this.buttonController.enable(),[3,4];case 4:return[2]}})})},r.prototype.updateUiBasedOnLatestSettings=function(a,l){a===l?(this.buttonController.setText(l?Ae.torchOffButton():Ae.torchOnButton()),this.isTorchOn=l):this.propagateFailure(l),this.buttonController.enable()},r.prototype.propagateFailure=function(a,l){var h=a?Ae.torchOnFailedMessage():Ae.torchOffFailedMessage();l&&(h+="; Error = "+l),this.onTorchActionFailureCallback(h)},r.prototype.reset=function(){this.isTorchOn=!1},r}(),Ab=function(){function r(a,l){this.onTorchActionFailureCallback=l,this.torchButton=Rr.createElement("button",fi.TORCH_BUTTON_ID),this.torchController=new L2(a,this,l)}return r.prototype.render=function(a,l){var h=this;this.torchButton.innerText=Ae.torchOnButton(),this.torchButton.style.display=l.display,this.torchButton.style.marginLeft=l.marginLeft;var m=this;this.torchButton.addEventListener("click",function(p){return Vp(h,void 0,void 0,function(){return zp(this,function(E){switch(E.label){case 0:return[4,m.torchController.flipState()];case 1:return E.sent(),m.torchController.isTorchEnabled()?(m.torchButton.classList.remove(fi.TORCH_BUTTON_CLASS_TORCH_OFF),m.torchButton.classList.add(fi.TORCH_BUTTON_CLASS_TORCH_ON)):(m.torchButton.classList.remove(fi.TORCH_BUTTON_CLASS_TORCH_ON),m.torchButton.classList.add(fi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),a.appendChild(this.torchButton)},r.prototype.updateTorchCapability=function(a){this.torchController=new L2(a,this,this.onTorchActionFailureCallback)},r.prototype.getTorchButton=function(){return this.torchButton},r.prototype.hide=function(){this.torchButton.style.display="none"},r.prototype.show=function(){this.torchButton.style.display="inline-block"},r.prototype.disable=function(){this.torchButton.disabled=!0},r.prototype.enable=function(){this.torchButton.disabled=!1},r.prototype.setText=function(a){this.torchButton.innerText=a},r.prototype.reset=function(){this.torchButton.innerText=Ae.torchOnButton(),this.torchController.reset()},r.create=function(a,l,h,m){var p=new r(l,m);return p.render(a,h),p},r}(),wb=function(){function r(a,l,h){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=l?"block":"none",a.appendChild(this.fileBasedScanRegion);var m=document.createElement("label");m.setAttribute("for",this.getFileScanInputId()),m.style.display="inline-block",this.fileBasedScanRegion.appendChild(m),this.fileSelectionButton=Rr.createElement("button",fi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(S){m.click()}),m.append(this.fileSelectionButton),this.fileScanInput=Rr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",m.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(S){if(!(S==null||S.target==null)){var b=S.target;if(!(b.files&&b.files.length===0)){var C=b.files,v=C[0],I=v.name;p.setImageNameToButton(I),h(v)}}});var E=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(E),this.fileBasedScanRegion.addEventListener("dragenter",function(S){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),S.stopPropagation(),S.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(S){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),S.stopPropagation(),S.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(S){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),S.stopPropagation(),S.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(S){S.stopPropagation(),S.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var b=S.dataTransfer;if(b){var C=b.files;if(!C||C.length===0)return;for(var v=!1,I=0;I<C.length;++I){var L=C.item(I);if(L){var U=/image.*/;if(L.type.match(U)){v=!0;var z=L.name;p.setImageNameToButton(z),h(L),E.innerText=Ae.dragAndDropMessage();break}}}v||(E.innerText=Ae.dragAndDropMessageOnlyImages())}})}return r.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},r.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},r.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},r.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},r.prototype.createFileBasedScanRegion=function(){var a=document.createElement("div");return a.style.textAlign="center",a.style.margin="auto",a.style.width="80%",a.style.maxWidth="600px",a.style.border=this.fileBasedScanRegionDefaultBorder(),a.style.padding="10px",a.style.marginBottom="10px",a},r.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},r.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},r.prototype.createDragAndDropMessage=function(){var a=document.createElement("div");return a.innerText=Ae.dragAndDropMessage(),a.style.fontWeight="400",a},r.prototype.setImageNameToButton=function(a){var l=20;if(a.length>l){var h=a.substring(0,8),m=a.length,p=a.substring(m-8,m);a="".concat(h,"....").concat(p)}var E=Ae.fileSelectionChooseAnother()+" - "+a;this.fileSelectionButton.innerText=E},r.prototype.setInitialValueToButton=function(){var a=Ae.fileSelectionChooseImage()+" - "+Ae.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=a},r.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},r.create=function(a,l,h){var m=new r(a,l,h);return m},r}(),Eb=function(){function r(a){this.selectElement=Rr.createElement("select",fi.CAMERA_SELECTION_SELECT_ID),this.cameras=a,this.options=[]}return r.prototype.render=function(a){var l=document.createElement("span");l.style.marginRight="10px";var h=this.cameras.length;if(h===0)throw new Error("No cameras found");if(h===1)l.style.display="none";else{var m=Ae.selectCamera();l.innerText="".concat(m," (").concat(this.cameras.length,")  ")}for(var p=1,E=0,S=this.cameras;E<S.length;E++){var b=S[E],C=b.id,v=b.label==null?C:b.label;(!v||v==="")&&(v=[Ae.anonymousCameraPrefix(),p++].join(" "));var I=document.createElement("option");I.value=C,I.innerText=v,this.options.push(I),this.selectElement.appendChild(I)}l.appendChild(this.selectElement),a.appendChild(l)},r.prototype.disable=function(){this.selectElement.disabled=!0},r.prototype.isDisabled=function(){return this.selectElement.disabled===!0},r.prototype.enable=function(){this.selectElement.disabled=!1},r.prototype.getValue=function(){return this.selectElement.value},r.prototype.hasValue=function(a){for(var l=0,h=this.options;l<h.length;l++){var m=h[l];if(m.value===a)return!0}return!1},r.prototype.setValue=function(a){if(!this.hasValue(a))throw new Error("".concat(a," is not present in the camera list."));this.selectElement.value=a},r.prototype.hasSingleItem=function(){return this.cameras.length===1},r.prototype.numCameras=function(){return this.cameras.length},r.create=function(a,l){var h=new r(l);return h.render(a),h},r}(),Cb=function(){function r(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Rr.createElement("input",fi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return r.prototype.render=function(a,l){this.zoomElementContainer.style.display=l?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",a.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var h=Ae.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(h),this.rangeText.style.marginRight="10px";var m=this;this.rangeInput.addEventListener("input",function(){return m.onValueChange()}),this.rangeInput.addEventListener("change",function(){return m.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},r.prototype.onValueChange=function(){var a=Ae.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},r.prototype.setValues=function(a,l,h,m){this.rangeInput.min=a.toString(),this.rangeInput.max=l.toString(),this.rangeInput.step=m.toString(),this.rangeInput.value=h.toString(),this.onValueChange()},r.prototype.show=function(){this.zoomElementContainer.style.display="block"},r.prototype.hide=function(){this.zoomElementContainer.style.display="none"},r.prototype.setOnCameraZoomValueChangeCallback=function(a){this.onChangeCallback=a},r.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},r.create=function(a,l){var h=new r;return h.render(a,l),h},r}(),ci;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ci||(ci={}));function Sb(r){return{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}}function bb(r,a){return{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:a}}var Tb=function(){function r(a,l,h){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=a,this.config=this.createConfig(l),this.verbose=h===!0,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.scanTypeSelector=new ya(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Up(this.verbose),this.persistedDataManager=new db,l.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return r.prototype.render=function(a,l){var h=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,E){if(a)a(p,E);else{if(h.lastMatchFound===p)return;h.lastMatchFound=p,h.setHeaderMessage(Ae.lastMatch(p),ci.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,E){l&&l(p,E)};var m=document.getElementById(this.elementId);if(!m)throw"HTML Element with id=".concat(this.elementId," not found");m.innerHTML="",this.createBasicLayout(m),this.html5Qrcode=new O2(this.getScanRegionId(),bb(this.config,this.verbose))},r.prototype.pause=function(a){(ir(a)||a!==!0)&&(a=!1),this.getHtml5QrcodeOrFail().pause(a)},r.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},r.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},r.prototype.clear=function(){var a=this,l=function(){var h=document.getElementById(a.elementId);h&&(h.innerHTML="",a.resetBasicLayout(h))};return this.html5Qrcode?new Promise(function(h,m){if(!a.html5Qrcode){h();return}a.html5Qrcode.isScanning?a.html5Qrcode.stop().then(function(p){if(!a.html5Qrcode){h();return}a.html5Qrcode.clear(),l(),h()}).catch(function(p){a.verbose&&a.logger.logError("Unable to stop qrcode scanner",p),m(p)}):(a.html5Qrcode.clear(),l(),h())}):Promise.resolve()},r.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},r.prototype.applyVideoConstraints=function(a){return this.getHtml5QrcodeOrFail().applyVideoConstraints(a)},r.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},r.prototype.createConfig=function(a){return a?(a.fps||(a.fps=Pi.SCAN_DEFAULT_FPS),a.rememberLastUsedCamera!==!Pi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(a.rememberLastUsedCamera=Pi.DEFAULT_REMEMBER_LAST_CAMERA_USED),a.supportedScanTypes||(a.supportedScanTypes=Pi.DEFAULT_SUPPORTED_SCAN_TYPE),a):{fps:Pi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Pi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Pi.DEFAULT_SUPPORTED_SCAN_TYPE}},r.prototype.createBasicLayout=function(a){a.style.position="relative",a.style.padding="0px",a.style.border="1px solid silver",this.createHeader(a);var l=document.createElement("div"),h=this.getScanRegionId();l.id=h,l.style.width="100%",l.style.minHeight="100px",l.style.textAlign="center",a.appendChild(l),ya.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var m=document.createElement("div"),p=this.getDashboardId();m.id=p,m.style.width="100%",a.appendChild(m),this.setupInitialDashboard(m)},r.prototype.resetBasicLayout=function(a){a.style.border="none"},r.prototype.setupInitialDashboard=function(a){this.createSection(a),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},r.prototype.createHeader=function(a){var l=document.createElement("div");l.style.textAlign="left",l.style.margin="0px",a.appendChild(l);var h=new xb;h.renderInto(l);var m=document.createElement("div");m.id=this.getHeaderMessageContainerId(),m.style.display="none",m.style.textAlign="center",m.style.fontSize="14px",m.style.padding="2px 10px",m.style.margin="4px",m.style.borderTop="1px solid #f6f6f6",l.appendChild(m)},r.prototype.createSection=function(a){var l=document.createElement("div");l.id=this.getDashboardSectionId(),l.style.width="100%",l.style.padding="10px 0px 10px 0px",l.style.textAlign="left",a.appendChild(l)},r.prototype.createCameraListUi=function(a,l,h){var m=this;m.showHideScanTypeSwapLink(!1),m.setHeaderMessage(Ae.cameraPermissionRequesting());var p=function(){h||m.createPermissionButton(a,l)};O2.getCameras().then(function(E){m.persistedDataManager.setHasPermission(!0),m.showHideScanTypeSwapLink(!0),m.resetHeaderMessage(),E&&E.length>0?(a.removeChild(l),m.renderCameraSelection(E)):(m.setHeaderMessage(Ae.noCameraFound(),ci.STATUS_WARNING),p())}).catch(function(E){m.persistedDataManager.setHasPermission(!1),h?h.disabled=!1:p(),m.setHeaderMessage(E,ci.STATUS_WARNING),m.showHideScanTypeSwapLink(!0)})},r.prototype.createPermissionButton=function(a,l){var h=this,m=Rr.createElement("button",this.getCameraPermissionButtonId());m.innerText=Ae.cameraPermissionTitle(),m.addEventListener("click",function(){m.disabled=!0,h.createCameraListUi(a,l,m)}),l.appendChild(m)},r.prototype.createPermissionsUi=function(a,l){var h=this;if(ya.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){B2.hasPermissions().then(function(m){m?h.createCameraListUi(a,l):(h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(a,l))}).catch(function(m){h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(a,l)});return}this.createPermissionButton(a,l)},r.prototype.createSectionControlPanel=function(){var a=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");a.appendChild(l);var h=document.createElement("div");h.id=this.getDashboardSectionCameraScanRegionId(),h.style.display=ya.isCameraScanType(this.currentScanType)?"block":"none",l.appendChild(h);var m=document.createElement("div");m.style.textAlign="center",h.appendChild(m),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(h,m),this.renderFileScanUi(l)},r.prototype.renderFileScanUi=function(a){var l=ya.isFileScanType(this.currentScanType),h=this,m=function(p){if(!h.html5Qrcode)throw"html5Qrcode not defined";ya.isFileScanType(h.currentScanType)&&(h.setHeaderMessage(Ae.loadingImage()),h.html5Qrcode.scanFileV2(p,!0).then(function(E){h.resetHeaderMessage(),h.qrCodeSuccessCallback(E.decodedText,E)}).catch(function(E){h.setHeaderMessage(E,ci.STATUS_WARNING),h.qrCodeErrorCallback(E,Pp.createFrom(E))}))};this.fileSelectionUi=wb.create(a,l,m)},r.prototype.renderCameraSelection=function(a){var l=this,h=this,m=document.getElementById(this.getDashboardSectionCameraScanRegionId());m.style.textAlign="center";var p=Cb.create(m,!1),E=function(X){var H=X.zoomFeature();if(H.isSupported()){p.setOnCameraZoomValueChangeCallback(function(nt){H.apply(nt)});var j=1;l.config.defaultZoomValueIfSupported&&(j=l.config.defaultZoomValueIfSupported),j=zS(j,H.min(),H.max()),p.setValues(H.min(),H.max(),j,H.step()),p.show()}},S=Eb.create(m,a),b=document.createElement("span"),C=Rr.createElement("button",fi.CAMERA_START_BUTTON_ID);C.innerText=Ae.scanButtonStartScanningText(),b.appendChild(C);var v=Rr.createElement("button",fi.CAMERA_STOP_BUTTON_ID);v.innerText=Ae.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,b.appendChild(v);var I,L=function(X){if(!X.torchFeature().isSupported()){I&&I.hide();return}I?I.updateTorchCapability(X.torchFeature()):I=Ab.create(b,X.torchFeature(),{display:"none",marginLeft:"5px"},function(H){h.setHeaderMessage(H,ci.STATUS_WARNING)}),I.show()};m.appendChild(b);var U=function(X){X||(C.style.display="none"),C.innerText=Ae.scanButtonStartScanningText(),C.style.opacity="1",C.disabled=!1,X&&(C.style.display="inline-block")};if(C.addEventListener("click",function(X){C.innerText=Ae.scanButtonScanningStarting(),S.disable(),C.disabled=!0,C.style.opacity="0.5",l.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!1),h.resetHeaderMessage();var H=S.getValue();h.persistedDataManager.setLastUsedCameraId(H),h.html5Qrcode.start(H,Sb(h.config),h.qrCodeSuccessCallback,h.qrCodeErrorCallback).then(function(j){v.disabled=!1,v.style.display="inline-block",U(!1);var nt=h.html5Qrcode.getRunningTrackCameraCapabilities();l.config.showTorchButtonIfSupported===!0&&L(nt),l.config.showZoomSliderIfSupported===!0&&E(nt)}).catch(function(j){h.showHideScanTypeSwapLink(!0),S.enable(),U(!0),h.setHeaderMessage(j,ci.STATUS_WARNING)})}),S.hasSingleItem()&&C.click(),v.addEventListener("click",function(X){if(!h.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,h.html5Qrcode.stop().then(function(H){l.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!0),S.enable(),C.disabled=!1,v.style.display="none",C.style.display="inline-block",I&&(I.reset(),I.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),h.insertCameraScanImageToScanRegion()}).catch(function(H){v.disabled=!1,h.setHeaderMessage(H,ci.STATUS_WARNING)})}),h.persistedDataManager.getLastUsedCameraId()){var z=h.persistedDataManager.getLastUsedCameraId();S.hasValue(z)?(S.setValue(z),C.click()):h.persistedDataManager.resetLastUsedCameraId()}},r.prototype.createSectionSwap=function(){var a=this,l=Ae.textIfCameraScanSelected(),h=Ae.textIfFileScanSelected(),m=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var E=Rr.createElement("span",this.getDashboardSectionSwapLinkId());E.style.textDecoration="underline",E.style.cursor="pointer",E.innerText=ya.isCameraScanType(this.currentScanType)?l:h,E.addEventListener("click",function(){if(!a.sectionSwapAllowed){a.verbose&&a.logger.logError("Section swap called when not allowed");return}a.resetHeaderMessage(),a.fileSelectionUi.resetValue(),a.sectionSwapAllowed=!1,ya.isCameraScanType(a.currentScanType)?(a.clearScanRegion(),a.getCameraScanRegion().style.display="none",a.fileSelectionUi.show(),E.innerText=h,a.currentScanType=Ca.SCAN_TYPE_FILE,a.insertFileScanImageToScanRegion()):(a.clearScanRegion(),a.getCameraScanRegion().style.display="block",a.fileSelectionUi.hide(),E.innerText=l,a.currentScanType=Ca.SCAN_TYPE_CAMERA,a.insertCameraScanImageToScanRegion(),a.startCameraScanIfPermissionExistsOnSwap()),a.sectionSwapAllowed=!0}),p.appendChild(E),m.appendChild(p)},r.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var a=this,l=this;if(this.persistedDataManager.hasCameraPermissions()){B2.hasPermissions().then(function(h){if(h){var m=document.getElementById(l.getCameraPermissionButtonId());if(!m)throw a.logger.logError("Permission button not found, fail;"),"Permission button not found";m.click()}else l.persistedDataManager.setHasPermission(!1)}).catch(function(h){l.persistedDataManager.setHasPermission(!1)});return}},r.prototype.resetHeaderMessage=function(){var a=document.getElementById(this.getHeaderMessageContainerId());a.style.display="none"},r.prototype.setHeaderMessage=function(a,l){l||(l=ci.STATUS_DEFAULT);var h=this.getHeaderMessageDiv();switch(h.innerText=a,h.style.display="block",l){case ci.STATUS_SUCCESS:h.style.background="rgba(106, 175, 80, 0.26)",h.style.color="#477735";break;case ci.STATUS_WARNING:h.style.background="rgba(203, 36, 49, 0.14)",h.style.color="#cb2431";break;case ci.STATUS_DEFAULT:default:h.style.background="rgba(0, 0, 0, 0)",h.style.color="rgb(17, 17, 17)";break}},r.prototype.showHideScanTypeSwapLink=function(a){this.scanTypeSelector.hasMoreThanOneScanType()&&(a!==!0&&(a=!1),this.sectionSwapAllowed=a,this.getDashboardSectionSwapLink().style.display=a?"inline-block":"none")},r.prototype.insertCameraScanImageToScanRegion=function(){var a=this,l=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){l.innerHTML="<br>",l.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(h){l.innerHTML="<br>",l.appendChild(a.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=cb,this.cameraScanImage.alt=Ae.cameraScanAltText()},r.prototype.insertFileScanImageToScanRegion=function(){var a=this,l=document.getElementById(this.getScanRegionId());if(this.fileScanImage){l.innerHTML="<br>",l.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(h){l.innerHTML="<br>",l.appendChild(a.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=fb,this.fileScanImage.alt=Ae.fileScanAltText()},r.prototype.clearScanRegion=function(){var a=document.getElementById(this.getScanRegionId());a.innerHTML=""},r.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},r.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},r.prototype.getDashboardSectionSwapLinkId=function(){return fi.SCAN_TYPE_CHANGE_ANCHOR_ID},r.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},r.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},r.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},r.prototype.getCameraPermissionButtonId=function(){return fi.CAMERA_PERMISSION_BUTTON_ID},r.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},r.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},r.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},r}();const vb=()=>{const r=Dl(),[a,l]=W.useState(0),h=5;return W.useEffect(()=>{const m=new Tb("reader",{fps:10,qrbox:250});return m.render(p=>{m.clear(),l(E=>E+1),r(`/quiz/${p}`),a+1===h&&r("/celebration")},p=>{console.warn("QR Scan Error:",p)}),()=>{m.clear().catch(p=>console.error("Clear error:",p))}},[r,a]),Z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-yellow-100 p-4",children:Z.jsxs(Ui.div,{className:"w-full max-w-sm bg-white/20 backdrop-blur-lg rounded-2xl shadow-xl p-6 flex flex-col items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[Z.jsx(Ui.h1,{className:"text-xl font-bold text-green-800 mb-4 text-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:" Scan Your QR Clue"}),Z.jsx("div",{id:"reader",className:"w-full aspect-square bg-black rounded-lg overflow-hidden shadow-lg"}),Z.jsx("p",{className:"text-sm text-gray-800 mt-4 text-center",children:"Align the clue in view to scan and unlock your next challenge."}),Z.jsx("button",{onClick:()=>r("/"),className:"mt-5 px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:" Back to Home"})]})})},Nb=["stage1","stage2","stage3","stage4","stage5"];function Mb(){const[r,a]=W.useState("stage1"),[l,h]=W.useState(null),[m,p]=W.useState([]),[E,S]=W.useState(!1),b=Dl(),C=async H=>{S(!0);const j=yh(Js,"questions",H),nt=await m3(j);nt.exists()?h(nt.data()):h({questions:[{question:"",options:["","","",""],answer:""},{question:"",options:["","","",""],answer:""}],hint:""}),S(!1)},v=async()=>{const H=await j2(l0(Js,"teams")),j=[];H.forEach(nt=>{j.push({id:nt.id,...nt.data()})}),p(j)};W.useEffect(()=>{C(r),v()},[r]);const I=async()=>{await x3(yh(Js,"questions",r),l),alert(" Saved Successfully")},L=async H=>{window.confirm("Are you sure you want to delete this team?")&&(await p3(yh(Js,"teams",H)),v())},U=(H,j,nt)=>{const Y=[...l.questions];Y[H][j]=nt,h({...l,questions:Y})},z=(H,j,nt)=>{const Y=[...l.questions];Y[H].options[j]=nt,h({...l,questions:Y})},X=H=>{if(typeof H!="number"||isNaN(H))return"-";const j=Math.floor(H/60),nt=H%60;return`${j}m ${nt}s`};return Z.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[Z.jsx(Ol,{}),Z.jsxs("main",{className:"flex-1 p-6 max-w-6xl mx-auto w-full",children:[Z.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:" Admin Dashboard"}),Z.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-6",children:Nb.map(H=>Z.jsx("button",{onClick:()=>a(H),className:`px-4 py-2 rounded-lg font-medium ${H===r?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:H.toUpperCase()},H))}),E||!l?Z.jsx("p",{className:"text-center text-gray-500",children:"Loading stage..."}):Z.jsxs("div",{className:"space-y-6",children:[l.questions.map((H,j)=>Z.jsxs("div",{className:"p-5 bg-white rounded-2xl shadow space-y-3 border",children:[Z.jsxs("h2",{className:"font-semibold text-lg text-blue-800",children:["Question ",j+1]}),Z.jsx("input",{className:"w-full p-2 border rounded",value:H.question,onChange:nt=>U(j,"question",nt.target.value),placeholder:"Question"}),H.options.map((nt,Y)=>Z.jsx("input",{className:"w-full p-2 border rounded",value:nt,onChange:xt=>z(j,Y,xt.target.value),placeholder:`Option ${Y+1}`},Y)),Z.jsx("input",{className:"w-full p-2 border rounded",value:H.answer,onChange:nt=>U(j,"answer",nt.target.value),placeholder:"Correct Answer"})]},j)),Z.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow border",children:[Z.jsx("h2",{className:"font-semibold text-lg text-green-700",children:"Hint for Next QR"}),Z.jsx("input",{className:"w-full p-2 border rounded",value:l.hint,onChange:H=>h({...l,hint:H.target.value}),placeholder:"Hint for next QR"})]}),Z.jsx("button",{onClick:I,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-200",children:" Save Changes"})]}),Z.jsx("h2",{className:"text-2xl font-bold mt-12 mb-4 text-center text-green-800",children:" Leaderboard (Admin Access)"}),Z.jsx("div",{className:"overflow-x-auto bg-white shadow-xl rounded-xl",children:Z.jsxs("table",{className:"min-w-full table-auto",children:[Z.jsx("thead",{className:"bg-green-600 text-white",children:Z.jsxs("tr",{children:[Z.jsx("th",{className:"py-3 px-4 text-left",children:"#"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Team"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Players"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Score"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Time"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),Z.jsx("tbody",{children:m.map((H,j)=>Z.jsxs("tr",{className:j%2===0?"bg-green-50":"bg-white",children:[Z.jsx("td",{className:"py-3 px-4",children:j+1}),Z.jsx("td",{className:"py-3 px-4 font-bold text-green-700",children:H.teamName}),Z.jsxs("td",{className:"py-3 px-4",children:[H.player1," & ",H.player2]}),Z.jsx("td",{className:"py-3 px-4 font-semibold",children:H.score}),Z.jsx("td",{className:"py-3 px-4",children:X(H.timeTaken)}),Z.jsx("td",{className:"py-3 px-4",children:Z.jsx("button",{onClick:()=>L(H.id),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700",children:" Delete"})})]},H.id))})]})}),Z.jsx("div",{className:"text-center mt-10",children:Z.jsx("button",{onClick:()=>b("/"),className:"px-6 py-3 bg-green-800 text-white rounded-xl hover:bg-green-900",children:" Back to Home"})})]}),Z.jsx(ro,{})]})}function Db(){const[r,a]=W.useState(""),l=Dl(),h=()=>{r==="admin123"?l("/admin"):alert("Wrong password ")};return Z.jsx("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gradient-to-r from-green-100 to-blue-100 px-4",children:Z.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl w-full max-w-md space-y-4",children:[Z.jsx("h2",{className:"text-2xl font-bold text-center",children:" Admin Login"}),Z.jsx("input",{type:"password",className:"w-full p-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"Enter Admin Password",value:r,onChange:m=>a(m.target.value)}),Z.jsx("button",{onClick:h,className:"w-full bg-green-600 text-white p-3 rounded-xl hover:bg-green-700 transition-all",children:"Login"})]})})}const Ib=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),jp=r=>Array.isArray(r)&&r.every(a=>typeof a=="object"&&!(a instanceof Array)),Ob=r=>Array.isArray(r)&&r.every(a=>Array.isArray(a)),Rb=r=>Array.from(r.map(a=>Object.keys(a)).reduce((a,l)=>new Set([...a,...l]),[])),_b=(r,a)=>{a=a||Rb(r);let l=a,h=a;jp(a)&&(l=a.map(p=>p.label),h=a.map(p=>p.key));const m=r.map(p=>h.map(E=>Bb(E,p)));return[l,...m]},Bb=(r,a)=>{const l=r.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(h,m,p,E){const S=h[m];if(S==null)E.splice(1);else return S},a);return l===void 0?r in a?a[r]:"":l},Lb=r=>typeof r>"u"||r===null?"":r,Hp=(r,a=",",l='"')=>r.filter(h=>h).map(h=>h.map(m=>Lb(m)).map(m=>`${l}${m}${l}`).join(a)).join(`
`),Pb=(r,a,l,h)=>Hp(a?[a,...r]:r,l,h),Ub=(r,a,l,h)=>Hp(_b(r,a),l,h),kb=(r,a,l,h)=>a?`${a.join(l)}
${r}`:r.replace(/"/g,'""'),Gp=(r,a,l,h)=>{if(jp(r))return Ub(r,a,l,h);if(Ob(r))return Pb(r,a,l,h);if(typeof r=="string")return kb(r,a,l);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},Yp=(r,a,l,h,m)=>{const p=Gp(r,l,h,m),E=Ib()?"application/csv":"text/csv",S=new Blob([a?"\uFEFF":"",p],{type:E}),b=`data:${E};charset=utf-8,${a?"\uFEFF":""}${p}`,C=window.URL||window.webkitURL;return typeof C.createObjectURL>"u"?b:C.createObjectURL(S)};var Uh={exports:{}},kh,P2;function Fb(){if(P2)return kh;P2=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kh=r,kh}var Fh,U2;function Vb(){if(U2)return Fh;U2=1;var r=Fb();function a(){}function l(){}return l.resetWarningCache=a,Fh=function(){function h(E,S,b,C,v,I){if(I!==r){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}h.isRequired=h;function m(){return h}var p={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:m,element:h,elementType:h,instanceOf:m,node:h,objectOf:m,oneOf:m,oneOfType:m,shape:m,exact:m,checkPropTypes:l,resetWarningCache:a};return p.PropTypes=p,p},Fh}var k2;function zb(){return k2||(k2=1,Uh.exports=Vb()()),Uh.exports}var bi=zb();const Xp={data:bi.oneOfType([bi.string,bi.array,bi.func]).isRequired,headers:bi.array,target:bi.string,separator:bi.string,filename:bi.string,uFEFF:bi.bool,onClick:bi.func,asyncOnClick:bi.bool,enclosingCharacter:bi.string},Zp={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},jb={target:"_blank"};class F2 extends _r.Component{constructor(a){super(a),this.state={}}buildURI(){return Yp(...arguments)}componentDidMount(){const{data:a,headers:l,separator:h,enclosingCharacter:m,uFEFF:p,target:E,specs:S,replace:b}=this.props;this.state.page=window.open(this.buildURI(a,p,l,h,m),E,S,b)}getWindow(){return this.state.page}render(){return null}}rl(F2,"defaultProps",Object.assign(Zp,jb)),rl(F2,"propTypes",Xp);var Ju;let Hb=(Ju=class extends _r.Component{constructor(a){super(a),this.buildURI=this.buildURI.bind(this)}buildURI(){return Yp(...arguments)}handleLegacy(a,l=!1){if(window.navigator.msSaveOrOpenBlob){a.preventDefault();const{data:h,headers:m,separator:p,filename:E,enclosingCharacter:S,uFEFF:b}=this.props,C=l&&typeof h=="function"?h():h;let v=new Blob([b?"\uFEFF":"",Gp(C,m,p,S)]);return window.navigator.msSaveBlob(v,E),!1}}handleAsyncClick(a){const l=h=>{if(h===!1){a.preventDefault();return}this.handleLegacy(a,!0)};this.props.onClick(a,l)}handleSyncClick(a){if(this.props.onClick(a)===!1){a.preventDefault();return}this.handleLegacy(a)}handleClick(){return a=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(a):this.handleSyncClick(a);this.handleLegacy(a)}}render(){const{data:a,headers:l,separator:h,filename:m,uFEFF:p,children:E,onClick:S,asyncOnClick:b,enclosingCharacter:C,...v}=this.props,L=typeof window>"u"?"":this.buildURI(a,p,l,h,C);return Z.jsx("a",{download:m,...v,ref:U=>this.link=U,target:"_self",href:L,onClick:this.handleClick(),children:E})}},rl(Ju,"defaultProps",Zp),rl(Ju,"propTypes",Xp),Ju);const Gb=Hb,Yb=()=>{const[r,a]=W.useState([]),[l,h]=W.useState(""),[m,p]=W.useState([]);W.useEffect(()=>{(async()=>{const b=await j2(l0(Js,"teams")),C=[];b.forEach(v=>{C.push({id:v.id,...v.data()})}),C.sort((v,I)=>I.score-v.score||v.timeTaken-I.timeTaken),a(C),p(C)})()},[]),W.useEffect(()=>{const S=r.filter(b=>b.teamName.toLowerCase().includes(l.toLowerCase())||b.player1.toLowerCase().includes(l.toLowerCase())||b.player2.toLowerCase().includes(l.toLowerCase()));p(S)},[l,r]);const E=S=>{if(isNaN(S))return"N/A";const b=Math.floor(S/60),C=S%60;return`${b}m ${C}s`};return Z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-100 to-white flex flex-col",children:[Z.jsx(Ol,{}),Z.jsxs("main",{className:"flex-1 p-6 max-w-4xl mx-auto w-full",children:[Z.jsx("h1",{className:"text-3xl font-bold text-center text-green-700 mb-8",children:" Leaderboard"}),Z.jsx("div",{className:"flex justify-center mb-6",children:Z.jsx("input",{type:"text",className:"p-3 w-full sm:w-1/2 border border-green-600 rounded-xl",placeholder:"Search by team name or player",value:l,onChange:S=>h(S.target.value)})}),Z.jsx("div",{className:"flex justify-center mb-6",children:Z.jsx(Gb,{data:m,filename:"leaderboard.csv",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-semibold shadow-md",children:"Export CSV"})}),Z.jsx("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden",children:Z.jsxs("table",{className:"min-w-full table-auto",children:[Z.jsx("thead",{className:"bg-green-600 text-white",children:Z.jsxs("tr",{children:[Z.jsx("th",{className:"py-3 px-4 text-left",children:"#"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Team"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Players"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Score"}),Z.jsx("th",{className:"py-3 px-4 text-left",children:"Time"})]})}),Z.jsx("tbody",{children:m.map((S,b)=>Z.jsxs("tr",{className:b%2===0?"bg-green-50":"bg-white",children:[Z.jsx("td",{className:"py-3 px-4",children:b+1}),Z.jsx("td",{className:"py-3 px-4 font-bold text-green-700",children:S.teamName}),Z.jsxs("td",{className:"py-3 px-4",children:[S.player1," & ",S.player2]}),Z.jsxs("td",{className:"py-3 px-4 font-semibold",children:[S.score,"/20"]}),Z.jsx("td",{className:"py-3 px-4",children:E(S.timeTaken)})]},S.id))})]})})]}),Z.jsx(ro,{})]})},Xb=()=>Z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-100 to-white flex flex-col",children:[Z.jsx(Ol,{}),Z.jsxs("main",{className:"flex-1 p-6 max-w-4xl mx-auto w-full",children:[Z.jsx("h1",{className:"text-3xl font-bold text-center text-green-700 mb-8",children:"How to Play"}),Z.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-lg mb-6",children:[Z.jsx("h2",{className:"text-2xl font-semibold text-green-700",children:"Step 1: Register Your Team"}),Z.jsx("p",{className:"text-lg text-gray-700",children:"Start by registering your team on the homepage. Each team should have 2 players to participate."})]}),Z.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-lg mb-6",children:[Z.jsx("h2",{className:"text-2xl font-semibold text-green-700",children:"Step 2: Scan QR Codes"}),Z.jsx("p",{className:"text-lg text-gray-700",children:"Explore the campus and look for hidden QR codes. Scan these codes to unlock new challenges and questions."})]}),Z.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-lg mb-6",children:[Z.jsx("h2",{className:"text-2xl font-semibold text-green-700",children:"Step 3: Solve the Challenges"}),Z.jsx("p",{className:"text-lg text-gray-700",children:"Answer 2 fun questions at each stage. Correct answers will help you advance to the next stage."})]}),Z.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-lg mb-6",children:[Z.jsx("h2",{className:"text-2xl font-semibold text-green-700",children:"Step 4: Finish Fast!"}),Z.jsx("p",{className:"text-lg text-gray-700",children:"The team that completes all the stages first wins the game. Keep an eye on the time!"})]})]}),Z.jsx(ro,{})]}),Zb=()=>Z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-100 to-white flex flex-col",children:[Z.jsx(Ol,{}),Z.jsx("main",{className:"flex-1 p-6 max-w-4xl mx-auto w-full",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("h1",{className:"text-4xl font-bold text-green-700 mb-4",children:" Congratulations!"}),Z.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"You have successfully completed all the stages of the EcoQuest! "}),Z.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Thank you for playing, and remember, you're contributing to a more sustainable future."}),Z.jsx("p",{className:"text-2xl text-green-800 font-semibold",children:"Your Team is the Hero! "})]})}),Z.jsx(ro,{})]});function qb(){return Z.jsx(FA,{children:Z.jsxs(mA,{children:[Z.jsx(Or,{path:"/",element:Z.jsx(BS,{})}),Z.jsx(Or,{path:"/register",element:Z.jsx(FS,{})}),Z.jsx(Or,{path:"/scan",element:Z.jsx(vb,{})}),Z.jsx(Or,{path:"/admin",element:Z.jsx(Mb,{})}),Z.jsx(Or,{path:"/admin-login",element:Z.jsx(Db,{})}),Z.jsx(Or,{path:"/leaderboard",element:Z.jsx(Yb,{})}),Z.jsx(Or,{path:"/how-to-play",element:Z.jsx(Xb,{})}),Z.jsx(Or,{path:"/celebration",element:Z.jsx(Zb,{})})]})})}T3.createRoot(document.getElementById("root")).render(Z.jsx(W.StrictMode,{children:Z.jsx(qb,{})}));
